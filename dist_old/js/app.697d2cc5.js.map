{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9b05","webpack:///./src/components/users/add.vue?f862","webpack:///./src/App.vue?e526","webpack:///./src/components/request/page.vue?07fe","webpack:///./src/components/request/add.vue?6321","webpack:///src/components/request/add.vue","webpack:///./src/components/request/add.vue?e5d8","webpack:///./src/components/request/add.vue","webpack:///./src/components/request/addByExist.vue?a41e","webpack:///src/components/request/addByExist.vue","webpack:///./src/components/request/addByExist.vue?12e8","webpack:///./src/components/request/addByExist.vue","webpack:///./src/components/request/list.vue?d048","webpack:///src/components/request/list.vue","webpack:///./src/components/request/list.vue?dc3e","webpack:///./src/components/request/list.vue","webpack:///./src/components/request/edit.vue?7d1e","webpack:///src/components/request/edit.vue","webpack:///./src/components/request/edit.vue?4690","webpack:///./src/components/request/edit.vue","webpack:///./src/components/request/detail.vue?f555","webpack:///./src/components/request/detail/show.vue?bd46","webpack:///./src/components/request/detail/showInfo.vue?0b8a","webpack:///src/components/request/detail/showInfo.vue","webpack:///./src/components/request/detail/showInfo.vue?722c","webpack:///./src/components/request/detail/showInfo.vue","webpack:///src/components/request/detail/show.vue","webpack:///./src/components/request/detail/show.vue?0eb2","webpack:///./src/components/request/detail/show.vue","webpack:///./src/components/request/detail/business.vue?a2fe","webpack:///./src/components/request/detail/approve/add.vue?1028","webpack:///src/components/request/detail/approve/add.vue","webpack:///./src/components/request/detail/approve/add.vue?2a7a","webpack:///./src/components/request/detail/approve/add.vue","webpack:///./src/components/request/detail/approve/pending.vue?3932","webpack:///src/components/request/detail/approve/pending.vue","webpack:///./src/components/request/detail/approve/pending.vue?7d29","webpack:///./src/components/request/detail/approve/pending.vue","webpack:///src/components/request/detail/business.vue","webpack:///./src/components/request/detail/business.vue?4835","webpack:///./src/components/request/detail/business.vue","webpack:///./src/components/request/detail/comments.vue?f177","webpack:///src/components/request/detail/comments.vue","webpack:///./src/components/request/detail/comments.vue?a42e","webpack:///./src/components/request/detail/comments.vue","webpack:///./src/components/request/detail/history.vue?ed49","webpack:///src/components/request/detail/history.vue","webpack:///./src/components/request/detail/history.vue?a51a","webpack:///./src/components/request/detail/history.vue","webpack:///src/components/request/detail.vue","webpack:///./src/components/request/detail.vue?987c","webpack:///./src/components/request/detail.vue","webpack:///src/components/request/page.vue","webpack:///./src/components/request/page.vue?5d82","webpack:///./src/components/request/page.vue","webpack:///./src/components/document/page.vue?4e9e","webpack:///./src/components/document/list.vue?b958","webpack:///src/components/document/list.vue","webpack:///./src/components/document/list.vue?db21","webpack:///./src/components/document/list.vue","webpack:///./src/components/document/detail.vue?209d","webpack:///./src/components/document/detail/show.vue?dfab","webpack:///src/components/document/detail/show.vue","webpack:///./src/components/document/detail/show.vue?8492","webpack:///./src/components/document/detail/show.vue","webpack:///src/components/document/detail.vue","webpack:///./src/components/document/detail.vue?982c","webpack:///./src/components/document/detail.vue","webpack:///src/components/document/page.vue","webpack:///./src/components/document/page.vue?d61e","webpack:///./src/components/document/page.vue","webpack:///./src/components/function/page.vue?429f","webpack:///./src/components/function/list.vue?70dd","webpack:///src/components/function/list.vue","webpack:///./src/components/function/list.vue?505b","webpack:///./src/components/function/list.vue","webpack:///./src/components/function/add.vue?59bb","webpack:///src/components/function/add.vue","webpack:///./src/components/function/add.vue?9ba7","webpack:///./src/components/function/add.vue","webpack:///./src/components/function/edit.vue?0265","webpack:///src/components/function/edit.vue","webpack:///./src/components/function/edit.vue?2935","webpack:///./src/components/function/edit.vue","webpack:///src/components/function/page.vue","webpack:///./src/components/function/page.vue?9fb2","webpack:///./src/components/function/page.vue","webpack:///./src/components/users/page.vue?d21b","webpack:///./src/components/users/list.vue?6108","webpack:///src/components/users/list.vue","webpack:///./src/components/users/list.vue?c9ba","webpack:///./src/components/users/list.vue","webpack:///./src/components/users/add.vue?f845","webpack:///src/components/users/add.vue","webpack:///./src/components/users/add.vue?6b8a","webpack:///./src/components/users/add.vue","webpack:///./src/components/users/connect.vue?4b8a","webpack:///src/components/users/connect.vue","webpack:///./src/components/users/connect.vue?26b8","webpack:///./src/components/users/connect.vue","webpack:///src/components/users/page.vue","webpack:///./src/components/users/page.vue?6eef","webpack:///./src/components/users/page.vue","webpack:///./src/components/access/page.vue?f517","webpack:///./src/components/access/add.vue?250a","webpack:///src/components/access/add.vue","webpack:///./src/components/access/add.vue?5da6","webpack:///./src/components/access/add.vue","webpack:///./src/components/access/list.vue?8a3e","webpack:///src/components/access/list.vue","webpack:///./src/components/access/list.vue?3057","webpack:///./src/components/access/list.vue","webpack:///src/components/access/page.vue","webpack:///./src/components/access/page.vue?9e7f","webpack:///./src/components/access/page.vue","webpack:///./src/components/storage.vue?c26e","webpack:///src/components/storage.vue","webpack:///./src/components/storage.vue?6dee","webpack:///./src/components/storage.vue","webpack:///./src/components/exchange/page.vue?f310","webpack:///./src/components/exchange/add.vue?32da","webpack:///src/components/exchange/add.vue","webpack:///./src/components/exchange/add.vue?1d5f","webpack:///./src/components/exchange/add.vue","webpack:///./src/components/exchange/list.vue?31ff","webpack:///src/components/exchange/list.vue","webpack:///./src/components/exchange/list.vue?0b0c","webpack:///./src/components/exchange/list.vue","webpack:///./src/components/exchange/edit.vue?5bb9","webpack:///src/components/exchange/edit.vue","webpack:///./src/components/exchange/edit.vue?fc3c","webpack:///./src/components/exchange/edit.vue","webpack:///src/components/exchange/page.vue","webpack:///./src/components/exchange/page.vue?9e2d","webpack:///./src/components/exchange/page.vue","webpack:///src/App.vue","webpack:///./src/App.vue?8b47","webpack:///./src/App.vue","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/components/function/edit.vue?7316","webpack:///./src/components/users/connect.vue?b954","webpack:///./src/components/function/add.vue?2ca5","webpack:///./src/components/access/add.vue?b84b","webpack:///./src/components/request/detail/approve/pending.vue?5fc7"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","$store","getters","component","attrs","page","on","setActiveMenu","_l","item","_v","_s","addLang","staticClass","$event","commit","_e","tag","style","error","message","type","header","description","scopedSlots","_u","fn","domProps","text","proxy","staticRenderFns","directives","rawName","expression","preventDefault","model","queryData","callback","$$v","$set","label","class","errors","documentType","ref","company","searchGiveCompany","loading","clearSelectSearch","whoReceiveChange","whoReceive","users","searchReceiveUser","searchReceiveCompany","isMultipleUser","dateStart","date","firstDayOfWeek","dateFinal","functions","width","$refs","selectFunction","$el","offsetWidth","whiteSpace","height","mouseOnFunctionOptions","saveForm","functionsDetail","note","show","usersSelected","companySelected","comment","file","isFile","computed","set","queryTypeDocument","queryType","methods","e","isShow","$nextTick","menu","document","querySelector","clientClick","y","clientY","maxWidth","position","left","getBoundingClientRect","top","commentCol","clientHeight","uploadCol","query","search","async","url","obj","dispatch","q","status","forEach","el","notExists","getData","user","map","id","Date","toLocaleDateString","upload","uploadFiles","keys","FormData","append","raw","Array","watch","setTimeout","indexOf","arr","newValue","oldValue","old","toBack","arguments","queryTypeChange","queryTypeDocumentChange","file_exists","fileChange","fileRemove","oldDocumentTypeValue","file_save","requestId","previousPage","$forceUpdate","receiver","currentUsers","dateStartlOld","date_start","split","reverse","join","secondStartOld","getTime","dateFinalOld","date_final","secondFinalOld","delta","secondStartNew","secondFinalNew","dateStartNew","dateFinalNew","document_type","files","getPersonalData","fileList","filter","uid","getSaveData","arg","grid","usersIndividual","multiple","usersEntity","option","needApprove","needAction","creator","created_at","responsible","responsible_date","statusList","signature","company_id","focus","sort","order","profiles","showProfiles","filterData","clear","context","function","row","$confirm","then","catch","pagination","defaultSize","sizes","changeSize","$grid","changePage","child","contentSort","elements","gridReady","charters","count","paginationSize","paginationPage","setShowValue","idx","newData","setHeaderParams","params","headerParams","JSON","stringify","action","parse","vicariousLoadFile","fileName","downloadRequest","blob","URL","createObjectURL","link","createElement","href","download","click","revokeObjectURL","initGrid","documentId","documentName","isRoot","staticStyle","document_name","document_id","updateStatus","getEditData","requestStatus","isManageRequest","gen_document","goToDocument","reject","addByExist","isCreator","isResponsible","notPossibleEdit","editRequest","isDeleteRejected","notPossibleDelete","deleteRequest","performRequest","rejectRequest","_m","cancelRejectRequest","confirmRejectRequest","table_1","props","table_2","components","ShowInfo","requestState","genDocument","userId","user_id","request_status","en","rus","scrollTo","first_result","solution","reason","storage","document_project","project_files","date_cancel","who_cancel","label_1","value_1","label_2","value_2","usersToShow","department","org","returnToWork","returnToCreated","isApproving","project_file","storageName","getDocument","toSignature","saveStorage","documentStorage","completedRequest","backToShow","cancelApprove","searchApprover","addApprover","approver","showTable","scope","removeApprover","$index","sendToApprove","approverFromSearch","index","clearFiles","currentApproverId","requestDecision","currentApproverKey","request_id","firstNull","decision","Add","Pending","emits","storages","storageId","projectFile","$emit","uploadProject","msg","changeSignature","match","doc_id","typeFile","uploadScan","document_project_id","document_start","document_final","queryStatusDocument","date_update","modification","who_change","new_value","previous_value","Show","Business","Comments","History","business","comments","history","AddByExist","List","Edit","Detail","storage_id","showAll","showDocument","department_child","individuals","detail","created","scan_id","documentStatus","goToRequest","isForSignature","isActive","saveFunction","noCancelDocument","confirmCancelDocument","upLoadScan","cancelDocument","function_type","active","formData","setFormData","isValid","_n","componentParams","event","charter","deleteRole","mokRole","notDelete","role","role_id","searchUser","connect","addNewUser","removeUser","addNewCharter","removeCharter","getSyncData","setSyncUser","setSyncCharter","Connect","typeSelected","charterToSent","custom","userSelected","searchCompany","searchDepartment","departmentSelected","deleteCharter","mokCharter","charter_id","addNewStorage","removeStorage","mokStorage","editExchange","removeExchange","exchangeId","edit","documentPage","requestPage","functionPage","usersPage","accessPage","storagePage","exchangePage","isToken","request","access","exchange","_userId","_token","token","manageMenu","initData","use","Store","actions","ctx","body","fetch","domain","method","headers","json","normalFilter","min","Number","mutations","v","creatorId","responsibleId","state","location","origin","char","config","productionTip","$eventBus","directive","binding","$on","$off","store","h","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,GAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,W,oFCAA,W,oFCAIyC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAW,QAAEI,EAAG,MAAM,CAAmC,SAAjCJ,EAAIM,OAAOC,QAAQC,UAAuBJ,EAAG,UAAU,CAACK,MAAM,CAAC,iBAAiBT,EAAIU,KAAK,KAAO,cAAcC,GAAG,CAAC,OAASX,EAAIY,gBAAgB,CAACZ,EAAIa,GAAIb,EAAQ,MAAE,SAASc,EAAKzB,GAAK,OAAOe,EAAG,eAAe,CAACf,IAAIA,EAAIoB,MAAM,CAAC,MAAQpB,IAAM,CAACW,EAAIe,GAAGf,EAAIgB,GAAGF,SAAYd,EAAIU,QAAQV,EAAIiB,QAASb,EAAG,eAAe,CAACc,YAAY,qBAAqBP,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOnB,EAAIM,OAAOc,OAAO,eAAe,UAAU,CAAChB,EAAG,YAAY,CAACc,YAAY,6BAA6B,CAAClB,EAAIe,GAAG,aAAaf,EAAIgB,GAAGhB,EAAIiB,QAAQjB,EAAIU,OAAO,QAAQ,GAAGV,EAAIqB,MAAM,GAAGrB,EAAIqB,KAAKjB,EAAGJ,EAAIU,KAAO,OAAO,CAACY,IAAI,eAAe,GAAGlB,EAAG,eAAe,CAACc,YAAY,gBAAgB,CAACd,EAAG,WAAW,CAACmB,MAAOvB,EAAIwB,MAAQ,4BAA8B,4BAA6Bf,MAAM,CAAC,MAAQ,UAAUL,EAAG,UAAU,CAACA,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIwB,MAAQxB,EAAIwB,MAAQ,0CAA0C,GAAI,SAAUxB,EAAIM,OAAOC,QAAQkB,QAASrB,EAAG,MAAM,CAACc,YAAY,qBAAqB,CAACd,EAAG,WAAW,CAACK,MAAM,CAAC,KAAOT,EAAIM,OAAOC,QAAQkB,QAAQC,KAAK,YAAY,GAAG,MAAQ1B,EAAIM,OAAOC,QAAQkB,QAAQE,OAAO,YAAc3B,EAAIM,OAAOC,QAAQkB,QAAQG,aAAajB,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOnB,EAAIM,OAAOc,OAAO,aAAa,MAAMS,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,WAAW,MAAO,CAAC3B,EAAG,OAAO,CAAC4B,SAAS,CAAC,UAAYhC,EAAIgB,GAAGhB,EAAIM,OAAOC,QAAQkB,QAAQQ,WAAWC,OAAM,IAAO,MAAK,EAAM,eAAe,GAAGlC,EAAIqB,MAAM,IACl/Cc,EAAkB,GCDlB,EAAS,WAAa,IAAInC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAGJ,EAAIQ,UAAU,CAACc,IAAI,eAAe,IAC3I,EAAkB,GCDlB,EAAS,WAAa,IAAItB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,OAAO,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASQ,GAAgC,OAAxBA,EAAOoB,iBAAwBvC,EAAIM,OAAOc,OAAO,eAAe,WAAW,CAACpB,EAAIe,GAAG,0BAA0BX,EAAG,UAAU,CAACc,YAAY,qBAAqB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,2BAA2BX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,YAAY,CAACK,MAAM,CAAC,YAAc,cAAc+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAc,KAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,OAAQE,IAAML,WAAW,mBAAmBtC,EAAIa,GAAIb,EAAa,WAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,IAAI,GAAGqB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,sBAAsBX,EAAG,YAAY,CAAC0C,MAAM9C,EAAI+C,OAAOC,aAAe,UAAY,GAAGvC,MAAM,CAAC,YAAc,oBAAoB+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAsB,aAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,eAAgBE,IAAML,WAAW,2BAA2BtC,EAAIa,GAAIb,EAAqB,mBAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAIiB,EAAI+C,OAAmB,aAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOC,iBAAiBhD,EAAIqB,MAAM,IAAI,GAAGjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,wCAAwCX,EAAG,YAAY,CAAC6C,IAAI,iBAAiBH,MAAM9C,EAAI+C,OAAOG,QAAU,UAAY,GAAGzC,MAAM,CAAC,WAAa,GAAG,OAAS,GAAG,kBAAkB,GAAG,YAAc,sBAAsB,gBAAgBT,EAAImD,kBAAkB,QAAUnD,EAAIoD,QAAQ,SAAiC,YAAtBpD,EAAIyC,UAAUf,MAAoBf,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOnB,EAAIqD,kBAAkB,oBAAoBb,MAAM,CAACzD,MAAOiB,EAAIyC,UAAiB,QAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,UAAWE,IAAML,WAAW,sBAAsBtC,EAAIa,GAAIb,EAAW,SAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAIiB,EAAI+C,OAAc,QAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOG,YAAYlD,EAAIqB,MAAM,IAAI,GAAGjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,+BAA+BX,EAAG,iBAAiB,CAACK,MAAM,CAAC,KAAO,WAAWE,GAAG,CAAC,OAASX,EAAIsD,kBAAkBd,MAAM,CAACzD,MAAOiB,EAAc,WAAE0C,SAAS,SAAUC,GAAM3C,EAAIuD,WAAWZ,GAAKL,WAAW,eAAe,CAAClC,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,kBAAkBL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,cAAc,SAAiC,YAAtBT,EAAIyC,UAAUf,SAAuB,IAAI,GAAGtB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAoB,iBAAjBhB,EAAIuD,WAA8B,wBAA0B,2BAA2BnD,EAAG,YAAY,CAAC6C,IAAI,cAAcH,MAAM9C,EAAI+C,OAAOS,MAAQ,UAAY,GAAG/C,MAAM,CAAC,WAAa,GAAG,OAAS,GAAG,kBAAkB,GAAG,YAA+B,iBAAjBT,EAAIuD,WAA+B,cAAgB,sBAAsB,gBAAiC,iBAAjBvD,EAAIuD,WAA8BvD,EAAIyD,kBAAoBzD,EAAI0D,qBAAqB,QAAU1D,EAAIoD,QAAQ,SAAiC,YAAtBpD,EAAIyC,UAAUf,KAAmB,SAAW1B,EAAI2D,gBAAgBhD,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOnB,EAAIqD,kBAAkB,iBAAiBb,MAAM,CAACzD,MAAOiB,EAAIyC,UAAe,MAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,QAASE,IAAML,WAAW,oBAAoBtC,EAAIa,GAAIb,EAAS,OAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAIiB,EAAI+C,OAAY,MAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOS,UAAUxD,EAAIqB,MAAM,IAAI,GAAGjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,+BAA+BX,EAAG,iBAAiB,CAAC0C,MAAM9C,EAAI+C,OAAOa,WAAa5D,EAAI+C,OAAOc,KAAQ,UAAY,GAAGpD,MAAM,CAAC,iBAAiB,CAAEqD,eAAgB,GAAI,KAAO,OAAO,OAAS,aAAa,eAAe,aAAa,YAAc,6BAA6BtB,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,yBAA0BtC,EAAI+C,OAAW,KAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOc,SAAS7D,EAAIqB,KAAMrB,EAAI+C,OAAgB,UAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOa,cAAc5D,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,QAAQA,EAAG,iBAAiB,CAAC0C,MAAM9C,EAAI+C,OAAOgB,WAAa/D,EAAI+C,OAAOc,KAAO,UAAY,GAAGpD,MAAM,CAAC,iBAAiB,CAAEqD,eAAgB,GAAI,KAAO,OAAO,OAAS,aAAa,eAAe,aAAa,YAAc,gCAAgCtB,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,yBAA0BtC,EAAI+C,OAAgB,UAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOgB,cAAc/D,EAAIqB,MAAM,IAAI,GAAGjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,YAAY,CAAC6C,IAAI,iBAAiBH,MAAM9C,EAAI+C,OAAOiB,UAAY,UAAY,GAAGvD,MAAM,CAAC,YAAc,aAAa,SAAW,IAAI+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,wBAAwBtC,EAAIa,GAAIb,EAAa,WAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAMwC,MAAM,CAAE0C,MAAOjE,EAAIkE,MAAMC,eAAeC,IAAIC,YAAc,GAAI,KAAMC,WAAY,SAAUC,OAAQ,QAAS9D,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,QAAQ,CAACqB,EAAG,MAAM,CAACO,GAAG,CAAC,UAAY,SAASQ,GAAQ,OAAOnB,EAAIwE,uBAAuBrD,GAAO,EAAML,IAAO,SAAW,SAASK,GAAQ,OAAOnB,EAAIwE,uBAAuBrD,GAAQ,EAAO,OAAO,CAACnB,EAAIe,GAAG,IAAIf,EAAIgB,GAAGF,EAAK+B,OAAO,YAAW,GAAI7C,EAAI+C,OAAgB,UAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOiB,cAAchE,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAAC6C,IAAI,aAAaxC,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,iBAAiBX,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,KAAO,KAAK+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAiB,QAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,UAAWE,IAAML,WAAW,wBAAwB,IAAI,GAAGlC,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAAC6C,IAAI,YAAYxC,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,iEAAiEX,EAAG,YAAY,CAAC6C,IAAI,SAASxC,MAAM,CAAC,OAAS,GAAG,eAAc,IAAQ,CAACL,EAAG,YAAY,CAACc,YAAY,eAAeT,MAAM,CAAC,KAAO,SAAS,KAAO,mBAAmB,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAASQ,GAAQnB,EAAI+C,OAAOiB,UAAU,QAAQ,CAAChE,EAAIe,GAAG,qBAAqB,IAAI,GAAGX,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,UAAUA,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,QAAQA,EAAG,YAAY,CAAC0C,MAAM,eAAerC,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,KAAO,WAAWE,GAAG,CAAC,MAAQX,EAAIyE,WAAW,CAACzE,EAAIe,GAAG,yBAAyB,IAAI,IAAI,GAAGX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,MAAMA,EAAG,UAAU,CAACK,MAAM,CAAC,KAAO,yEAAyE,OAAS,SAAS,KAAO,SAAS,KAAO,oBAAoB,CAACT,EAAIe,GAAG,iCAAiC,IAAI,GAAIf,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAAElB,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,gBAAgBf,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI0E,gBAAgBC,SAAS3E,EAAIqB,KAAMrB,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,eAAef,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI0E,gBAAgBzC,SAASjC,EAAIqB,OAAOrB,EAAIqB,MAAM,IACtkP,EAAkB,GCqMP,GACb/C,KAAM,aACNpC,KAAM,WACJ,MAAO,CACLwI,gBAAkB,CAChBE,MAAO,EACP3C,KAAO,GACP0C,KAAO,IAEThB,gBAAkB,EAClBJ,WAAkB,eAClBC,MAAkB,GAClBqB,cAAkB,GAClB3B,QAAkB,GAClB4B,gBAAkB,GAClBd,UAAkB,GAClBjB,OAAkB,GAClBN,UAAkB,CAChBf,KAAgB,WAChB8B,MAAgB,KAChBN,QAAgB,GAChBF,aAAgB,UAChBY,UAAgB,GAChBG,UAAgB,GAChBC,UAAgB,GAChBe,QAAgB,GAChBC,KAAgB,GAChBC,QAAgB,KAItBC,SAAU,CACV9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,KAGpC,oBACE,OAAOkB,KAAKK,OAAOC,QAAQ6E,mBAE7B,YACE,OAAOnF,KAAKK,OAAOC,QAAQ8E,YAI7BC,QAAS,CAEP,uBAAuBC,EAAEC,EAAQ1E,GAC3B0E,GACFvF,KAAKyE,gBAAgBE,MAAO,EAC5B3E,KAAKyE,gBAAgBzC,KAAOnB,EAAKmB,KACjChC,KAAKyE,gBAAgBC,KAAO7D,EAAK6D,KACjC1E,KAAKwF,UAAU,KACb,IAAIC,EAAOC,SAASC,cAAc,yBAC9BC,EAAc,CACZC,EAAIP,EAAEQ,SAEZL,EAAKnE,MAAMyE,SAAW,MACtBN,EAAKnE,MAAM0E,SAAW,WACtBP,EAAKnE,MAAM2E,KAAOjG,KAAKiE,MAAMC,eAAeC,IAAIC,YAAe,GAAK,KAChEwB,EAAYC,EAAI7F,KAAKiE,MAAMC,eAAeC,IAAI+B,wBAAwBL,EAAIJ,EAAKnE,MAAM6E,KAAS,IAAMnG,KAAKiE,MAAMmC,WAAWjC,IAAIkC,aAAe,GAAMrG,KAAKiE,MAAMqC,UAAUnC,IAAIkC,aAAe,GAAK,KAC5LZ,EAAKnE,MAAM6E,KAAS,IAAMnG,KAAKiE,MAAMmC,WAAWjC,IAAIkC,aAAe,GAAKrG,KAAKiE,MAAMqC,UAAUnC,IAAIkC,aAAe,GAAK,SAG/HrG,KAAKyE,gBAAgBE,MAAO,EAC5B3E,KAAKyE,gBAAgBzC,KAAO,GAC5BhC,KAAKyE,gBAAgBC,KAAO,KAGhCtB,kBAAoB,SAAShE,GAC3BY,KAAKiE,MAAM7E,GAAKmH,MAAQ,IAE1B/C,kBAAmB,SAAS+C,GACZ,KAAVA,GACFvG,KAAKwG,OAAOD,EAAM,gBAEtB9C,qBAAuB,SAAS8C,GAChB,KAAVA,GACFvG,KAAKwG,OAAOD,EAAM,mBAEtBrD,kBAAoB,SAASqD,GACb,KAAVA,GACFvG,KAAKwG,OAAOD,EAAM,gBAEtBC,OAASC,eAAeF,EAAMnH,GAC5B,IAAIsH,EAAIC,EACE,eAAPvH,IACDuH,EAAM,QACND,EAAM,8BAEE,kBAAPtH,IACDuH,EAAM,QACND,EAAM,iCAEE,eAAPtH,IACDuH,EAAM,UACND,EAAM,iCAER,IAAIpJ,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAMA,EAAIzK,KAAQ,CAAC4K,EAAIN,KACpD,WAAjBjJ,EAAOwJ,SACR9G,KAAK2G,GAAOrJ,EAAOrB,KAEnB+D,KAAK2G,EAAM,YAAYI,QAAQC,IAC7B,IAAIC,GAAY,EAChBjH,KAAK2G,GAAKI,QAASlG,GAAQA,EAAK/B,OAASkI,EAAGlI,MAAQmI,GAAY,EAAQ,IACxEA,GAAYjH,KAAK2G,GAAK5J,KAAKiK,OAIjCE,QAAUT,iBACRzG,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,sCAAsCzK,KAAO,KAChF,WAAjBqB,EAAOwJ,SACR9G,KAAKwC,UAAUe,MAAQjG,EAAOrB,KAAKkL,KAAKrI,MACxCkB,KAAKuD,MAAMxG,KAAKO,EAAOrB,KAAKkL,MAC5BnH,KAAKwC,UAAUS,QAAU3F,EAAOrB,KAAKgH,QAAQnE,MAC7CkB,KAAKiD,QAAQlG,KAAKO,EAAOrB,KAAKgH,UAEhC,IAAIc,QAAkB/D,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,+BAA+BzK,KAAO,KACzE,WAApB8H,EAAU+C,SACT9G,KAAK+D,UAAYA,EAAU9H,KAAKmL,IAAIJ,IAC3B,CAAClI,MAAQkI,EAAGK,GAAG,GAAGvI,MAAO8D,MAAQoE,EAAG3I,KAAK,GAAGS,MAAOkD,KAAOgF,EAAGhF,KAAK,GAAGlD,MAAO4F,KAAOsC,EAAGtC,KAAK,GAAG5F,UAG3GkB,KAAKwC,UAAUmB,WAAY,IAAI2D,MAAOC,qBACtCvH,KAAKmD,SAAU,GAEjBqB,SAAWiC,iBAMT,GALIzG,KAAKiE,MAAMuD,OAAOC,YAAYhL,OAAS,EAAIuD,KAAKwC,UAAUwC,QAAS,EAChEhF,KAAKwC,UAAUwC,QAAS,EAE/BhF,KAAK8C,aAAe9C,KAAKK,OAAOuG,SAAS,cAAe,CAACpE,UAAYxC,KAAKwC,YAElC,IAApC9F,OAAOgL,KAAK1H,KAAK8C,QAAQrG,OAAc,CACzCuD,KAAKmD,SAAU,EACf,IAAI7F,EAAOrB,EAAO,IAAI0L,SACtB1L,EAAK2L,OAAO,OAAgB5H,KAAKwC,UAAUf,MAC3CxF,EAAK2L,OAAO,eAAgB5H,KAAKwC,UAAUO,cAC3C9G,EAAK2L,OAAO,YAAgB5H,KAAKwC,UAAUmB,WAC3C1H,EAAK2L,OAAO,YAAgB5H,KAAKwC,UAAUsB,WAC3C7H,EAAK2L,OAAO,UAAgB5H,KAAKwC,UAAUsC,SAC3C7I,EAAK2L,OAAO,UAAgB5H,KAAKwC,UAAUS,SACvB,iBAApBjD,KAAKsD,WAAgCrH,EAAK2L,OAAO,WAAY,cAAgB3L,EAAK2L,OAAO,WAAY,UACrG,IAAI,IAAIrL,EAAI,EAAGA,EAAIyD,KAAKiE,MAAMuD,OAAOC,YAAYhL,OAAQF,IACvDN,EAAK2L,OAAO,QAAQrL,EAAE,IAAKyD,KAAKiE,MAAMuD,OAAOC,YAAYlL,GAAGsL,KAE9D,GAAG7H,KAAKwC,UAAUe,iBAAiBuE,MACjC,IAAI,IAAIvL,EAAI,EAAGA,EAAIyD,KAAKwC,UAAUe,MAAM9G,OAAQF,IAC9CN,EAAK2L,OAAO,SAASrL,EAAE,IAAKyD,KAAKwC,UAAUe,MAAMhH,SAGjDN,EAAK2L,OAAO,WAAgB5H,KAAKwC,UAAUe,OAE/C,IAAI,IAAIhH,EAAI,EAAGA,EAAIyD,KAAKwC,UAAUuB,UAAUtH,OAAOF,IACjDN,EAAK2L,OAAO,aAAarL,EAAE,IAAKyD,KAAKwC,UAAUuB,UAAUxH,IAE3De,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,6BAA8BzK,KAAOA,EAAMwF,KAAO,SACjF,WAAjBnE,EAAOwJ,QACR9G,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAAQC,KAAO,YAC9DzB,KAAKK,OAAOc,OAAO,eAAe,SAElCnB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,UAChEzB,KAAKmD,SAAU,IAGnB,mBACEnD,KAAKwC,UAAUe,MAAQ,KACvBvD,KAAKuD,MAAQ,GACbvD,KAAK4E,cAAgB,GACrB5E,KAAK8C,OAAOiB,UAAY,OAG5B,UACE/D,KAAKkH,WAEPa,MAAO,CACL,iBAAmB,SAASjJ,GACb,YAAVA,GAAuD,aAAhCkB,KAAKwC,UAAUO,eACvC/C,KAAKwC,UAAUe,MAAY,GAC3BvD,KAAK0D,gBAAsB,EAC3B1D,KAAK4E,cAAsB,GAC3B5E,KAAKwC,UAAUS,QAAY,IAEhB,YAAVnE,GAAuD,aAAhCkB,KAAKwC,UAAUO,eACvC/C,KAAKwC,UAAUe,MAAQ,GACvByE,WAAW,KAAOhI,KAAKwC,UAAUe,MAAQ,GAAIvD,KAAK0D,gBAAiB,GAAM,GACzE1D,KAAKwC,UAAUS,QAAU,IAEd,aAAVnE,IACDkB,KAAKuD,MAAmB,GACxBvD,KAAK4E,cAAmB,GACxB5E,KAAKiD,QAAmB,GACxBjD,KAAKwC,UAAUe,MAAS,GACxBvD,KAAK0D,gBAAmB,EACxB1D,KAAKsD,WAAmB,eACxBtD,KAAKkH,YAGT,kBAAoB,SAASpI,GAE3B,GADAkB,KAAK8C,OAAOS,MAAQ,KACjBzE,aAAiBgJ,MAAM,CAExB9H,KAAKuD,MAAMwD,QAAQC,IACjB,GAAGlI,EAAMmJ,QAAQjB,EAAGlI,QAAU,EAAE,CAC9B,IAAImI,GAAY,EAChBjH,KAAK4E,cAAcmC,QAAQlG,GAAQA,EAAK/B,QAAUkI,EAAGlI,MAAQmI,GAAY,EAAQ,IACjFA,GAAYjH,KAAK4E,cAAc7H,KAAKiK,MAIxC,IAAIkB,EAAM,GACVlI,KAAK4E,cAAcmC,QAAQC,GAAMlI,EAAMmJ,QAAQjB,EAAGlI,QAAS,EAAIoJ,EAAInL,KAAKiK,GAAM,IAC9EhH,KAAK4E,cAAgBsD,IAGzB,oBAAsB,SAASpJ,GAC7BkB,KAAK8C,OAAOG,QAAU,KACtBnE,GAAQkB,KAAK6E,gBAAgB9H,KAAK+B,IAEpC,sBAAwB,WACtBkB,KAAK8C,OAAOiB,UAAY,MAE1B,oBAAsB,WACpB/D,KAAK8C,OAAOiB,UAAY,MAE1B,yBAA2B,SAASoE,EAASC,GAC3C,GAAiB,aAAbD,GAAmD,aAAxBnI,KAAKwC,UAAUf,KAAsB,CAClE,IAAI4G,EAAIrI,KAAKwC,UAAUe,MACvBvD,KAAKwC,UAAUe,MAAQ,GACvByE,WAAW,KACHhI,KAAKwC,UAAUe,MAArB8E,EAA6B,CAACA,GAA8B,GAC5DrI,KAAK0D,gBAAiB,GACtB,GACF2E,IAAMrI,KAAK4E,cAAgB,CAACyD,IAE9B,GAAiB,aAAbD,GAAmD,aAAxBpI,KAAKwC,UAAUf,KAAqB,CACjE,IAAI4G,EAAM,GACVrI,KAAKwC,UAAUe,MAAM,KAAK8E,EAAMrI,KAAKwC,UAAUe,MAAM,IACrDvD,KAAKwC,UAAUe,MAAS,GACxByE,WAAW,KAAOhI,KAAK0D,gBAAiB,EAAO1D,KAAKwC,UAAUe,MAAQ8E,GAAM,GAC5ErI,KAAK0D,gBAAmB,EACxB1D,KAAKwC,UAAUe,MAAS8E,EACxBrI,KAAK4E,cAAmB,CAACyD,GAE3BrI,KAAK8C,OAAOC,aAAe,MAE7B,sBAAwB,WACtB/C,KAAK8C,OAAOc,KAAY,KACxB5D,KAAK8C,OAAOa,UAAY,MAE1B,sBAAwB,WACtB3D,KAAK8C,OAAOc,KAAY,KACxB5D,KAAK8C,OAAOgB,UAAY,QCrcoK,I,YCO9LvD,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QClBX,EAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,OAAO,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASQ,GAAgC,OAAxBA,EAAOoB,iBAAwBvC,EAAIuI,OAAOlL,MAAM,KAAMmL,cAAc,CAACxI,EAAIe,GAAG,6BAA6BX,EAAG,UAAU,CAACc,YAAY,qBAAqB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,2BAA2BX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,YAAY,CAACK,MAAM,CAAC,YAAc,cAAcE,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOnB,EAAIyI,gBAAgBzI,EAAIyC,UAAUf,QAAQc,MAAM,CAACzD,MAAOiB,EAAIyC,UAAc,KAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,OAAQE,IAAML,WAAW,mBAAmBtC,EAAIa,GAAIb,EAAa,WAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,IAAI,GAAGqB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,sBAAsBX,EAAG,YAAY,CAACK,MAAM,CAAC,YAAc,oBAAoBE,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOnB,EAAI0I,wBAAwB1I,EAAIyC,UAAUO,gBAAgBR,MAAM,CAACzD,MAAOiB,EAAIyC,UAAsB,aAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,eAAgBE,IAAML,WAAW,2BAA2BtC,EAAIa,GAAIb,EAAqB,mBAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,IAAI,IAAI,GAAGqB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,wCAAwCX,EAAG,YAAY,CAAC6C,IAAI,iBAAiBH,MAAM9C,EAAI+C,OAAOG,QAAU,UAAY,GAAGzC,MAAM,CAAC,WAAa,GAAG,OAAS,GAAG,kBAAkB,GAAG,YAAc,sBAAsB,gBAAgBT,EAAImD,kBAAkB,QAAUnD,EAAIoD,QAAQ,SAAiC,YAAtBpD,EAAIyC,UAAUf,MAAoBf,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOnB,EAAIqD,kBAAkB,oBAAoBb,MAAM,CAACzD,MAAOiB,EAAIyC,UAAiB,QAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,UAAWE,IAAML,WAAW,sBAAsBtC,EAAIa,GAAIb,EAAW,SAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAIiB,EAAI+C,OAAc,QAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOG,YAAYlD,EAAIqB,MAAM,IAAI,GAAGjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,+BAA+BX,EAAG,iBAAiB,CAACK,MAAM,CAAC,KAAO,WAAWE,GAAG,CAAC,OAASX,EAAIsD,kBAAkBd,MAAM,CAACzD,MAAOiB,EAAc,WAAE0C,SAAS,SAAUC,GAAM3C,EAAIuD,WAAWZ,GAAKL,WAAW,eAAe,CAAClC,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,kBAAkBL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,cAAc,SAAiC,YAAtBT,EAAIyC,UAAUf,SAAuB,IAAI,GAAGtB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAsB,iBAAnBhB,EAAIuD,WAAgC,wBAA0B,2BAA2BnD,EAAG,YAAY,CAAC6C,IAAI,cAAcH,MAAM9C,EAAI+C,OAAOS,MAAQ,UAAY,GAAG/C,MAAM,CAAC,SAAWT,EAAI2D,eAAe,WAAa,GAAG,OAAS,GAAG,kBAAkB,GAAG,YAA+B,iBAAjB3D,EAAIuD,WAA+B,cAAgB,sBAAsB,gBAAiC,iBAAjBvD,EAAIuD,WAA8BvD,EAAIyD,kBAAoBzD,EAAI0D,qBAAqB,QAAU1D,EAAIoD,QAAQ,SAAiC,YAAtBpD,EAAIyC,UAAUf,MAAoBf,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOnB,EAAIqD,kBAAkB,iBAAiBb,MAAM,CAACzD,MAAOiB,EAAIyC,UAAe,MAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,QAASE,IAAML,WAAW,oBAAoBtC,EAAIa,GAAIb,EAAS,OAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAIiB,EAAI+C,OAAY,MAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOS,UAAUxD,EAAIqB,MAAM,IAAI,GAAGjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,+BAA+BX,EAAG,iBAAiB,CAAC0C,MAAM9C,EAAI+C,OAAOa,WAAa5D,EAAI+C,OAAOc,KAAQ,UAAY,GAAGpD,MAAM,CAAC,KAAO,OAAO,OAAS,aAAa,eAAe,aAAa,YAAc,4BAA4B,iBAAiB,CAAEqD,eAAgB,IAAKtB,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,yBAA0BtC,EAAI+C,OAAW,KAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOc,SAAS7D,EAAIqB,KAAMrB,EAAI+C,OAAgB,UAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOa,cAAc5D,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,QAAQA,EAAG,iBAAiB,CAAC0C,MAAM9C,EAAI+C,OAAOgB,WAAa/D,EAAI+C,OAAOc,KAAO,UAAY,GAAGpD,MAAM,CAAC,KAAO,OAAO,OAAS,aAAa,eAAe,aAAa,YAAc,+BAA+B,iBAAiB,CAAEqD,eAAgB,IAAKtB,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,yBAA0BtC,EAAI+C,OAAgB,UAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOgB,cAAc/D,EAAIqB,MAAM,IAAI,GAAGjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,YAAY,CAAC6C,IAAI,iBAAiBH,MAAM9C,EAAI+C,OAAOiB,UAAY,UAAY,GAAGvD,MAAM,CAAC,YAAc,aAAa,SAAW,IAAI+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,wBAAwBtC,EAAIa,GAAIb,EAAa,WAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAMwC,MAAM,CAAE0C,MAAOjE,EAAIkE,MAAMC,eAAeC,IAAIC,YAAc,GAAI,KAAMC,WAAY,SAAUC,OAAQ,QAAS9D,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,QAAQ,CAACqB,EAAG,MAAM,CAACO,GAAG,CAAC,UAAY,SAASQ,GAAQ,OAAOnB,EAAIwE,uBAAuBrD,GAAO,EAAML,IAAO,SAAW,SAASK,GAAQ,OAAOnB,EAAIwE,uBAAuBrD,GAAQ,EAAO,OAAO,CAACnB,EAAIe,GAAG,IAAIf,EAAIgB,GAAGF,EAAK+B,OAAO,YAAW,GAAI7C,EAAI+C,OAAgB,UAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOiB,cAAchE,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAAC6C,IAAI,aAAaxC,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,iBAAiBX,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,KAAO,KAAK+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAiB,QAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,UAAWE,IAAML,WAAW,wBAAwB,IAAI,GAAGlC,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAAC6C,IAAI,YAAYxC,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,iEAAiEX,EAAG,YAAY,CAAC6C,IAAI,SAASxC,MAAM,CAAC,OAAS,GAAG,eAAc,EAAM,YAAYT,EAAIyC,UAAUkG,YAAY,YAAY3I,EAAI4I,WAAW,YAAY5I,EAAI6I,aAAa,CAACzI,EAAG,YAAY,CAACc,YAAY,eAAeT,MAAM,CAAC,KAAO,SAAS,KAAO,mBAAmB,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAASQ,GAAQnB,EAAI+C,OAAOiB,UAAU,QAAQ,CAAChE,EAAIe,GAAG,sBAAsB,IAAI,GAAGX,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,UAAUA,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,QAAQA,EAAG,YAAY,CAAC0C,MAAM,eAAerC,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,KAAO,WAAWE,GAAG,CAAC,MAAQX,EAAIyE,WAAW,CAACzE,EAAIe,GAAG,yBAAyB,IAAI,IAAI,GAAGX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,MAAMA,EAAG,UAAU,CAACK,MAAM,CAAC,KAAO,yEAAyE,OAAS,SAAS,KAAO,SAAS,KAAO,oBAAoB,CAACT,EAAIe,GAAG,iCAAiC,IAAI,GAAIf,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAAElB,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,gBAAgBf,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI0E,gBAAgBC,SAAS3E,EAAIqB,KAAMrB,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,eAAef,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI0E,gBAAgBzC,SAASjC,EAAIqB,OAAOrB,EAAIqB,MAAM,IACvsP,EAAkB,GC2NP,GACb/C,KAAM,cACN,OACE,MAAO,CACLoG,gBAAkB,CAChBE,MAAO,EACP3C,KAAO,GACP0C,KAAO,IAETmE,qBAA2B,GAC3BnF,gBAA2B,EAC3BJ,WAA2B,GAC3BC,MAA2B,GAC3BqB,cAA2B,GAC3B3B,QAA2B,GAC3B4B,gBAA2B,GAC3Bd,UAA2B,GAC3BjB,OAA2B,GAC3BN,UAAkB,CAChBf,KAAgB,GAChB8B,MAAgB,KAChBN,QAAgB,GAChBF,aAAgB,GAChBY,UAAgB,GAChBG,UAAgB,GAChBC,UAAgB,GAChBe,QAAgB,GAChBC,KAAgB,GAChB+D,UAAgB,GAChBJ,YAAgB,GAChB1D,QAAgB,KAItBC,SAAU,CACR9B,QAAS,CACPzE,IAAK,WACH,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAK,SAAUpG,GACbkB,KAAKK,OAAOc,OAAO,aAAcrC,KAGrC,oBACE,OAAOkB,KAAKK,OAAOC,QAAQ6E,mBAE7B,YACE,OAAOnF,KAAKK,OAAOC,QAAQ8E,WAE7B,YACE,OAAOpF,KAAKK,OAAOC,QAAQyI,YAG/B1D,QAAS,CACP,uBAAuBC,EAAEC,EAAQ1E,GAC3B0E,GACFvF,KAAKyE,gBAAgBE,MAAO,EAC5B3E,KAAKyE,gBAAgBzC,KAAOnB,EAAKmB,KACjChC,KAAKyE,gBAAgBC,KAAO7D,EAAK6D,KACjC1E,KAAKwF,UAAU,KACb,IAAIC,EAAOC,SAASC,cAAc,yBAC9BC,EAAc,CACZC,EAAIP,EAAEQ,SAEZL,EAAKnE,MAAMyE,SAAW,MACtBN,EAAKnE,MAAM0E,SAAW,WACtBP,EAAKnE,MAAM2E,KAAOjG,KAAKiE,MAAMC,eAAeC,IAAIC,YAAe,GAAK,KAChEwB,EAAYC,EAAI7F,KAAKiE,MAAMC,eAAeC,IAAI+B,wBAAwBL,EAAIJ,EAAKnE,MAAM6E,KAAS,IAAMnG,KAAKiE,MAAMmC,WAAWjC,IAAIkC,aAAe,GAAMrG,KAAKiE,MAAMqC,UAAUnC,IAAIkC,aAAe,GAAK,KAC9LZ,EAAKnE,MAAM6E,KAAS,IAAMnG,KAAKiE,MAAMmC,WAAWjC,IAAIkC,aAAe,GAAKrG,KAAKiE,MAAMqC,UAAUnC,IAAIkC,aAAe,GAAK,SAG7HrG,KAAKyE,gBAAgBE,MAAO,EAC5B3E,KAAKyE,gBAAgBzC,KAAO,GAC5BhC,KAAKyE,gBAAgBC,KAAO,KAGhC,SACE1E,KAAKK,OAAOc,OAAO,UAAWnB,KAAKK,OAAOC,QAAQ0I,cAElDhJ,KAAKK,OAAOc,OAAO,eAAgB,WAErC,kBAAkB/B,GAChBY,KAAKiE,MAAM7E,GAAKmH,MAAQ,GACxBvG,KAAKiJ,gBAEP,kBAAkB1C,GACF,KAAVA,GACFvG,KAAKwG,OAAOD,EAAO,gBAEvB,qBAAqBA,GACL,KAAVA,GACFvG,KAAKwG,OAAOD,EAAO,mBAEvB,kBAAkBA,GACF,KAAVA,GACFvG,KAAKwG,OAAOD,EAAO,gBAEvB,aAAaA,EAAOnH,GAClB,IAAIsH,EAAKC,EACE,eAAPvH,IACFuH,EAAM,QACND,EAAM,8BAEG,kBAAPtH,IACFuH,EAAM,QACND,EAAM,iCAEG,eAAPtH,IACFuH,EAAM,UACND,EAAM,iCAER,IAAIpJ,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAACF,IAAKA,EAAKzK,KAAM,CAAC4K,EAAGN,KACjD,WAAjBjJ,EAAOwJ,SACT9G,KAAK2G,GAAOrJ,EAAOrB,KAEnB+D,KAAK2G,EAAM,YAAYI,QAAQC,IAC7B,IAAIC,GAAY,EAChBjH,KAAK2G,GAAKI,QAAQlG,GAAQA,EAAK/B,OAASkI,EAAGlI,MAAQmI,GAAY,EAAQ,IACvEA,GAAYjH,KAAK2G,GAAK5J,KAAKiK,OAIjC,oBACEhH,KAAKmD,SAAU,EACfnD,KAAKiD,QAAU,GACf,IAAIc,QAAkB/D,KAAKK,OAAOuG,SAAS,QAAS,CAACF,IAAK,+BAAgCzK,KAAM,KACxE,WAApB8H,EAAU+C,SACZ9G,KAAK+D,UAAYA,EAAU9H,KAAKmL,IAAIJ,IAC3B,CAAClI,MAAOkI,EAAGK,GAAG,GAAGvI,MAAO8D,MAAOoE,EAAG3I,KAAK,GAAGS,MAAOkD,KAAOgF,EAAGhF,KAAK,GAAGlD,MAAO4F,KAAOsC,EAAGtC,KAAK,GAAG5F,UAGvG,IAAIxB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAQ,kCACRzK,KAAQ,CAACoL,GAAIrH,KAAK+I,aAEpB,GAAqB,WAAjBzL,EAAOwJ,OAAqB,CACL,eAAzBxJ,EAAOrB,KAAKiN,SAA4BlJ,KAAKsD,WAAa,eAAiBtD,KAAKsD,WAAa,cAC7FtD,KAAKuD,MAAQjG,EAAOrB,KAAKsH,MACzBvD,KAAKiD,QAAQlG,KAAKO,EAAOrB,KAAKgH,SAC9B,IAAIkG,EAAe,KACc,aAA7B7L,EAAOrB,KAAK8G,cAAoD,aAArBzF,EAAOrB,KAAKwF,MACzDzB,KAAK0D,gBAAiB,EACtByF,EAAe7L,EAAOrB,KAAKsH,MAAM6D,IAAIJ,GAAcA,EAAGlI,SAEtDkB,KAAK0D,gBAAiB,EACtByF,EAAe7L,EAAOrB,KAAKsH,MAAM9G,OAAS,EAAIa,EAAOrB,KAAKsH,MAAM,GAAGzE,MAAQ,IAE7E,IAAIsK,EAAmB,IAAI9B,KAAKhK,EAAOrB,KAAKoN,WAAWC,MAAM,KAAKC,UAAUC,KAAK,MAC7EC,EAAmBL,EAAcM,UACjCC,EAAmB,IAAIrC,KAAKhK,EAAOrB,KAAK2N,WAAWN,MAAM,KAAKC,UAAUC,KAAK,MAC7EK,EAAmBF,EAAaD,UAChCI,EAAmBD,EAAiBJ,EACpCM,EAAmBF,EAAiB,MACpCG,EAAmBD,EAAiBD,EACpCG,EAAmB,IAAI3C,KAAKyC,GAAgBxC,qBAC5C2C,EAAmB,IAAI5C,KAAK0C,GAAgBzC,qBAEhDvH,KAAKwC,UAAY,CACff,KAAkBnE,EAAOrB,KAAKwF,KAC9BwB,QAAkB3F,EAAOrB,KAAKgH,QAAQnE,MACtCiE,aAA+C,QAA7BzF,EAAOrB,KAAKkO,cAA0B,UAAY7M,EAAOrB,KAAKkO,cAChF5G,MAAkB4F,EAClBxF,UAAkBsG,EAClBnG,UAAkBoG,EAClBnG,UAAkBzG,EAAOrB,KAAK8H,UAC9Be,QAAkBxH,EAAOrB,KAAK6I,QAC9BgE,UAAkBxL,EAAOrB,KAAKmO,MAC9B1B,YAAkBpL,EAAOrB,KAAKmO,MAC9BrF,KAAkB,IAEM,aAArBzH,EAAOrB,KAAKwF,MAAqBzB,KAAKqK,uBAE3CrK,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,qBAAsBD,KAAM,UAC9FzB,KAAKmD,SAAU,GAEjB,wBACEnD,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAACF,IAAK,sCAAuCzK,KAAM,KAC/E,WAAjBqB,EAAOwJ,SACLxJ,EAAOrB,KAAKkL,KAAKrI,QACnBkB,KAAKwC,UAAUe,MAAQjG,EAAOrB,KAAKkL,KAAKrI,MACxCkB,KAAKuD,MAAQ,GACbvD,KAAKuD,MAAMxG,KAAKO,EAAOrB,KAAKkL,OAE9BnH,KAAKwC,UAAUS,QAAU3F,EAAOrB,KAAKgH,QAAQnE,MAC7CkB,KAAKiD,QAAU,GACfjD,KAAKiD,QAAQlG,KAAKO,EAAOrB,KAAKgH,UAEhCjD,KAAKmD,SAAU,GAEjB,WAAW4B,EAAMuF,GACftK,KAAKwC,UAAUuC,KAAKhI,KAAKgI,EAAK8C,MAEhC,WAAW9C,GACT/E,KAAKwC,UAAUsG,UAAY9I,KAAKwC,UAAUsG,UAAUyB,OAAOvD,GAAMA,EAAGwD,MAAQzF,EAAKyF,KACjFxK,KAAKwC,UAAUuC,KAAO/E,KAAKwC,UAAUuC,KAAKwF,OAAOvD,GAAMA,EAAGwD,MAAQzF,EAAKyF,MAEzE,iBAKE,GAJIxK,KAAKiE,MAAMuD,OAAOC,YAAYhL,OAAS,EAAIuD,KAAKwC,UAAUwC,QAAS,EAClEhF,KAAKwC,UAAUwC,QAAS,EAE7BhF,KAAK8C,aAAe9C,KAAKK,OAAOuG,SAAS,cAAe,CAACpE,UAAYxC,KAAKwC,YAClC,IAApC9F,OAAOgL,KAAK1H,KAAK8C,QAAQrG,OAAc,CACvC,IAAIa,EAEJ,GADA0C,KAAKmD,SAAU,EACXnD,KAAKwC,UAAUuC,KAAKtI,OAAQ,CAC9B,IAAIR,EAAO,IAAI0L,SACf1L,EAAK2L,OAAO,OAAgB5H,KAAKwC,UAAUf,MAC3CxF,EAAK2L,OAAO,eAAgB5H,KAAKwC,UAAUO,cAC3C9G,EAAK2L,OAAO,YAAgB5H,KAAKwC,UAAUmB,WAC3C1H,EAAK2L,OAAO,YAAgB5H,KAAKwC,UAAUsB,WAC3C7H,EAAK2L,OAAO,UAAgB5H,KAAKwC,UAAUsC,SAC3C7I,EAAK2L,OAAO,UAAgB5H,KAAKwC,UAAUS,SACvB,iBAApBjD,KAAKsD,WAAgCrH,EAAK2L,OAAO,WAAY,cAAgB3L,EAAK2L,OAAO,WAAY,UAErG,IAAK,IAAIrL,EAAI,EAAGA,EAAIyD,KAAKwC,UAAUuC,KAAKtI,OAAQF,IAC9CN,EAAK2L,OAAO,QAAUrL,EAAI,IAAKyD,KAAKwC,UAAUuC,KAAKxI,IAErD,IAAK,IAAIA,EAAI,EAAGA,EAAIyD,KAAKwC,UAAUsG,UAAUrM,OAAQF,IACnDN,EAAK2L,OAAO,aAAerL,EAAI,IAAKyD,KAAKwC,UAAUsG,UAAUvM,GAAG8K,IAGlE,GAAIrH,KAAKwC,UAAUe,iBAAiBuE,MAClC,IAAK,IAAIvL,EAAI,EAAGA,EAAIyD,KAAKwC,UAAUe,MAAM9G,OAAQF,IAC/CN,EAAK2L,OAAO,SAAWrL,EAAI,IAAKyD,KAAKwC,UAAUe,MAAMhH,SAGvDN,EAAK2L,OAAO,WAAgB5H,KAAKwC,UAAUe,OAC7C,IAAK,IAAIhH,EAAI,EAAGA,EAAIyD,KAAKwC,UAAUuB,UAAUtH,OAAQF,IACnDN,EAAK2L,OAAO,aAAerL,EAAI,IAAKyD,KAAKwC,UAAUuB,UAAUxH,IAE/De,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC3CF,IAAQ,6BACRzK,KAAQA,EACRwF,KAAQ,cAGVzB,KAAKwC,UAAUsG,UAAY9I,KAAKwC,UAAUsG,UAAU1B,IAAIJ,GAAMA,EAAGK,IAC7C,iBAApBrH,KAAKsD,WAAgCtD,KAAKwC,UAAU0G,SAAW,aAAelJ,KAAKwC,UAAU0G,SAAW,SACxG5L,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC3CF,IAAQ,6BACRzK,KAAQ+D,KAAKwC,YAGI,WAAjBlF,EAAOwJ,OACT9G,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,WAAYD,KAAM,YAElFzB,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,qBAAsBD,KAAM,UAC9FzB,KAAKmD,SAAU,EACjBnD,KAAKK,OAAOc,OAAO,UAAW,WAC9BnB,KAAKK,OAAOc,OAAO,eAAe,UAGtC,gBAAgBrC,GACA,YAAVA,GAAuD,aAAhCkB,KAAKwC,UAAUO,eACxC/C,KAAKwC,UAAUe,MAAY,GAC3BvD,KAAK0D,gBAAsB,EAC3B1D,KAAK4E,cAAsB,GAC3B5E,KAAKwC,UAAUS,QAAa,IAEhB,YAAVnE,GAAuD,aAAhCkB,KAAKwC,UAAUO,eACxC/C,KAAKwC,UAAUe,MAAY,GAC3ByE,WAAW,KACThI,KAAKwC,UAAUe,MAAU,GACzBvD,KAAK0D,gBAAoB,GACxB,GACH1D,KAAKwC,UAAUS,QAAU,IAEb,aAAVnE,IACFkB,KAAKsD,WAAqB,eAC1BtD,KAAKuD,MAAqB,GAC1BvD,KAAK4E,cAAqB,GAC1B5E,KAAKiD,QAAqB,GAC1BjD,KAAKwC,UAAUe,MAAW,GAC1BvD,KAAK0D,gBAAqB,EAC1B1D,KAAKqK,oBAGT,wBAAwBlC,GACtB,IAAIC,EAASpI,KAAK6I,qBAClB,GAAiB,aAAbV,GAAmD,aAAxBnI,KAAKwC,UAAUf,KAAqB,CACjE,IAAI4G,EAAMrI,KAAKwC,UAAUe,MACzBvD,KAAKwC,UAAUe,MAAQ,GACvByE,WAAW,KACHhI,KAAKwC,UAAUe,MAArB8E,EAA6B,CAACA,GAA8B,GAC5DrI,KAAK0D,gBAAiB,GACrB,GACH2E,IAAMrI,KAAK4E,cAAgB,CAACyD,IAE9B,GAAiB,aAAbD,GAAmD,aAAxBpI,KAAKwC,UAAUf,KAAqB,CACjE,IAAI4G,EACJrI,KAAKwC,UAAUe,MAAM,KAAK8E,EAAMrI,KAAKwC,UAAUe,MAAM,IACrDvD,KAAKwC,UAAUe,MAAW,GAC1ByE,WAAW,KACThI,KAAK0D,gBAAmB,EACxB1D,KAAKwC,UAAUe,MAAS8E,GACvB,GACHrI,KAAK4E,cAAqB,CAACyD,KAG/B,mBACErI,KAAKwC,UAAUe,MAAa,KAC5BvD,KAAKuD,MAAuB,GAC5BvD,KAAK4E,cAAuB,GAC5B5E,KAAK8C,OAAOiB,UAAgB,OAGhC,UACE/D,KAAKyK,eAIP1C,MAAO,CACL,yBAA0B,SAAUK,GAClCpI,KAAK6I,qBAAuBT,EAC5BpI,KAAK8C,OAAOC,aAAgB,MAE9B,kBAAmB,SAAUjE,GAE3B,GADAkB,KAAK8C,OAAOS,MAAQ,KAChBzE,aAAiBgJ,MAAO,CAE1B9H,KAAKuD,MAAMwD,QAAQC,IACjB,GAAIlI,EAAMmJ,QAAQjB,EAAGlI,QAAU,EAAG,CAChC,IAAImI,GAAY,EAChBjH,KAAK4E,cAAcmC,QAAQlG,GAAQA,EAAK/B,QAAUkI,EAAGlI,MAAQmI,GAAY,EAAQ,IACjFA,GAAYjH,KAAK4E,cAAc7H,KAAKiK,MAIxC,IAAIkB,EAAM,GACVlI,KAAK4E,cAAcmC,QAAQC,GAAMlI,EAAMmJ,QAAQjB,EAAGlI,QAAU,EAAIoJ,EAAInL,KAAKiK,GAAM,IAC/EhH,KAAK4E,cAAgBsD,IAGzB,oBAAqB,SAAUpJ,GAC7BkB,KAAK8C,OAAOG,QAAU,KACtBnE,GAAQkB,KAAK6E,gBAAgB9H,KAAK+B,IAEpC,sBAAuB,WACrBkB,KAAK8C,OAAOiB,UAAY,MAE1B,oBAAsB,WACpB/D,KAAK8C,OAAOiB,UAAY,MAE1B,sBAAuB,WACrB/D,KAAK8C,OAAOc,KAAY,KACxB5D,KAAK8C,OAAOa,UAAY,MAE1B,sBAAuB,WACrB3D,KAAK8C,OAAOc,KAAY,KACxB5D,KAAK8C,OAAOgB,UAAY,QC1jB2K,ICOrM,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAI/D,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,aAAa,CAAEtC,EAAa,UAAEI,EAAG,OAAO,CAACgC,WAAW,CAAC,CAAC9D,KAAK,YAAY+D,QAAQ,gCAAgCtD,MAAOiB,EAAqB,kBAAEsC,WAAW,oBAAoBqI,IAAI,qBAAqB,CAACrM,KAAK,YAAY+D,QAAQ,8BAA8BtD,MAAOiB,EAAmB,gBAAEsC,WAAW,kBAAkBqI,IAAI,mBAAmB,CAACrM,KAAK,YAAY+D,QAAQ,8BAA8BtD,MAAOiB,EAAmB,gBAAEsC,WAAW,kBAAkBqI,IAAI,mBAAmB,CAACrM,KAAK,YAAY+D,QAAQ,qBAAqBtD,MAAOiB,EAAU,OAAEsC,WAAW,SAASqI,IAAI,UAAU,CAACrM,KAAK,YAAY+D,QAAQ,kCAAkCtD,MAAOiB,EAAuB,oBAAEsC,WAAW,sBAAsBqI,IAAI,wBAAwBlK,MAAM,CAAC,KAAO,aAAaT,EAAIqB,MAAM,IAC56B,EAAkB,GCaP,GACb/C,KAAO,cACPpC,KAAO,WACL,MAAO,CACL0O,KAAa,CACXJ,OAAc,CACZtO,KAAe,CACboL,GAAkB,CAChB1C,MAAO,EACPlD,KAAO,SACPpD,KAAO,MAETuM,gBAAkB,CAChBnJ,KAAY,aACZpD,KAAY,kBACZwM,UAAY,EACZtE,MAAYE,eAAgBxK,GAC1B,IAAIqB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,6BACRzK,KAAS,CAAC4K,EAAI5K,KAEhB,GAAoB,WAAjBqB,EAAOwJ,OAAqB,OAAOxJ,EAAOrB,MAC7CoD,KAAKW,OAkBT8K,YAAkB,CAChBnG,MAAY,EACZlD,KAAY,aACZpD,KAAY,yBACZwM,UAAY,EACZtE,MAAYE,eAAgBxK,GAC1B,IAAIqB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,gCACRzK,KAAS,CAAC4K,EAAI5K,KAEhB,GAAoB,WAAjBqB,EAAOwJ,OAAqB,OAAOxJ,EAAOrB,MAC7CoD,KAAKW,OAETyB,KAAkB,CAChBkD,MAAO,EACPlD,KAAW,OACXpD,KAAW,aACXwM,UAAW,EACXE,OAAW/K,KAAKK,OAAOC,QAAQ8E,WAEjC+E,cAAkB,CAChBxF,MAAO,EACPlD,KAAW,OACXpD,KAAW,mBACXwM,UAAW,EACXE,OAAW/K,KAAKK,OAAOC,QAAQ6E,mBAEjC6F,YAAkB,CAChBvJ,KAAW,OACXpD,KAAW,eACXwM,UAAW,EACXE,OAAW,CAAC,CAACjM,MAAQ,CAAC,GAAI8D,MAAQ,8BAA+B,CAAC9D,MAAQ,CAAC,GAAI8D,MAAQ,mCAEzFqI,WAAkB,CAChBxJ,KAAW,OACXpD,KAAW,qBACXwM,UAAW,EACXE,OAAW,CAAC,CAACjM,MAAQ,CAAC,GAAI8D,MAAQ,yBAA0B,CAAC9D,MAAQ,CAAC,GAAI8D,MAAQ,8BAEpFsI,QAAkB,CAChBvG,MAAY,EACZlD,KAAY,aACZpD,KAAY,WACZwM,UAAY,EACZtE,MAAYE,eAAgBxK,GAC1B,IAAIqB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,6BACRzK,KAAS,CAAC4K,EAAI5K,KAEhB,GAAoB,WAAjBqB,EAAOwJ,OAAqB,OAAOxJ,EAAOrB,MAC7CoD,KAAKW,OAETmL,WAAkB,CAChBxG,MAAO,EACPlD,KAAO,OACPpD,KAAO,wBAET+M,YAAkB,CAChBzG,MAAO,EACPlD,KAAY,aACZpD,KAAY,gBACZwM,UAAY,EACZtE,MAAYE,eAAgBxK,GAC1B,IAAIqB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,6BACRzK,KAAS,CAAC4K,EAAI5K,KAEhB,GAAoB,WAAjBqB,EAAOwJ,OAAqB,OAAOxJ,EAAOrB,MAC7CoD,KAAKW,OAETqL,iBAAkB,CAChB1G,MAAO,EACPlD,KAAO,OACPpD,KAAO,yBAETyI,OAAkB,CAChBrF,KAAW,OACXpD,KAAW,SACXwM,UAAW,EACXE,OAAW/K,KAAKK,OAAOC,QAAQgL,YAEjCC,UAAqB,CACnB9J,KAAW,OACXpD,KAAW,uBACXwM,UAAW,EACXE,OAAW,CACT,CAAEjM,MAAQ,IAAS8D,MAAQ,2BAC3B,CAAE9D,MAAQ,IAAS8D,MAAQ,0BAI/B4I,WAAkB,CAChB/J,KAAY,aACZpD,KAAY,cACZwM,UAAY,EACZtE,MAAYE,eAAgBxK,GAC1B,IAAIqB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,gCACRzK,KAAS,CAAC4K,EAAI5K,KAEhB,GAAoB,WAAjBqB,EAAOwJ,OAAqB,OAAOxJ,EAAOrB,MAC7CoD,KAAKW,OAETqJ,WAAkB,CAChB1E,MAAO,EACPlD,KAAO,OACPpD,KAAO,kCAETuL,WAAkB,CAChBjF,MAAO,EACPlD,KAAO,OACPpD,KAAO,qCAET0F,UAAkB,CAChBY,MAAY,EACZlD,KAAY,aACZpD,KAAY,uBACZwM,UAAY,EACZtE,MAAYE,eAAgBxK,GAC1B,IAAIqB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,iCACRzK,KAAS,CAAC4K,EAAI5K,KAEhB,GAAoB,WAAjBqB,EAAOwJ,OAAqB,CAC5B,IAAI/C,EAAYzG,EAAOrB,KAAKmL,IAAIJ,IACvB,CAAClI,MAAQkI,EAAGlI,MAAO8D,MAAQoE,EAAGpE,SAExC,OAAOmB,IAET1E,KAAKW,MACPyL,MAAYhF,iBACV,IAAInJ,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,+BACRzK,KAAS,CAACyP,KAAM,CAACrN,KAAM,OAAQsN,MAAO,UAExC,GAAoB,WAAjBrO,EAAOwJ,OAAqB,CAC7B,IAAI/C,EAAYzG,EAAOrB,KAAKmL,IAAIJ,IACvB,CAAClI,MAAQkI,EAAGK,GAAG,GAAGvI,MAAO8D,MAAQoE,EAAG3I,KAAK,GAAGS,SAErD,OAAOiF,IAET1E,KAAKW,QAIX4L,SAAe,GACfC,cAAe,EACftB,OAAe,SAAStO,GACtB+D,KAAK8L,WAAa7P,EAClB+D,KAAKK,OAAOc,OAAO,oBAAqB,GACxCnB,KAAKkH,WACL7H,KAAKW,MACP+L,MAAe,WACb/L,KAAK8L,WAAa,GAClB9L,KAAKkH,WACL7H,KAAKW,OAETgM,QAAc,CACZ,CACE3N,KAAY,iBACZ4N,SAAYC,IACVlM,KAAKK,OAAOc,OAAO,eAAgB+K,EAAI7E,GAAG,GAAGvI,OAC7CkB,KAAKK,OAAOc,OAAO,eAAgB,YAGvC,CACE9C,KAAY,oBACZ4N,SAAaC,IACXlM,KAAKK,OAAOc,OAAO,eAAgB+K,EAAI7E,GAAG,GAAGvI,OAC3CkB,KAAKmM,SAAS,8EAA8ED,EAAI7E,GAAG,GAAGvI,WAAWsN,KAAK,KACpHpM,KAAKK,OAAOc,OAAO,UAAW,WAC9BnB,KAAKK,OAAOc,OAAO,eAAgB,gBAClCkL,MAAM,KAAOrM,KAAKK,OAAOc,OAAO,eAAgB,WAK3DmL,WAAc,CACZ3H,KAAc,OACd4H,YAAc,GACd9L,KAAc,EACd+L,MAAc,CAAC,GAAG,GAAG,IACrBC,WAAa3N,IACXkB,KAAKK,OAAOc,OAAO,oBAAqBrC,GACxCkB,KAAK0M,MAAMvL,OAAO,sBAAuB,CAAC9C,KAAO2B,KAAK2K,KAAKtM,KAAMpC,KAAO,CAACqQ,WAAa,CAACC,YAAczN,MACrGkB,KAAKkH,WAEPyF,WAAa7N,IACXkB,KAAKK,OAAOc,OAAO,oBAAqBrC,GACxCkB,KAAKkH,YAGTxF,OAAc,CACZ2F,GAAmB,CACjBhJ,KAAc,KACduO,MAAc,CAAC,SACf5I,MAAc,IACd6I,aAAc,GAEhBtJ,MAAmB,CACjBlF,KAAQ,yBACR2F,MAAQ,KAEVf,QAAmB,CACjB5E,KAAQ,cACR2F,MAAQ,KAEVD,UAAmB,CACjB1F,KAAQ,uBACR2F,MAAQ,KAEV8C,OAAmB,CACjBzI,KAAc,SACd2F,MAAc,IACd6I,aAAc,GAEhBxD,WAAmB,CACjBhL,KAAQ,iCACR2F,MAAQ,IACR6I,aAAc,GAEhBjD,WAAmB,CACjBvL,KAAQ,oCACR2F,MAAQ,IACR6I,aAAc,GAEhB1B,WAAmB,CACjB9M,KAAQ,uBACR2F,MAAQ,IACR6I,aAAc,GAEhBxB,iBAAmB,CACjBhN,KAAQ,wBACR2F,MAAQ,IACR6I,aAAc,GAEhBpL,KAAmB,CACjBpD,KAAQ,aACR2F,MAAQ,IACR6I,aAAc,GAEhB1C,cAAmB,CACjB9L,KAAQ,mBACR2F,MAAQ,IACR6I,aAAc,GAEhB3B,QAAmB,CACjB7M,KAAQ,WACR2F,MAAQ,KAEVoH,YAAmB,CACjB/M,KAAQ,gBACR2F,MAAQ,KAEVc,QAAmB,CACjBzG,KAAQ,cACR2F,MAAQ,KAEVoG,MAAmB,CACjB/L,KAAQ,uBACR2F,MAAQ,MAGZ8I,SAAc,GACdzO,KAAc,WAGhByN,WAAa,GACbJ,KAAa,CACXrN,KAAO,KACPsN,MAAQ,QAEVoB,WAAa,IAGjB9H,SAAS,CACP9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,MAKtCuG,QAAU,CACR,gBACErF,KAAKmD,SAAU,EACf,IAAIoH,QAAevK,KAAKK,OAAOuG,SAAS,sBAAuB5G,KAAK8L,YAEhEkB,EAAW,GAC2BA,EAA1ChN,KAAKK,OAAOC,QAAQ0M,SAAS,WAAwB,UAAuB,GAC5E,IAAI1P,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAO,8BACPzK,KAAO,CACLgR,MAAWjN,KAAKK,OAAOC,QAAQ4M,eAC/BzM,KAAWT,KAAKK,OAAOC,QAAQ6M,eAC/B5C,OAAWA,EACXyC,SAAWA,EACXtB,KAAW1L,KAAK0L,QAEA,WAAjBpO,EAAOwJ,QACR9G,KAAK0M,MAAMvL,OAAO,mBAAmB,CAAC9C,KAAO2B,KAAK2K,KAAKtM,KAAMpC,KAAO,CAAE6Q,SAAWxP,EAAOrB,QACxF+D,KAAK0M,MAAMvL,OAAO,sBAAuB,CACvC9C,KAAO2B,KAAK2K,KAAKtM,KACjBpC,KAAO,CACLqQ,WAAa,CAAE7L,KAAOT,KAAKK,OAAOC,QAAQ6M,kBAAmB7P,EAAOgP,gBAIxEtM,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAsBD,KAAM,UAC5GzB,KAAKmD,SAAQ,GAGf,OAAOlH,GACL+D,KAAK0L,KAAKrN,KAAOpC,EAAKmD,IAClBY,KAAK0L,KAAKrN,OAASpC,EAAKmD,IACJ,QAApBY,KAAK0L,KAAKC,MAAkB3L,KAAK0L,KAAKC,MAAQ,OAAS3L,KAAK0L,KAAKC,MAAQ,MAEzE3L,KAAK0L,KAAKC,MAAQ,OACtB3L,KAAKkH,WAGP,kBAAkBjL,GAChB,IAAImR,EAAenR,IACjB+D,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAKuF,KAAO1I,EAAK0I,KACnC3E,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAKwN,iBAAiB9E,OAC9C9H,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAKwN,MAAM7F,QAAQ,CAACC,EAAIqG,KAC5C,IAAIC,EAAU,CACZlO,IAAQY,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAKwN,MAAMS,GACzC1I,KAAQ1I,EAAK0I,MAEjByI,EAAaE,MAKjBF,EAAanR,GAEb+D,KAAKuN,mBAGP,gBAAgBtR,GACd+D,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAK4E,MAAQ/H,EAAK+H,MACxChE,KAAKuN,mBAGP,gBAAgBtR,GACdA,EAAKA,KAAK8K,QAAQC,IAChB,IAAI5H,EAAM4H,EAAG5H,IAAKsM,EAAO1E,EAAGwG,OAAO9B,KACnC1L,KAAK2K,KAAKjJ,OAAOtC,GAAKsM,KAAOA,IAE/B1L,KAAKuN,mBAGP,wBACE,IAAI7F,EAAOhL,OAAOgL,KAAK1H,KAAK2K,KAAKjJ,QAC7B+L,EAAe/F,EAAKN,IAAI,CAACJ,EAAGqG,KAC9B,IAAI1I,EAEJ,OADmCA,IAAlC,SAAU3E,KAAK2K,KAAKjJ,OAAOsF,KAAchH,KAAK2K,KAAKjJ,OAAOsF,GAAIrC,KACxD,CAACvF,IAAM4H,EAAIhD,MAAQhE,KAAK2K,KAAKjJ,OAAOsF,GAAIhD,MAAQW,KAAOA,EAAM+G,KAAO1L,KAAK2K,KAAKjJ,OAAOsF,GAAI0E,QAE9FpO,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAO,yBACPzK,KAAO,CACL0O,KAAU3K,KAAK2K,KAAKtM,KACpBmP,OAAUE,KAAKC,UAAUF,GACzBhM,KAAU,SAGO,WAAjBnE,EAAOwJ,OACN9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAM1E,EAAOkE,QAASC,KAAO,YAE9DzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,WAGlH,0BAA0BxF,GACxB+D,KAAKmD,SAAU,EACK,QAAhBlH,EAAK2R,QACP5N,KAAK2K,KAAKJ,OAAOqB,SAAS7O,KAAK,CAACsB,KAAOpC,EAAKoC,KAAMpC,KAAOA,EAAKA,OAG5C,WAAhBA,EAAK2R,QACP5N,KAAK2K,KAAKJ,OAAOqB,SAASjO,OAAO1B,EAAKoR,IAAK,GAG7C,IAAI/P,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAO,+BACPzK,KAAO,CACL0O,KAAU1O,EAAK0O,KACf6C,OAAUE,KAAKC,UAAU3N,KAAK2K,KAAKJ,OAAOqB,UAC1CnK,KAAU,SAGM,WAAjBnE,EAAOwJ,OACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAM1E,EAAOkE,QAASC,KAAO,YAE9DzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,UAC7GzB,KAAKmD,SAAU,GAGjB,iBACEnD,KAAKmD,SAAU,EAEf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAO,yBACPzK,KAAO,CACL0O,KAAU3K,KAAK2K,KAAKtM,KACpBoD,KAAU,SAGd,GAAoB,WAAjBnE,EAAOwJ,QAAuBxJ,EAAOrB,KAAKQ,OAAS,EAAG,CACvD,IAAIgR,EAAeC,KAAKG,MAAMvQ,EAAOrB,KAAK,IAC1CwR,EAAa1G,QAAQC,IACdA,EAAG5H,OAAOY,KAAK2K,KAAKjJ,SACvB1B,KAAK2K,KAAKjJ,OAAOsF,EAAG5H,KAAKuF,KAAOqC,EAAGrC,KACnC3E,KAAK2K,KAAKjJ,OAAOsF,EAAG5H,KAAK4E,MAAQgD,EAAGhD,MACpChE,KAAK2K,KAAKjJ,OAAOsF,EAAG5H,KAAKsM,KAAO1E,EAAG0E,QAezC,GAXqB,YAAlBpO,EAAOwJ,QACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,UAG7GnE,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC1CF,IAAO,+BACPzK,KAAO,CACL0O,KAAU3K,KAAK2K,KAAKtM,KACpBoD,KAAU,SAGO,YAAlBnE,EAAOwJ,QAAwBxJ,EAAOrB,KAAKQ,OAAS,EAAG,CACxD,IAAImP,EAAW8B,KAAKG,MAAMvQ,EAAOrB,MACjC2P,EAAS7E,QAAQC,IAAOhH,KAAK2K,KAAKJ,OAAOqB,SAAS7O,KAAKiK,KAEpC,YAAlB1J,EAAOwJ,QACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,UAG7GzB,KAAK0M,MAAM9F,SAAS,aAAc,CAACvI,KAAO2B,KAAK2K,KAAKtM,KAAMpC,KAAO+D,KAAK2K,aAG/D3K,KAAKkH,UAEZlH,KAAK+M,WAAY,EAEjB/M,KAAKmD,SAAU,IAGnB,UACExD,OAAOmO,kBAAoBrH,MAAOY,EAAI0G,EAAUtM,KAI9C,IACE,IAAInE,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAkB,mCAClBsH,iBAAkB,EAClB/R,KAAkB,CAACoL,GAAIA,EAAI5F,KAAOA,KAEhCwM,QAAkB3Q,EAAO2Q,OACzBvH,EAAYwH,IAAIC,gBAAgBF,GAChCG,EAAY1I,SAAS2I,cAAc,KACvCD,EAAKE,KAAW5H,EAChB0H,EAAKG,SAAWR,EAEhBK,EAAKI,QACLN,IAAIO,gBAAgBL,EAAKE,MAC1B,MAAMhJ,GACLtF,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAsBD,KAAM,UAG7G,OAAO,GAERzB,KAAK0O,aClhB0L,ICO/L,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAI3O,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,OAAO,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASQ,GAAgC,OAAxBA,EAAOoB,iBAAwBvC,EAAIM,OAAOc,OAAO,eAAe,aAAa,CAACpB,EAAIe,GAAG,6BAA6BX,EAAG,UAAU,CAACc,YAAY,qBAAqB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,gCAAgCf,EAAIgB,GAAGhB,EAAIgJ,WAAW,OAAQhJ,EAAc,WAAEI,EAAG,KAAK,CAACJ,EAAIe,GAAG,mEAAmEf,EAAIgB,GAAGhB,EAAI4O,YAAY,eAAe5O,EAAIgB,GAAGhB,EAAI6O,cAAc,QAAQ7O,EAAIqB,KAAKjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,YAAY,CAACK,MAAM,CAAC,YAAc,cAAcE,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOnB,EAAIyI,gBAAgBzI,EAAIyC,UAAUf,QAAQc,MAAM,CAACzD,MAAOiB,EAAIyC,UAAc,KAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,OAAQE,IAAML,WAAW,mBAAmBtC,EAAIa,GAAIb,EAAa,WAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,IAAI,GAAGqB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,sBAAsBX,EAAG,YAAY,CAACK,MAAM,CAAC,YAAc,oBAAoBE,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOnB,EAAI0I,wBAAwB1I,EAAIyC,UAAUO,gBAAgBR,MAAM,CAACzD,MAAOiB,EAAIyC,UAAsB,aAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,eAAgBE,IAAML,WAAW,2BAA2BtC,EAAIa,GAAIb,EAAqB,mBAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,IAAI,GAAIiB,EAAI8O,QAAU9O,EAAI4O,WAAYxO,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,mBAAmBX,EAAG,WAAW,CAAC2O,YAAY,CAAC,cAAc,qBAAqBvM,MAAM,CAACzD,MAAOiB,EAAIyC,UAAuB,cAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,gBAAiBE,IAAML,WAAW,8BAA8B,GAAGtC,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,wCAAwCX,EAAG,YAAY,CAAC6C,IAAI,iBAAiBH,MAAM9C,EAAI+C,OAAOG,QAAU,UAAY,GAAGzC,MAAM,CAAC,WAAa,GAAG,OAAS,GAAG,kBAAkB,GAAG,YAAc,sBAAsB,gBAAgBT,EAAImD,kBAAkB,QAAUnD,EAAIoD,QAAQ,SAAiC,YAAtBpD,EAAIyC,UAAUf,MAAoBf,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOnB,EAAIqD,kBAAkB,oBAAoBb,MAAM,CAACzD,MAAOiB,EAAIyC,UAAiB,QAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,UAAWE,IAAML,WAAW,sBAAsBtC,EAAIa,GAAIb,EAAW,SAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAIiB,EAAI+C,OAAc,QAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOG,YAAYlD,EAAIqB,MAAM,IAAI,GAAGjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,+BAA+BX,EAAG,iBAAiB,CAACK,MAAM,CAAC,KAAO,WAAWE,GAAG,CAAC,OAASX,EAAIsD,kBAAkBd,MAAM,CAACzD,MAAOiB,EAAc,WAAE0C,SAAS,SAAUC,GAAM3C,EAAIuD,WAAWZ,GAAKL,WAAW,eAAe,CAAClC,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,kBAAkBL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,cAAc,SAAiC,YAAtBT,EAAIyC,UAAUf,SAAuB,IAAI,GAAGtB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAsB,iBAAnBhB,EAAIuD,WAAgC,wBAA0B,2BAA2BnD,EAAG,YAAY,CAAC6C,IAAI,cAAcH,MAAM9C,EAAI+C,OAAOS,MAAQ,UAAY,GAAG/C,MAAM,CAAC,SAAWT,EAAI2D,eAAe,WAAa,GAAG,OAAS,GAAG,kBAAkB,GAAG,YAA+B,iBAAjB3D,EAAIuD,WAA+B,cAAgB,sBAAsB,gBAAiC,iBAAjBvD,EAAIuD,WAA8BvD,EAAIyD,kBAAoBzD,EAAI0D,qBAAqB,QAAU1D,EAAIoD,QAAQ,SAAiC,YAAtBpD,EAAIyC,UAAUf,MAAoBf,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOnB,EAAIqD,kBAAkB,iBAAiBb,MAAM,CAACzD,MAAOiB,EAAIyC,UAAe,MAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,QAASE,IAAML,WAAW,oBAAoBtC,EAAIa,GAAIb,EAAS,OAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAIiB,EAAI+C,OAAY,MAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOS,UAAUxD,EAAIqB,MAAM,IAAI,GAAGjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,+BAA+BX,EAAG,iBAAiB,CAAC0C,MAAM9C,EAAI+C,OAAOa,WAAa5D,EAAI+C,OAAOc,KAAQ,UAAY,GAAGpD,MAAM,CAAC,KAAO,OAAO,OAAS,aAAa,eAAe,aAAa,YAAc,4BAA4B,iBAAiB,CAAEqD,eAAgB,IAAKtB,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,yBAA0BtC,EAAI+C,OAAW,KAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOc,SAAS7D,EAAIqB,KAAMrB,EAAI+C,OAAgB,UAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOa,cAAc5D,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,QAAQA,EAAG,iBAAiB,CAAC0C,MAAM9C,EAAI+C,OAAOgB,WAAa/D,EAAI+C,OAAOc,KAAO,UAAY,GAAGpD,MAAM,CAAC,KAAO,OAAO,OAAS,aAAa,eAAe,aAAa,YAAc,+BAA+B,iBAAiB,CAAEqD,eAAgB,IAAKtB,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,yBAA0BtC,EAAI+C,OAAgB,UAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOgB,cAAc/D,EAAIqB,MAAM,IAAI,GAAGjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,YAAY,CAAC6C,IAAI,iBAAiBH,MAAM9C,EAAI+C,OAAOiB,UAAY,UAAY,GAAGvD,MAAM,CAAC,YAAc,aAAa,SAAW,IAAI+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,wBAAwBtC,EAAIa,GAAIb,EAAa,WAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAMwC,MAAM,CAAE0C,MAAOjE,EAAIkE,MAAMC,eAAeC,IAAIC,YAAc,GAAI,KAAMC,WAAY,SAAUC,OAAQ,QAAS9D,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,QAAQ,CAACqB,EAAG,MAAM,CAACO,GAAG,CAAC,UAAY,SAASQ,GAAQ,OAAOnB,EAAIwE,uBAAuBrD,GAAO,EAAML,IAAO,SAAW,SAASK,GAAQ,OAAOnB,EAAIwE,uBAAuBrD,GAAQ,EAAO,OAAO,CAACnB,EAAIe,GAAG,IAAIf,EAAIgB,GAAGF,EAAK+B,OAAO,YAAW,GAAI7C,EAAI+C,OAAgB,UAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOiB,cAAchE,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAAC6C,IAAI,aAAaxC,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,iBAAiBX,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,KAAO,KAAK+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAiB,QAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,UAAWE,IAAML,WAAW,wBAAwB,IAAI,GAAGlC,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAAC6C,IAAI,YAAYxC,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,iEAAiEX,EAAG,YAAY,CAAC6C,IAAI,SAASxC,MAAM,CAAC,OAAS,GAAG,eAAc,EAAM,YAAYT,EAAIyC,UAAUkG,YAAY,YAAY3I,EAAI4I,WAAW,YAAY5I,EAAI6I,aAAa,CAACzI,EAAG,YAAY,CAACc,YAAY,eAAeT,MAAM,CAAC,KAAO,SAAS,KAAO,mBAAmB,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAASQ,GAAQnB,EAAI+C,OAAOiB,UAAU,QAAQ,CAAChE,EAAIe,GAAG,sBAAsB,IAAI,GAAGX,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,UAAUA,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,QAAQA,EAAG,YAAY,CAAC0C,MAAM,eAAerC,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,KAAO,WAAWE,GAAG,CAAC,MAAQX,EAAIyE,WAAW,CAACzE,EAAIe,GAAG,sCAAsCf,EAAIgB,GAAGhB,EAAIgJ,WAAW,QAAQ,IAAI,IAAI,GAAG5I,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,MAAMA,EAAG,UAAU,CAACK,MAAM,CAAC,KAAO,yEAAyE,OAAS,SAAS,KAAO,SAAS,KAAO,oBAAoB,CAACT,EAAIe,GAAG,iCAAiC,IAAI,GAAIf,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAAElB,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,gBAAgBf,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI0E,gBAAgBC,SAAS3E,EAAIqB,KAAMrB,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,eAAef,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI0E,gBAAgBzC,SAASjC,EAAIqB,OAAOrB,EAAIqB,MAAM,IAC7xQ,EAAkB,GCmOP,GACb/C,KAAM,cACN,OACE,MAAO,CACLoG,gBAAkB,CAChBE,MAAO,EACP3C,KAAO,GACP0C,KAAO,IAETmE,qBAA2B,GAC3BnF,gBAA2B,EAC3BJ,WAA2B,GAC3BC,MAA2B,GAC3BqB,cAA2B,GAC3B3B,QAA2B,GAC3B4B,gBAA2B,GAC3Bd,UAA2B,GAC3BjB,OAA2B,GAE3BN,UAAkB,CAChBuM,cAAgB,GAChBC,YAAgB,GAChBvN,KAAgB,GAChB8B,MAAgB,KAChBN,QAAgB,GAChBF,aAAgB,GAChBY,UAAgB,GAChBG,UAAgB,GAChBC,UAAgB,GAChBe,QAAgB,GAChBC,KAAgB,GAChB+D,UAAgB,GAChBJ,YAAgB,GAChB1D,QAAgB,KAItBC,SAAU,CACR9B,QAAS,CACPzE,IAAK,WACH,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAK,SAAUpG,GACbkB,KAAKK,OAAOc,OAAO,aAAcrC,KAGrC,oBACE,OAAOkB,KAAKK,OAAOC,QAAQ6E,mBAE7B,YACE,OAAOnF,KAAKK,OAAOC,QAAQ8E,WAE7B,YACE,OAAOpF,KAAKK,OAAOC,QAAQyI,WAE7B,aACE,OAAO/I,KAAKK,OAAOC,QAAQqO,YAE7B,eACE,OAAO3O,KAAKK,OAAOC,QAAQsO,cAE7B,SACE,OAAO5O,KAAKK,OAAOC,QAAQ0M,SAAS,UAGxC3H,QAAS,CACP,uBAAuBC,EAAEC,EAAQ1E,GAC3B0E,GACFvF,KAAKyE,gBAAgBE,MAAO,EAC5B3E,KAAKyE,gBAAgBzC,KAAOnB,EAAKmB,KACjChC,KAAKyE,gBAAgBC,KAAO7D,EAAK6D,KACjC1E,KAAKwF,UAAU,KACb,IAAIC,EAAOC,SAASC,cAAc,yBAC9BC,EAAc,CACZC,EAAIP,EAAEQ,SAEZL,EAAKnE,MAAMyE,SAAW,MACtBN,EAAKnE,MAAM0E,SAAW,WACtBP,EAAKnE,MAAM2E,KAAOjG,KAAKiE,MAAMC,eAAeC,IAAIC,YAAe,GAAK,KAChEwB,EAAYC,EAAI7F,KAAKiE,MAAMC,eAAeC,IAAI+B,wBAAwBL,EAAIJ,EAAKnE,MAAM6E,KAAS,IAAMnG,KAAKiE,MAAMmC,WAAWjC,IAAIkC,aAAe,GAAMrG,KAAKiE,MAAMqC,UAAUnC,IAAIkC,aAAe,GAAK,KAC9LZ,EAAKnE,MAAM6E,KAAS,IAAMnG,KAAKiE,MAAMmC,WAAWjC,IAAIkC,aAAe,GAAKrG,KAAKiE,MAAMqC,UAAUnC,IAAIkC,aAAe,GAAK,SAG7HrG,KAAKyE,gBAAgBE,MAAO,EAC5B3E,KAAKyE,gBAAgBzC,KAAO,GAC5BhC,KAAKyE,gBAAgBC,KAAO,KAIhC,kBAAkBtF,GAChBY,KAAKiE,MAAM7E,GAAKmH,MAAQ,GACxBvG,KAAKiJ,gBAEP,kBAAkB1C,GACF,KAAVA,GACFvG,KAAKwG,OAAOD,EAAO,gBAEvB,qBAAqBA,GACL,KAAVA,GACFvG,KAAKwG,OAAOD,EAAO,mBAEvB,kBAAkBA,GACF,KAAVA,GACFvG,KAAKwG,OAAOD,EAAO,gBAEvB,aAAaA,EAAOnH,GAClB,IAAIsH,EAAKC,EACE,eAAPvH,IACFuH,EAAM,QACND,EAAM,8BAEG,kBAAPtH,IACFuH,EAAM,QACND,EAAM,iCAEG,eAAPtH,IACFuH,EAAM,UACND,EAAM,iCAER,IAAIpJ,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAACF,IAAKA,EAAKzK,KAAM,CAAC4K,EAAGN,KACjD,WAAjBjJ,EAAOwJ,SACT9G,KAAK2G,GAAOrJ,EAAOrB,KAEnB+D,KAAK2G,EAAM,YAAYI,QAAQC,IAC7B,IAAIC,GAAY,EAChBjH,KAAK2G,GAAKI,QAAQlG,GAAQA,EAAK/B,OAASkI,EAAGlI,MAAQmI,GAAY,EAAQ,IACvEA,GAAYjH,KAAK2G,GAAK5J,KAAKiK,OAKjC,oBACEhH,KAAKmD,SAAU,EACfnD,KAAKiD,QAAU,GACf,IAAIc,QAAkB/D,KAAKK,OAAOuG,SAAS,QAAS,CAACF,IAAK,+BAAgCzK,KAAM,KACxE,WAApB8H,EAAU+C,SACZ9G,KAAK+D,UAAYA,EAAU9H,KAAKmL,IAAIJ,IAC3B,CAAClI,MAAOkI,EAAGK,GAAG,GAAGvI,MAAO8D,MAAOoE,EAAG3I,KAAK,GAAGS,MAAOkD,KAAOgF,EAAGhF,KAAK,GAAGlD,MAAO4F,KAAOsC,EAAGtC,KAAK,GAAG5F,UAGvG,IAAIxB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAQ,kCACRzK,KAAQ,CAACoL,GAAIrH,KAAK+I,aAEpB,GAAqB,WAAjBzL,EAAOwJ,OAAqB,CACL,eAAzBxJ,EAAOrB,KAAKiN,SAA4BlJ,KAAKsD,WAAa,eAAiBtD,KAAKsD,WAAa,cAC7FtD,KAAKuD,MAAQjG,EAAOrB,KAAKsH,MACzBvD,KAAKiD,QAAQlG,KAAKO,EAAOrB,KAAKgH,SAC9B,IA4BIgM,EA5BA9F,EAAa,KACW,aAAxB7L,EAAOyF,cAA+C,aAAhBzF,EAAOmE,MAC/CzB,KAAK0D,gBAAiB,EACtByF,EAAe7L,EAAOrB,KAAKsH,MAAM6D,IAAIJ,GAAcA,EAAGlI,SAErDkB,KAAK0D,gBAAiB,EAEpByF,EADE7L,EAAOrB,KAAKsH,MAAM9G,OAAS,EACda,EAAOrB,KAAKsH,MAAM,GAAGzE,MACf,IAG1BkB,KAAKwC,UAAY,CACf6E,GAAkBrH,KAAK+I,UACvBtH,KAAkBnE,EAAOrB,KAAKwF,KAC9BsN,cAAkB/O,KAAK4O,aACvBI,YAAkBhP,KAAK2O,WACvB1L,QAAkB3F,EAAOrB,KAAKgH,QAAQnE,MACtCiE,aAAkBzF,EAAOrB,KAAKkO,cAC9B5G,MAAkB4F,EAClBxF,UAAkBrG,EAAOrB,KAAKoN,WAC9BvF,UAAkBxG,EAAOrB,KAAK2N,WAC9B7F,UAAkBzG,EAAOrB,KAAK8H,UAC9Be,QAAkBxH,EAAOrB,KAAK6I,QAC9BgE,UAAkBxL,EAAOrB,KAAKmO,MAC9B1B,YAAkBpL,EAAOrB,KAAKmO,MAC9BrF,KAAkB,IAIpB/E,KAAKK,OAAOC,QAAQgL,WAAWvE,QAAQC,IAClCA,EAAGlI,QAAUxB,EAAOrB,KAAK6K,SAAQmI,EAAejI,EAAGpE,SAExD5C,KAAKK,OAAOc,OAAO,kBAAmB,CAAC2F,OAASxJ,EAAOrB,KAAK6K,OAAQhI,MAAQmQ,SAE1EjP,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,qBAAsBD,KAAM,UAChGzB,KAAKmD,SAAU,GAEjB,wBACEnD,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAACF,IAAK,sCAAuCzK,KAAM,KAC/E,WAAjBqB,EAAOwJ,SACT9G,KAAKwC,UAAUe,MAAQjG,EAAOrB,KAAKkL,KAAKrI,MACxCkB,KAAKuD,MAAMxG,KAAKO,EAAOrB,KAAKkL,MAC5BnH,KAAKwC,UAAUS,QAAU3F,EAAOrB,KAAKgH,QAAQnE,MAC7CkB,KAAKiD,QAAQlG,KAAKO,EAAOrB,KAAKgH,UAEhCjD,KAAKmD,SAAU,GAGjB,WAAW4B,GACT/E,KAAKwC,UAAUuC,KAAKhI,KAAKgI,EAAK8C,MAEhC,WAAW9C,GACT/E,KAAKwC,UAAUsG,UAAY9I,KAAKwC,UAAUsG,UAAUyB,OAAOvD,GAAMA,EAAGwD,MAAQzF,EAAKyF,KACjFxK,KAAKwC,UAAUuC,KAAO/E,KAAKwC,UAAUuC,KAAKwF,OAAOvD,GAAMA,EAAGwD,MAAQzF,EAAKyF,MAGzE,iBACMxK,KAAKiE,MAAMuD,OAAOC,YAAYhL,OAAS,EAAIuD,KAAKwC,UAAUwC,QAAS,EAClEhF,KAAKwC,UAAUwC,QAAS,EAE7BhF,KAAK8C,aAAe9C,KAAKK,OAAOuG,SAAS,cAAe,CAACpE,UAAYxC,KAAKwC,YAGrC,KAAjCxC,KAAKwC,UAAUuM,gBAAsB/O,KAAKwC,UAAUuM,cAAgB/O,KAAK4O,cAEvC,IAAlClS,OAAOgL,KAAK1H,KAAK8C,QAAQrG,QAC3BuD,KAAKmM,SAAS,oEAAoEnM,KAAK+I,eAAeqD,KAAK3F,UACzG,IAAInJ,EAEJ,GADA0C,KAAKmD,SAAU,EACXnD,KAAKwC,UAAUuC,KAAKtI,OAAQ,CAC9B,IAAIR,EAAO,IAAI0L,SACf1L,EAAK2L,OAAO,KAAiB5H,KAAKwC,UAAU6E,IAC5CpL,EAAK2L,OAAO,OAAiB5H,KAAKwC,UAAUf,MAC5CxF,EAAK2L,OAAO,gBAAiB5H,KAAKwC,UAAUuM,eAC5C9S,EAAK2L,OAAO,cAAiB5H,KAAKwC,UAAUwM,aAC5C/S,EAAK2L,OAAO,eAAiB5H,KAAKwC,UAAUO,cAC5C9G,EAAK2L,OAAO,YAAiB5H,KAAKwC,UAAUmB,WAC5C1H,EAAK2L,OAAO,YAAiB5H,KAAKwC,UAAUsB,WAC5C7H,EAAK2L,OAAO,UAAiB5H,KAAKwC,UAAUsC,SAC5C7I,EAAK2L,OAAO,UAAiB5H,KAAKwC,UAAUS,SACxB,iBAApBjD,KAAKsD,WAAgCrH,EAAK2L,OAAO,WAAY,cAAgB3L,EAAK2L,OAAO,WAAY,UACrG,IAAK,IAAIrL,EAAI,EAAGA,EAAIyD,KAAKwC,UAAUuC,KAAKtI,OAAQF,IAC9CN,EAAK2L,OAAO,QAAUrL,EAAI,IAAKyD,KAAKwC,UAAUuC,KAAKxI,IAErD,IAAK,IAAIA,EAAI,EAAGA,EAAIyD,KAAKwC,UAAUsG,UAAUrM,OAAQF,IACnDN,EAAK2L,OAAO,aAAerL,EAAI,IAAKyD,KAAKwC,UAAUsG,UAAUvM,GAAG8K,IAElE,GAAIrH,KAAKwC,UAAUe,iBAAiBuE,MAClC,IAAK,IAAIvL,EAAI,EAAGA,EAAIyD,KAAKwC,UAAUe,MAAM9G,OAAQF,IAC/CN,EAAK2L,OAAO,SAAWrL,EAAI,IAAKyD,KAAKwC,UAAUe,MAAMhH,SAGrDN,EAAK2L,OAAO,WAAgB5H,KAAKwC,UAAUe,OAC/C,IAAK,IAAIhH,EAAI,EAAGA,EAAIyD,KAAKwC,UAAUuB,UAAUtH,OAAQF,IACnDN,EAAK2L,OAAO,aAAerL,EAAI,IAAKyD,KAAKwC,UAAUuB,UAAUxH,IAE/De,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC3CF,IAAc,kCACdzK,KAAcA,EACdwF,KAAc,cAGfzB,KAAKwC,UAAUsG,UAAY9I,KAAKwC,UAAUsG,UAAU1B,IAAIJ,GAAMA,EAAGK,IAC7C,iBAApBrH,KAAKsD,WAAgCtD,KAAKwC,UAAU0G,SAAW,aAAelJ,KAAKwC,UAAU0G,SAAW,SACxG5L,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC5CF,IAAc,kCACdzK,KAAc+D,KAAKwC,YAGF,WAAjBlF,EAAOwJ,cACH9G,KAAKkP,cACXlP,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,WAAYD,KAAM,aAEhFzB,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,qBAAsBD,KAAM,UAChGzB,KAAKmD,SAAU,EACfnD,KAAKK,OAAOc,OAAO,eAAe,YACjCkL,MAAM,SAGb,gBAAgBvN,GACA,YAAVA,GAAuD,aAAhCkB,KAAKwC,UAAUO,eACxC/C,KAAKwC,UAAUe,MAAY,GAC3BvD,KAAK0D,gBAAsB,EAC3B1D,KAAK4E,cAAsB,GAC3B5E,KAAKwC,UAAUS,QAAa,IAEhB,YAAVnE,GAAuD,aAAhCkB,KAAKwC,UAAUO,eACxC/C,KAAKwC,UAAUe,MAAY,GAC3ByE,WAAW,KACThI,KAAKwC,UAAUe,MAAU,GACzBvD,KAAK0D,gBAAoB,GACxB,GACH1D,KAAKwC,UAAUS,QAAU,IAEb,aAAVnE,IACFkB,KAAKsD,WAAqB,eAC1BtD,KAAKuD,MAAqB,GAC1BvD,KAAK4E,cAAqB,GAC1B5E,KAAKiD,QAAqB,GAC1BjD,KAAKwC,UAAUe,MAAW,GAC1BvD,KAAK0D,gBAAqB,EAC1B1D,KAAKqK,oBAGT,wBAAwBlC,GACtB,IAAIC,EAASpI,KAAK6I,qBAClB,GAAiB,aAAbV,GAAmD,aAAxBnI,KAAKwC,UAAUf,KAAqB,CACjE,IAAI4G,EAAMrI,KAAKwC,UAAUe,MACzBvD,KAAKwC,UAAUe,MAAQ,GACvByE,WAAW,KACHhI,KAAKwC,UAAUe,MAArB8E,EAA6B,CAACA,GAA8B,GAC5DrI,KAAK0D,gBAAiB,GACrB,GACH2E,IAAMrI,KAAK4E,cAAgB,CAACyD,IAE9B,GAAiB,aAAbD,GAAmD,aAAxBpI,KAAKwC,UAAUf,KAAqB,CACjE,IAAI4G,EACJrI,KAAKwC,UAAUe,MAAM,KAAK8E,EAAMrI,KAAKwC,UAAUe,MAAM,IACrDvD,KAAKwC,UAAUe,MAAW,GAC1ByE,WAAW,KACThI,KAAK0D,gBAAmB,EACxB1D,KAAKwC,UAAUe,MAAS8E,GACvB,GACHrI,KAAK4E,cAAqB,CAACyD,KAG/B,mBACErI,KAAKwC,UAAUe,MAAa,KAC5BvD,KAAKuD,MAAuB,GAC5BvD,KAAK4E,cAAuB,GAC5B5E,KAAK8C,OAAOiB,UAAgB,OAIhC,UACE/D,KAAKkP,eAIPnH,MAAO,CAEL,yBAA0B,SAAUK,GAClCpI,KAAK6I,qBAAuBT,EAC5BpI,KAAK8C,OAAOC,aAAgB,MAE9B,kBAAmB,SAAUjE,GAEzB,GADAkB,KAAK8C,OAAOS,MAAQ,KAChBzE,aAAiBgJ,MAAO,CAE1B9H,KAAKuD,MAAMwD,QAAQC,IACjB,GAAIlI,EAAMmJ,QAAQjB,EAAGlI,QAAU,EAAG,CAChC,IAAImI,GAAY,EAChBjH,KAAK4E,cAAcmC,QAAQlG,GAAQA,EAAK/B,QAAUkI,EAAGlI,MAAQmI,GAAY,EAAQ,IACjFA,GAAYjH,KAAK4E,cAAc7H,KAAKiK,MAIxC,IAAIkB,EAAM,GACVlI,KAAK4E,cAAcmC,QAAQC,GAAMlI,EAAMmJ,QAAQjB,EAAGlI,QAAU,EAAIoJ,EAAInL,KAAKiK,GAAM,IAC/EhH,KAAK4E,cAAgBsD,IAG3B,oBAAqB,SAAUpJ,GAC7BkB,KAAK8C,OAAOG,QAAU,KACtBnE,GAAQkB,KAAK6E,gBAAgB9H,KAAK+B,IAEpC,sBAAuB,WACrBkB,KAAK8C,OAAOiB,UAAY,MAE1B,oBAAsB,WACpB/D,KAAK8C,OAAOiB,UAAY,MAE1B,sBAAuB,WACrB/D,KAAK8C,OAAOc,KAAY,KACxB5D,KAAK8C,OAAOa,UAAY,MAE1B,sBAAuB,WACrB3D,KAAK8C,OAAOc,KAAY,KACxB5D,KAAK8C,OAAOgB,UAAY,QCnlBqK,ICO/L,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAI/D,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACc,YAAY,gBAAgB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,OAAO,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASQ,GAAgC,OAAxBA,EAAOoB,iBAAwBvC,EAAIM,OAAOc,OAAO,eAAe,WAAW,CAACpB,EAAIe,GAAG,0BAA0BX,EAAG,UAAU,CAACc,YAAY,oBAAoBT,MAAM,CAAC,KAAO,eAAeE,GAAG,CAAC,YAAYX,EAAIY,eAAe4B,MAAM,CAACzD,MAAOiB,EAAQ,KAAE0C,SAAS,SAAUC,GAAM3C,EAAIU,KAAKiC,GAAKL,WAAW,SAAS,CAACtC,EAAIa,GAAIb,EAAQ,MAAE,SAASc,EAAKzB,GAAK,OAAOe,EAAG,cAAc,CAACf,IAAIA,EAAIoB,MAAM,CAAC,MAAQK,EAAK,KAAOzB,QAAuB,SAAbW,EAAIU,KAAiBN,EAAG,QAAQJ,EAAIqB,KAAmB,aAAbrB,EAAIU,KAAqBN,EAAG,WAAW,CAACO,GAAG,CAAC,WAAa,SAASQ,GAAQnB,EAAIU,KAAK,WAAWV,EAAIqB,KAAmB,aAAbrB,EAAIU,KAAqBN,EAAG,WAAW,CAACO,GAAG,CAAC,WAAa,SAASQ,GAAQnB,EAAIU,KAAK,WAAWV,EAAIqB,KAAmB,YAAbrB,EAAIU,KAAoBN,EAAG,UAAU,CAACO,GAAG,CAAC,WAAa,SAASQ,GAAQnB,EAAIU,KAAK,WAAWV,EAAIqB,MAAM,GAAGjB,EAAG,MAAM,CAACc,YAAY,qBAAqB,CAACd,EAAG,MAAMA,EAAG,UAAU,CAACK,MAAM,CAAC,KAAO,yEAAyE,OAAS,SAAS,KAAO,SAAS,KAAO,oBAAoB,CAACT,EAAIe,GAAG,iCAAiC,IAAI,IACzxC,EAAkB,GCDlB,EAAS,WAAa,IAAIf,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,KAAK,CAACJ,EAAIe,GAAG,aAAaf,EAAIgB,GAAGhB,EAAIgJ,cAAc5I,EAAG,KAAK,CAACJ,EAAIe,GAAG,mBAAmBf,EAAIgB,GAAGhB,EAAIoP,cAAcrQ,OAAO,IAAIiB,EAAIgB,GAAGhB,EAAIwL,UAAY,kBAAoB,IAAI,IAAIxL,EAAIgB,GAA8B,aAA3BhB,EAAIoP,cAAcrI,OAAsB,2CAA6C,SAAS3G,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAAET,EAAIqP,iBAAmBrP,EAAIsP,aAAclP,EAAG,MAAM,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAAC2O,YAAY,CAAC,cAAc,qBAAqBtO,MAAM,CAAC,KAAO,SAAS,KAAO,oBAAoB,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIuP,eAAe,CAACvP,EAAIe,GAAG,0BAA0Bf,EAAIgB,GAAGhB,EAAI6O,cAAc,QAAQ,GAAG7O,EAAIqB,QAAQ,GAAKrB,EAAIoD,QAAkDpD,EAAIqB,KAA7CjB,EAAG,WAAW,CAACK,MAAM,CAAC,KAAOT,EAAI4E,QAA6C,cAA3B5E,EAAIoP,cAAcrI,QAA0B/G,EAAIwP,OAAgOxP,EAAIqB,KAA5NjB,EAAG,MAAM,CAACc,YAAY,yBAAyB,CAACd,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,eAAe,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIyP,aAAa,CAACzP,EAAIe,GAAG,0BAA0B,GAAwC,cAA3Bf,EAAIoP,cAAcrI,QAAmD,YAA3B/G,EAAIoP,cAAcrI,QAAwB/G,EAAIwP,OAAgoCxP,EAAIqB,KAA5nCjB,EAAG,MAAM,CAACc,YAAY,yBAAyB,CAAElB,EAAI0P,WAAa1P,EAAI2P,eAAiB3P,EAAI8O,OAAQ1O,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,eAAe,KAAO,OAAO,SAAWT,EAAI4P,iBAAiBjP,GAAG,CAAC,MAAQX,EAAI6P,cAAc,CAAC7P,EAAIe,GAAG,4BAA4Bf,EAAIqB,MAAOrB,EAAI0P,WAAa1P,EAAI8P,mBAAgD,YAA3B9P,EAAIoP,cAAcrI,OAAoB3G,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,KAAO,SAAS,SAAWT,EAAI+P,mBAAmBpP,GAAG,CAAC,MAAQX,EAAIgQ,gBAAgB,CAAChQ,EAAIe,GAAG,sBAAsBf,EAAIqB,KAAMrB,EAAIqP,iBAA8C,YAA3BrP,EAAIoP,cAAcrI,OAAoB3G,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,gBAAgB,KAAO,OAAO,SAAsC,YAA3BT,EAAIoP,cAAcrI,QAAoBpG,GAAG,CAAC,MAAQX,EAAIiQ,iBAAiB,CAACjQ,EAAIe,GAAG,sBAAsBf,EAAIqB,MAAOrB,EAAI2P,eAAiB3P,EAAI8O,SAAwC,cAA7B9O,EAAIoP,cAAcrI,OAAwB3G,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,gBAAgB,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIkQ,gBAAgB,CAAClQ,EAAIe,GAAG,wBAAwBf,EAAIqB,MAAM,GAAarB,EAAU,OAAEI,EAAG,MAAM,CAACc,YAAY,qBAAqB,CAAClB,EAAImQ,GAAG,GAAG/P,EAAG,WAAW,CAAC0C,MAAM9C,EAAI+C,OAAOgC,QAAU,UAAY,GAAGtE,MAAM,CAAC,KAAO,WAAW,KAAO,KAAK+B,MAAM,CAACzD,MAAOiB,EAAW,QAAE0C,SAAS,SAAUC,GAAM3C,EAAI+E,QAAQpC,GAAKL,WAAW,aAActC,EAAI+C,OAAc,QAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOgC,YAAY/E,EAAIqB,KAAKjB,EAAG,MAAM,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,eAAe,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIoQ,sBAAsB,CAACpQ,EAAIe,GAAG,aAAaX,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,gBAAgB,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIqQ,uBAAuB,CAACrQ,EAAIe,GAAG,kBAAkB,IAAI,GAAGf,EAAIqB,KAAiC,cAA3BrB,EAAIoP,cAAcrI,QAAyB/G,EAAI0P,WAAc1P,EAAIqP,iBAAmBrP,EAAI8P,iBAAwT9P,EAAIqB,KAA1SjB,EAAG,MAAM,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,eAAe,MAAQ,GAAG,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOnB,EAAIM,OAAOc,OAAO,eAAgB,WAAW,CAACpB,EAAIe,GAAG,2BAA2B,IAAa,IAC/lH,EAAkB,CAAC,WAAa,IAAIf,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,IAAI,CAACJ,EAAIe,GAAG,mCCDjI,EAAS,WAAa,IAAIf,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,WAAW,CAACc,YAAY,qBAAqBT,MAAM,CAAC,KAAOT,EAAI4E,KAAK0L,UAAU,CAAClQ,EAAG,kBAAkB,CAACK,MAAM,CAAC,KAAO,UAAU,MAAQ,SAASL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,OAAOoB,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASwO,GAAO,OAAOvQ,EAAIa,GAAI0P,EAAMpE,IAAW,SAAE,SAASrL,GAAM,OAAOV,EAAG,IAAI,CAAC2O,YAAY,CAAC,OAAS,QAAQ,CAAC3O,EAAG,OAAO,CAAC4B,SAAS,CAAC,UAAYhC,EAAIgB,GAAGF,iBAAmBV,EAAG,kBAAkB,CAACK,MAAM,CAAC,KAAO,UAAU,MAAQ,SAASL,EAAG,kBAAkB,CAACyB,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASwO,GAAO,OAAOvQ,EAAIa,GAAI0P,EAAMpE,IAAW,SAAE,SAASrL,GAAM,OAAOV,EAAG,IAAI,CAAC2O,YAAY,CAAC,OAAS,QAAQ,CAAC3O,EAAG,OAAO,CAAC4B,SAAS,CAAC,UAAYhC,EAAIgB,GAAGF,kBAAoB,GAAGV,EAAG,WAAW,CAACK,MAAM,CAAC,KAAOT,EAAI4E,KAAK4L,UAAU,CAACpQ,EAAG,kBAAkB,CAACK,MAAM,CAAC,KAAO,QAAQ,MAAQ,SAASL,EAAG,kBAAkB,CAACyB,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASwO,GAAO,OAAOvQ,EAAIa,GAAI0P,EAAMpE,IAAS,OAAE,SAASrL,GAAM,OAAOV,EAAG,IAAI,CAAC2O,YAAY,CAAC,OAAS,QAAQ,CAAC3O,EAAG,OAAO,CAAC4B,SAAS,CAAC,UAAYhC,EAAIgB,GAAGF,kBAAoB,IAAI,IACnnC,EAAkB,GCgDP,GACbxC,KAAQ,wBACRiS,MAAQ,CAAC,SCnDkM,ICOzM,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QCkGA,GACbjS,KAAa,oBACbmS,WAAa,CAACC,SAAA,GACd,OACE,MAAO,CACL3L,QAAoB,GACpBH,KAAoB,CAClB0L,QAAW,GACXE,QAAW,IAEbxM,UAAoB,GACpBwL,QAAoB,EAEpBnI,IAAoB,GACpBtE,OAAoB,CAClBgC,QAAkB,MAIxBG,SAAW,CACT9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,KAIpC,kBACE,OAAIkB,KAAKoP,gBAC+B,YAA9BpP,KAAKmP,cAAcrI,QAAsD,aAA9B9G,KAAKmP,cAAcrI,QAAuD,cAA9B9G,KAAKmP,cAAcrI,OAChH9G,KAAKyP,UAC+B,YAA9BzP,KAAKmP,cAAcrI,QAAsD,aAA9B9G,KAAKmP,cAAcrI,YADxE,GAGF,oBACE,SAAwC,YAA9B9G,KAAKmP,cAAcrI,QAAsD,aAA9B9G,KAAKmP,cAAcrI,SAA0B9G,KAAKyP,WAA2C,aAA9BzP,KAAKmP,cAAcrI,QAAyB9G,KAAK6P,mBAGvK,YACE,OAAO7P,KAAKK,OAAOC,QAAQyI,WAE7B,gBACE,OAAO/I,KAAKK,OAAOC,QAAQoQ,cAG7B,eACE,OAAO1Q,KAAKK,OAAOC,QAAQqQ,aAE7B,YACE,OAAO3Q,KAAKK,OAAOC,QAAQiL,WAE7B,aACE,OAAOvL,KAAKK,OAAOC,QAAQqO,YAE7B,eACE,OAAO3O,KAAKK,OAAOC,QAAQsO,cAE7B,UACE,OAAO5O,KAAKK,OAAOC,QAAQsQ,QAE7B,YACE,OAAO5Q,KAAKK,OAAOC,QAAQmP,WAE7B,gBACE,OAAOzP,KAAKK,OAAOC,QAAQoP,eAE7B,kBACE,OAAO1P,KAAKK,OAAOC,QAAQ0M,SAAS,kBAEtC,SACE,OAAOhN,KAAKK,OAAOC,QAAQ0M,SAAS,SAEtC,mBACEhN,KAAKK,OAAOC,QAAQ0M,SAAS,oBAGjC3H,QAAU,CACR,eACErF,KAAKK,OAAOc,OAAO,UAAW,YAC9BnB,KAAKK,OAAOc,OAAO,eAAgB,WAErC,aACEnB,KAAKmM,SAAS,8EAA8EnM,KAAK+I,eAAeqD,KAAK,KACnHpM,KAAKK,OAAOc,OAAO,UAAW,WAC9BnB,KAAKK,OAAOc,OAAO,eAAgB,gBAClCkL,MAAM,SAEX,cACIrM,KAAKmM,SAAS,sDAAsDnM,KAAK+I,eAAeqD,KAAK,KAC3FpM,KAAKK,OAAOc,OAAO,eAAgB,UAClCkL,MAAM,SAEb,gBACoC,YAA9BrM,KAAKmP,cAAcrI,QAAsD,aAA9B9G,KAAKmP,cAAcrI,OAChE9G,KAAKmM,SAAS,gDAAgDnM,KAAK+I,eAAeqD,KAAK3F,UACrFzG,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAK,gCACLzK,KAAM,CACJoL,GAAKrH,KAAK+I,aAGO,WAAjBzL,EAAOwJ,QACT9G,KAAKK,OAAOc,OAAO,qBAAqB,IACxCnB,KAAKK,OAAOc,OAAO,kBAAqB,IACxCnB,KAAKK,OAAOc,OAAO,kBAAqB,GACxCnB,KAAKK,OAAOc,OAAO,eAAqB,MACxCnB,KAAKK,OAAOc,OAAO,mBAAqB,MACxCnB,KAAKK,OAAOc,OAAO,eAAqB,QACxCnB,KAAKK,OAAOc,OAAO,aAAqB,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,WAAYD,KAAM,aAEzFzB,KAAKK,OAAOc,OAAO,aAAqB,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,qBAAsBD,KAAM,UACrGzB,KAAKmD,SAAU,IACdkJ,MAAM,QAETrM,KAAKK,OAAOc,OAAO,aAAa,CAACO,OAAS,2BAA2B1B,KAAKmP,cAAcrQ,SAAUkD,KAAM,0FAA2FP,KAAO,aAE9M,iBACoC,YAA9BzB,KAAKmP,cAAcrI,OACrB9G,KAAKmM,SAAS,yDAAyDnM,KAAK+I,eAAeqD,KAAK3F,UAC9FzG,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,kCACRzK,KAAQ,CACNoL,GAAMrH,KAAK+I,aAGK,WAAjBzL,EAAOwJ,QACR9G,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,WAAYD,KAAM,YAClFzB,KAAKK,OAAOc,OAAO,mBAAoBnB,KAAK6Q,eACtC7Q,KAAKkH,UACXlH,KAAKK,OAAOc,OAAO,kBAAmB,CAAC2F,OAASxJ,EAAOwT,eAAeC,GAAIjS,MAAQxB,EAAOwT,eAAeE,OAExGhR,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQE,OAAS,qBAAsBD,KAAM,UAC9FzB,KAAKmD,SAAU,IACdkJ,MAAM,QAETrM,KAAKK,OAAOc,OAAO,aAAa,CAACO,OAAS,2BAA2B1B,KAAKmP,cAAcrQ,SAAUkD,KAAM,2EAA4EP,KAAO,aAE/L,gBACEzB,KAAKuP,QAAS,EACdvH,WAAW,KAAOrI,OAAOsR,SAAS,EAAE,OAAQ,IAE9C,uBACMjR,KAAK8E,QACP9E,KAAKmM,SAAS,kDAAkDnM,KAAK+I,eAAeqD,KAAK3F,UACvFzG,KAAKmD,SAAU,EACf,IAAI+N,QAAqBlR,KAAKK,OAAOuG,SAAS,QAAQ,CACpDF,IAAU,oCACVzK,KAAW,CACToL,GAAiBrH,KAAK+I,UACtBiG,YAAiBhP,KAAK2O,WACtBwC,UAAiB,EACjBC,OAAiBpR,KAAK8E,WAGC,WAAvBoM,EAAapK,QACf9G,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAMkP,EAAa1P,QAASE,OAAQ,WAAYD,KAAM,kBAClFzB,KAAKkH,UACXlH,KAAKK,OAAOc,OAAO,kBAAmB,CAAC2F,OAASoK,EAAaJ,eAAeC,GAAIjS,MAAQoS,EAAaJ,eAAeE,MACpHhR,KAAKK,OAAOc,OAAO,eAAgB,IAEnCnB,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAMkP,EAAa1P,QAASE,OAAQ,0CAA2CD,KAAM,UACzHzB,KAAK8E,QAAU,GACf9E,KAAKuP,QAAU,EACfvP,KAAKmD,SAAU,IACdkJ,MAAM,QACJrM,KAAK8C,OAAOgC,QAAU,+BAE/B,sBACE9E,KAAK8E,QAAU,GACf9E,KAAKuP,QAAU,GAEjB,gBACEvP,KAAKmD,SAAU,EAGfnD,KAAKK,OAAOC,QAAQ8E,UAAU2B,QAAQC,IAAOhH,KAAKoH,IAAIJ,EAAGlI,OAASkI,EAAGpE,QACrE5C,KAAKK,OAAOC,QAAQ6E,kBAAkB4B,QAAQC,IAAOhH,KAAKoH,IAAIJ,EAAGlI,OAASkI,EAAGpE,QAC7E5C,KAAKK,OAAOC,QAAQgL,WAAWvE,QAAQC,IAAOhH,KAAKoH,IAAIJ,EAAGlI,OAASkI,EAAGpE,QAGtE,IAAImB,QAAkB/D,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,+BAA+BzK,KAAO,KACxE,WAApB8H,EAAU+C,SACZ9G,KAAK+D,UAAYA,EAAU9H,KAAKmL,IAAIJ,IAC3B,CAAClI,MAAQkI,EAAGK,GAAG,GAAGvI,MAAO8D,MAAQoE,EAAG3I,KAAK,GAAGS,UAKvD,IAAIxB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,kCAAkCzK,KAAO,CAACoL,GAAKrH,KAAK+I,aAE3G,GAAoB,WAAjBzL,EAAOwJ,OAAqB,CAGzBxJ,EAAOrB,KAAKyJ,SAASjJ,OAAS,GAChCuD,KAAKK,OAAOc,OAAO,gBAAiB7D,EAAOrB,KAAKyJ,SAAS,GAAG2B,IAC5DrH,KAAKK,OAAOc,OAAO,kBAAmB7D,EAAOrB,KAAKyJ,SAAS,GAAGrH,MAC9D2B,KAAKK,OAAOc,OAAO,qBAAsB7D,EAAOrB,KAAKyJ,SAAS,GAAG2L,WAEjErR,KAAKK,OAAOc,OAAO,gBAAgB,MACnCnB,KAAKK,OAAOc,OAAO,kBAAkB,MACrCnB,KAAKK,OAAOc,OAAO,qBAAsB,OAI3CnB,KAAKK,OAAOc,OAAO,kBAAmB7D,EAAOrB,KAAK6K,OAAO,IAGzD9G,KAAKK,OAAOc,OAAO,iBAAkB7D,EAAOrB,KAAKoT,cAGjDrP,KAAKK,OAAOc,OAAO,mBAAoB7D,EAAOrB,KAAKqV,kBAGhDhU,EAAOrB,KAAKqV,iBACXtR,KAAKK,OAAOc,OAAO,cAAe7D,EAAOrB,KAAKsV,cAAc,GAAGzS,OAC3DkB,KAAKK,OAAOc,OAAO,cAAe,IAG1CnB,KAAKK,OAAOc,OAAO,eAAgB7D,EAAOrB,KAAKsP,WAG/CvL,KAAKK,OAAOc,OAAO,eAAgB7D,EAAOrB,KAAKiP,QAAQ,GAAGpM,OACtDxB,EAAOrB,KAAKmP,YAAY3O,OAAS,GAAGuD,KAAKK,OAAOc,OAAO,mBAAoB7D,EAAOrB,KAAKmP,YAAY,GAAGhM,KAK1G,IAAI2E,EAAY,GAChBzG,EAAOrB,KAAK8H,UAAUtH,OAAS,EAC7Ba,EAAOrB,KAAK8H,UAAUgD,QAAQC,IAAOhH,KAAK+D,UAAUgD,QAAQlG,IAASA,EAAK/B,QAAUkI,GAAKjD,EAAUhH,KAAK8D,EAAK+B,WAC7GmB,EAAUhH,KAAK,cAGjB,IAAIqU,EAAS,GACiCA,EAAZ,aAA9BpR,KAAKmP,cAAcrI,OAAgCxJ,EAAOrB,KAAKuV,YAAc,KAAOlU,EAAOrB,KAAKwV,WAA7CnU,gBAAgFA,EAAOrB,KAAKmV,OAAsB,GAGzK,IAAIhH,EAAQ,GACZ9M,EAAOrB,KAAKmO,MAAM3N,OAAS,EAAI2N,EAAQ9M,EAAOrB,KAAKmO,MAAMhD,IAAIJ,GAAcA,EAAGlI,OAAUsL,EAAMrN,KAAK,cAInGiD,KAAK2E,KAAK0L,QAAU,CAClB,CAACqB,QAAU,aAAoBC,QAAU,CAAC3R,KAAKoH,IAAI9J,EAAOrB,KAAKwF,OAAiBmQ,QAAU,uBAAwBC,QAAU,CAACvU,EAAOrB,KAAKkP,aACzI,CAACuG,QAAU,mBAAoBC,QAAU,CAAC3R,KAAKoH,IAAI9J,EAAOrB,KAAKkO,gBAAiByH,QAAU,uBAAwBC,QAAU,CAACvU,EAAOrB,KAAKoP,oBAI3I,IAAIyG,EAAc,GAAIxO,EAAY,GAGlC,GAFAA,EAAahG,EAAOrB,KAAKiN,SAEN,eAAf5F,GACF,GAAIhG,EAAOrB,KAAKsH,MAAM9G,OAAS,EAC7B,IAAK,IAAIF,EAAI,EAAGA,EAAIe,EAAOrB,KAAKsH,MAAM9G,OAAQF,IAE5C,GADAuV,EAAY/U,KAAKO,EAAOrB,KAAKsH,MAAMhH,GAAG+R,KAAO,KAAOhR,EAAOrB,KAAKsH,MAAMhH,GAAGwV,WAAa,KAAMzU,EAAOrB,KAAKsH,MAAMhH,GAAGyJ,UAC7G1I,EAAOrB,KAAKsH,MAAMhH,GAAGyV,eAAelK,MACtC,IAAK,IAAIrK,EAAI,EAAGA,EAAIH,EAAOrB,KAAKsH,MAAMhH,GAAGyV,IAAIvV,OAAQgB,IAAOqU,EAAY/U,KAAK,KAAOO,EAAOrB,KAAKsH,MAAMhH,GAAGyV,IAAIvU,GAAGY,KAAO,KAAOf,EAAOrB,KAAKsH,MAAMhH,GAAGyV,IAAIvU,GAAGuI,SAAW,WAKvK1I,EAAOrB,KAAKsH,MAAM9G,OAAS,GAC7BqV,EAAY/U,KAAKO,EAAOrB,KAAKsH,MAAM,GAAGX,OAI1C5C,KAAK2E,KAAK4L,QAAS,CACjB,CAAC3N,MAAQ,WAAsC9D,MAAQxB,EAAOrB,KAAKiP,QAAQ9D,IAAIJ,GAAeA,EAAGpE,MAAO,KAAOoE,EAAG+K,WAAY,KAAO/K,EAAGhB,WACxI,CAACpD,MAAuB,eAAfU,EAA8B,kBAAoB,yBAA0BxE,MAAQgT,GAC7F,CAAClP,MAAQ,gBAAsC9D,MAAQ,CAACxB,EAAOrB,KAAKmP,YAAY,GAAGtM,QACnF,CAAC8D,MAAQ,cAAsC9D,MAAQ,CAACxB,EAAOrB,KAAKgH,QAAQL,QAC5E,CAACA,MAAQ,aAAsC9D,MAAQiF,GACvD,CAACnB,MAAQ,iCAAsC9D,MAAQ,CAACxB,EAAOrB,KAAKoN,aACpE,CAACzG,MAAQ,oCAAsC9D,MAAQ,CAACxB,EAAOrB,KAAK2N,aACpE,CAAChH,MAAQ,qCAAsC9D,MAAQ,CAACsS,IACxD,CAACxO,MAAQ,cAAsC9D,MAAQ,CAACxB,EAAOrB,KAAK6I,UACpE,CAAClC,MAAQ,8DAA+D9D,MAAQsL,SAKjFpK,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,qBAAsBD,KAAM,UAC/FzB,KAAKmD,SAAU,EACf6E,WAAW,KAAOrI,OAAOsR,SAAS,EAAE,OAAQ,KAGhD,UACEtR,OAAOmO,kBAAoBrH,eAAeY,EAAI0G,EAAStM,GACrD,IACE,IAAInE,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAkB,mCAClBsH,iBAAkB,EAClB/R,KAAkB,CAACoL,GAAKA,EAAI5F,KAAOA,KAEjCwM,QAAkB3Q,EAAO2Q,OACzBvH,EAAYwH,IAAIC,gBAAgBF,GAChCG,EAAY1I,SAAS2I,cAAc,KACvCD,EAAKE,KAAW5H,EAChB0H,EAAKG,SAAWR,EAChBK,EAAKI,QACLN,IAAIO,gBAAgBL,EAAKE,MAC1B,MAAMhJ,GACLtF,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAsBD,KAAM,UAE5G,OAAO,GACPpC,KAAKW,MACPA,KAAKkH,WAEPa,MAAO,CACL,QAAY,WACV/H,KAAK8C,OAAOgC,QAAU,QC7a6K,ICOrM,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAI/E,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACc,YAAY,gBAAgB,CAACd,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,KAAK,CAACJ,EAAIe,GAAG,aAAaf,EAAIgB,GAAGhB,EAAIgJ,cAAc5I,EAAG,KAAK,CAACJ,EAAIe,GAAG,mBAAmBf,EAAIgB,GAAGhB,EAAIoP,cAAcrQ,OAAO,IAAIiB,EAAIgB,GAAGhB,EAAIwL,UAAY,kBAAoB,IAAI,IAAIxL,EAAIgB,GAA8B,aAA3BhB,EAAIoP,cAAcrI,OAAsB,2CAA6C,SAAS3G,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,EAAGT,EAAI2P,gBAAiB3P,EAAI8O,QAAyC,cAA7B9O,EAAIoP,cAAcrI,QAAuD,UAA7B/G,EAAIoP,cAAcrI,QAAmD,YAA7B/G,EAAIoP,cAAcrI,OAAmO/G,EAAIqB,KAAhNjB,EAAG,MAAM,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,SAAS,KAAO,uBAAuB,KAAO,UAAUE,GAAG,CAAC,MAAQX,EAAIkS,eAAe,CAAClS,EAAIe,GAAG,gCAAgC,IAAcf,EAAI2P,gBAAiB3P,EAAI8O,QAAyC,cAA7B9O,EAAIoP,cAAcrI,QAAuD,aAA7B/G,EAAIoP,cAAcrI,OAA6O/G,EAAIqB,KAAzNjB,EAAG,MAAM,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,SAAS,KAAO,uBAAuB,KAAO,UAAUE,GAAG,CAAC,MAAQX,EAAImS,kBAAkB,CAACnS,EAAIe,GAAG,oCAAsC,MAAe,GAAGX,EAAG,eAAe,CAACA,EAAG,WAAW,CAAC0C,MAAM,CAAC,mBAAoB,CAAC,oBAAmD,UAA7B9C,EAAIoP,cAAcrI,QAAmD,cAA7B/G,EAAIoP,cAAcrI,QAAyB,CAAC,kBAAiD,aAA7B/G,EAAIoP,cAAcrI,QAAsD,YAA7B/G,EAAIoP,cAAcrI,SAAuBtG,MAAM,CAAC,MAAQ,UAAUL,EAAG,UAAU,CAA+B,YAA7BJ,EAAIoP,cAAcrI,OAAsB3G,EAAG,QAAQ,CAACJ,EAAIe,GAAG,2BAA2Bf,EAAIqB,KAAmC,YAA7BrB,EAAIoP,cAAcrI,OAAsB3G,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gCAAgCf,EAAIqB,KAAmC,cAA7BrB,EAAIoP,cAAcrI,QAA2B/G,EAAIoS,YAA+HpS,EAAIqB,KAAtHjB,EAAG,QAAQ,CAACJ,EAAIe,GAAG,6BAA8Bf,EAAa,UAAEI,EAAG,OAAO,CAACJ,EAAIe,GAAG,qBAAqBf,EAAIqB,OAA8C,cAA7BrB,EAAIoP,cAAcrI,QAA0B/G,EAAIoS,YAAahS,EAAG,QAAQ,CAACJ,EAAIe,GAAG,0CAA0Cf,EAAIqB,KAAmC,kBAA7BrB,EAAIoP,cAAcrI,OAA4B3G,EAAG,QAAQ,CAACJ,EAAIe,GAAG,mFAAqFf,EAAIqB,KAAmC,UAA7BrB,EAAIoP,cAAcrI,OAAoB3G,EAAG,QAAQ,CAACJ,EAAIe,GAAG,uEAAyEf,EAAIqB,KAAmC,cAA7BrB,EAAIoP,cAAcrI,OAAwB3G,EAAG,QAAQ,CAACJ,EAAIe,GAAG,wBAAwBf,EAAIqB,KAAmC,aAA7BrB,EAAIoP,cAAcrI,OAAuB3G,EAAG,QAAQ,CAACJ,EAAIe,GAAG,wBAAwBf,EAAIqB,QAAQ,GAAIrB,EAAc,WAAEI,EAAG,IAAI,CAACJ,EAAIe,GAAG,gBAAgBf,EAAIgB,GAAGhB,EAAI6O,iBAAiB7O,EAAIqB,KAAMrB,EAAoB,iBAAEI,EAAG,IAAI,CAACJ,EAAIe,GAAG,wBAAwBX,EAAG,OAAO,CAAC4B,SAAS,CAAC,UAAYhC,EAAIgB,GAAGhB,EAAIqS,mBAAmBrS,EAAIqB,KAAMrB,EAAmB,gBAAEI,EAAG,IAAI,CAACJ,EAAIe,GAAG,wCAAwCf,EAAIgB,GAAGhB,EAAIyC,UAAU6P,gBAAgBtS,EAAIqB,KAAKjB,EAAG,OAAQJ,EAAI2P,gBAAiB3P,EAAI8O,QAAY9O,EAAIoS,YAA4jFpS,EAAIqB,KAAnjFjB,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,aAAa,CAA+B,cAA7BtC,EAAIoP,cAAcrI,QAAuD,UAA7B/G,EAAIoP,cAAcrI,OAAoB3G,EAAG,SAAS,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,mBAAmB,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIuS,cAAc,CAACvS,EAAIe,GAAG,sCAAsC,GAAGf,EAAIqB,KAAmC,cAA7BrB,EAAIoP,cAAcrI,QAA0B/G,EAAIsP,aAAelP,EAAG,SAAS,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAAC6C,IAAI,gBAAgB/B,YAAY,eAAeT,MAAM,CAAC,OAAS,GAAG,eAAc,EAAM,YAAYT,EAAI4I,aAAa,CAACxI,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,SAAS,KAAO,mBAAmB,KAAO,SAAS,CAACT,EAAIe,GAAG,mCAAmC,IAAI,GAAGf,EAAIqB,KAAmC,cAA7BrB,EAAIoP,cAAcrI,QAA0B/G,EAAIuR,iBAAmBnR,EAAG,SAAS,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,qBAAqB,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAASQ,GAAQnB,EAAIoS,aAAY,KAAQ,CAACpS,EAAIe,GAAG,2BAA2B,GAAGf,EAAIqB,KAAoC,cAA7BrB,EAAIoP,cAAcrI,QAAuD,UAA7B/G,EAAIoP,cAAcrI,SAAuB/G,EAAIuR,iBAAy5BvR,EAAIqB,KAA34BjB,EAAG,SAAS,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,uBAAuB,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIwS,cAAc,CAACxS,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAIwL,UAAY,wBAA0B,wBAAwB,OAAOpL,EAAG,MAAM,CAACc,YAAY,yBAAyB,CAACd,EAAG,OAAO,CAACc,YAAY,eAAe,CAACd,EAAG,QAAQ,CAACJ,EAAIe,GAAG,wBAAwBX,EAAG,YAAY,CAAC0C,MAAM9C,EAAI+C,OAAOuO,QAAU,UAAY,GAAG7Q,MAAM,CAAC,YAAc,sBAAsB+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,wBAAwBtC,EAAIa,GAAIb,EAAY,UAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,IAAI,GAAGqB,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,SAAS,KAAO,gBAAgB,KAAO,WAAWE,GAAG,CAAC,MAAQX,EAAIyS,gBAAgB,IAAI,GAA2C,cAA7BzS,EAAIoP,cAAcrI,QAAuD,UAA7B/G,EAAIoP,cAAcrI,SAAuB/G,EAAI0S,gBAA6V1S,EAAIqB,KAAhVjB,EAAG,SAAS,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAAC6C,IAAI,aAAa/B,YAAY,cAAcT,MAAM,CAAC,OAAS,GAAG,eAAc,EAAM,YAAYT,EAAI2S,iBAAiB,UAAW,IAAQ,CAACvS,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,SAAS,KAAO,kBAAkB,KAAO,SAAS,CAACT,EAAIe,GAAG,uCAAuC,IAAI,IAAa,GAAaf,EAAe,YAAEI,EAAG,MAAM,CAA+B,cAA7BJ,EAAIoP,cAAcrI,OAAwB3G,EAAG,MAAM,CAACc,YAAY,sBAAsBlB,EAAIqB,KAAmC,kBAA7BrB,EAAIoP,cAAcrI,OAA4B3G,EAAG,UAAU,CAACc,YAAY,sBAAsBlB,EAAIqB,KAAmC,kBAA7BrB,EAAIoP,cAAcrI,SAA+B/G,EAAI2P,eAAiB3P,EAAI8O,QAAS1O,EAAG,SAAS,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,eAAe,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAI4S,aAAa,CAAC5S,EAAIe,GAAG,uCAAuCX,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,gBAAgB,KAAO,UAAUE,GAAG,CAAC,MAAQX,EAAI6S,gBAAgB,CAAC7S,EAAIe,GAAG,gCAAgC,GAAGf,EAAIqB,KAAKjB,EAAG,MAAM,CAACc,YAAY,qBAAqB,CAA+B,cAA7BlB,EAAIoP,cAAcrI,SAA2B/G,EAAI2P,eAAiB3P,EAAI8O,QAAS1O,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,eAAe,KAAO,QAAQE,GAAG,CAAC,MAAQ,SAASQ,GAAQnB,EAAIoS,aAAY,KAAS,CAACpS,EAAIe,GAAG,aAAaf,EAAIqB,MAAM,IAAI,GAAGrB,EAAIqB,MAAOrB,EAAI2P,eAAiB3P,EAAI8O,SAAwC,cAA7B9O,EAAIoP,cAAcrI,OAAwB3G,EAAG,SAAS,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAACc,YAAY,cAAc6N,YAAY,CAAC,cAAc,qBAAqBtO,MAAM,CAAC,KAAO,SAAS,KAAO,mBAAmB,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIuP,eAAe,CAACvP,EAAIe,GAAG,0BAA0Bf,EAAIgB,GAAGhB,EAAI6O,cAAc,QAAQ,GAAG7O,EAAIqB,KAAOrB,EAAIoS,YAAoQpS,EAAIqB,KAA3PjB,EAAG,SAAS,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,eAAe,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAI4S,aAAa,CAAC5S,EAAIe,GAAG,wCAAwC,IAAa,IACzoO,EAAkB,GCDlB,EAAS,WAAa,IAAIf,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,aAAa,CAAClC,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIe,GAAG,yBAAyBf,EAAImQ,GAAG,GAAG/P,EAAG,YAAY,CAACK,MAAM,CAAC,WAAa,GAAG,OAAS,GAAG,kBAAkB,GAAG,YAAc,uBAAuB,gBAAgBT,EAAI8S,eAAe,QAAU9S,EAAIoD,SAASzC,GAAG,CAAC,OAASX,EAAI+S,aAAavQ,MAAM,CAACzD,MAAOiB,EAAY,SAAE0C,SAAS,SAAUC,GAAM3C,EAAIgT,SAASrQ,GAAKL,WAAW,aAAatC,EAAIa,GAAIb,EAAsB,oBAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAGqB,EAAG,WAAW,CAAC2O,YAAY,CAAC,MAAQ,OAAO,gBAAgB,QAAQtO,MAAM,CAAC,KAAOT,EAAIiT,YAAY,CAAC7S,EAAG,kBAAkB,CAACK,MAAM,CAAC,KAAO,WAAWL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,SAASoB,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASmR,GAAO,MAAO,CAAC9S,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,SAAS,KAAO,SAAS,KAAO,kBAAkBE,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOnB,EAAImT,eAAeD,EAAME,WAAW,CAACpT,EAAIe,GAAG,qBAAqB,GAAGX,EAAG,MAAM,CAACK,MAAM,CAAC,MAAQ,UAAU,CAAET,EAAIiT,UAAUvW,OAAS,EAAG0D,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,gBAAgB,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIqT,gBAAgB,CAACrT,EAAIe,GAAG,iCAAiCf,EAAIqB,MAAM,IAAI,MACh1C,EAAkB,CAAC,WAAa,IAAIrB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACJ,EAAIe,GAAG,iCCoEtH,GACbzC,KAAM,kCACNpC,KAAM,WACJ,MAAO,CACL8W,SAAU,GACVM,mBAAoB,GACpBL,UAAW,GACXxQ,UAAW,CACTuQ,SAAU,GACVjO,QAAS,MAIfG,SAAU,CACR9B,QAAS,CACPzE,IAAK,WACH,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAK,SAAUpG,GACbkB,KAAKK,OAAOc,OAAO,aAAcrC,KAGrC,YACE,OAAOkB,KAAKK,OAAOC,QAAQyI,YAG/B1D,QAAS,CACP,cACMrF,KAAKwC,UAAUuQ,SAAS9K,QAAQjI,KAAK+S,UAAY,GACnD/S,KAAKwC,UAAUuQ,SAAShW,KAAKiD,KAAK+S,UAClC/S,KAAKqT,mBAAmBtM,QAAQC,IAC9BA,EAAGlI,QAAUkB,KAAK+S,UAAW/S,KAAKgT,UAAUjW,KAAK,CAAC,MAASiK,EAAGpE,WAE3D5C,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM,6CAA8CP,KAAM,YACnGzB,KAAK+S,SAAW,GAChB/S,KAAKqT,mBAAqB,IAE5B,qBAAqB9M,GACnB,IAAIG,EAAM,6BACNpJ,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAACF,IAAKA,EAAKzK,KAAM,CAAC4K,EAAGN,KACjD,WAAjBjJ,EAAOwJ,SACT9G,KAAKqT,mBAAqB/V,EAAOrB,OAGrC,eAAeqX,GACbtT,KAAKgT,UAAUrV,OAAO2V,EAAO,GAC7BtT,KAAKwC,UAAUuQ,SAASpV,OAAO2V,EAAO,IAExC,sBACEtT,KAAKmD,SAAU,EACf,IAAIlH,EAAO,IAAI0L,SACf1L,EAAK2L,OAAO,aAAc5H,KAAK+I,WAC/B9M,EAAK2L,OAAO,iBAAkB5H,KAAKwC,UAAUuQ,UAC7C9W,EAAK2L,OAAO,WAAY5H,KAAKwC,UAAUsC,SAEvC7I,EAAK2L,OAAO,UAAW5H,KAAKiE,MAAMuD,OAAOC,YAAY,GAAGI,KAExD,IAAIvK,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAK,0CACLzK,KAAMA,EACNwF,KAAM,SAGa,WAAjBnE,EAAOwJ,QACT9G,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASC,KAAM,YAC9DzB,KAAKK,OAAOc,OAAO,kBAAmB,CAAC2F,OAAQ,gBAAiBhI,MAAO,oBACvEkB,KAAKiE,MAAMuD,OAAO+L,cAElBvT,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASC,KAAM,UAChEzB,KAAKmD,SAAU,KC1IyL,ICO1M,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,K,QClBX,GAAS,WAAa,IAAIpD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,aAAa,CAAClC,EAAG,WAAW,CAAC2O,YAAY,CAAC,MAAQ,QAAQtO,MAAM,CAAC,KAAOT,EAAIiT,YAAY,CAAC7S,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,OAAO,KAAO,QAAQ,MAAQ,wBAAwBL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,MAAQ,wBAAwB,GAAIT,EAAIyT,oBAAsBzT,EAAI8Q,QAAS1Q,EAAG,MAAM,CAACc,YAAY,qBAAqB,CAACd,EAAG,QAAQ,CAACJ,EAAIe,GAAG,iBAAiBX,EAAG,WAAW,CAAC0C,MAAM9C,EAAI+C,OAAOgC,QAAU,UAAY,GAAGtE,MAAM,CAAC,KAAO,WAAW,KAAO,KAAK+B,MAAM,CAACzD,MAAOiB,EAAW,QAAE0C,SAAS,SAAUC,GAAM3C,EAAI+E,QAAQpC,GAAKL,WAAW,aAActC,EAAI+C,OAAc,QAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOgC,YAAY/E,EAAIqB,KAAKjB,EAAG,MAAM,CAAC2O,YAAY,CAAC,aAAa,QAAQtO,MAAM,CAAC,MAAQ,UAAU,CAACL,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,gBAAgB,KAAO,WAAWE,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOnB,EAAI0T,iBAAgB,MAAS,CAAC1T,EAAIe,GAAG,iBAAiBX,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,gBAAgB,KAAO,UAAUE,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOnB,EAAI0T,iBAAgB,MAAU,CAAC1T,EAAIe,GAAG,kBAAkB,IAAI,GAAGf,EAAIqB,MAAM,IAC5wC,GAAkB,GC8CP,IACb/C,KAAM,sCACN,OACE,MAAO,CACLmV,kBAAwB,KACxBE,mBAAwB,KACxB5O,QAAwB,GACxBkO,UAAwB,GAExBlQ,OAAwB,CACtBgC,QAAsB,QAI5BG,SAAU,CACR9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,KAGpC,YACE,OAAOkB,KAAKK,OAAOC,QAAQyI,WAE7B,UACE,OAAO/I,KAAKK,OAAOC,QAAQsQ,SAI/BvL,QAAU,CACR,gBACErF,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAuB,2CACvBzK,KAAuB,CACvB0X,WAAuB3T,KAAK+I,aAG9B,GAAoB,WAAjBzL,EAAOwJ,OACR,GAAGxJ,EAAOrB,gBAAgB6L,MAAM,CAC9B,IAAIqJ,EAAW,KAAMyC,GAAY,EACjCtW,EAAOrB,KAAK8K,QAAQC,IACE,IAAhBA,EAAGmK,WAAgBA,EAAS,eACZ,IAAhBnK,EAAGmK,WACLA,EAAW,qBACXyC,GAAY,GAEM,OAAhB5M,EAAGmK,WAAmBA,EAAS,aACf,OAAhBnK,EAAGmK,UAAqByC,IAC1B5T,KAAKwT,kBAAoBxM,EAAGlI,MAC5BkB,KAAK0T,mBAAqB1M,EAAG5H,IAC7B+R,EAAW,kBACXyC,GAAY,GAEd5T,KAAKgT,UAAUjW,KACX,CACE6F,MAAcoE,EAAGpE,MACjBuO,SAAcA,UAIK,UAA1B7T,EAAOwT,gBAAgC9Q,KAAKK,OAAOc,OAAO,kBAAmB,CAAC2F,OAAQxJ,EAAOwT,eAAgBhS,MAAO,gBAC1F,aAA1BxB,EAAOwT,gBAAgC9Q,KAAKK,OAAOc,OAAO,kBAAmB,CAAC2F,OAAQxJ,EAAOwT,eAAgBhS,MAAO,0BAGtHkB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,UACjEzB,KAAKmD,SAAU,GAEjB,sBAAsB0Q,GACpB,GAAKA,GAAa7T,KAAK8E,QAGhB,CACH9E,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAU,+CACVzK,KAAW,CACT0X,WAAmB3T,KAAK+I,UACxB8H,QAAmB7Q,KAAK6Q,QACxBxJ,GAAmBrH,KAAK0T,mBACxBvC,SAAmB0C,EACnBzC,OAAmBpR,KAAK8E,WAGR,WAAjBxH,EAAOwJ,OACR9G,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAAQC,KAAO,YAE5DzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,UAClEzB,KAAKmD,SAAU,EACfnD,KAAKgT,UAAY,GACjBhT,KAAKkH,eApBPlH,KAAK8C,OAAOgC,QAAU,gCAwB5B,UACE9E,KAAKkH,WAEPa,MAAO,CACL,QAAY,WACV/H,KAAK8C,OAAOgC,QAAU,QCpJsL,MCQ9M,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCgMA,IACbzG,KAAa,wBACbmS,WAAa,CAACsD,IAAA,GAAKC,QAAA,IACnBC,MAAa,CAAC,cACd,OACE,MAAO,CACLC,SAAc,GACd9B,aAAc,EAEd3P,UAAc,CACZ6E,GAAc,GACd6M,UAAc,GACd7B,YAAc,IAGhBvP,OAAc,CACZuO,QAAU,QAIhBpM,SAAU,CACR9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,KAGpC,YACE,OAAOkB,KAAKK,OAAOC,QAAQyI,WAE7B,gBACE,OAAO/I,KAAKK,OAAOC,QAAQoQ,cAE7B,SACE,OAAO1Q,KAAKK,OAAOC,QAAQ0M,SAAS,SAEtC,gBACE,OAAOhN,KAAKK,OAAOC,QAAQoP,eAE7B,eACE,OAAO1P,KAAKK,OAAOC,QAAQqQ,aAE7B,mBACE,OAAO3Q,KAAKK,OAAOC,QAAQgR,kBAE7B,eACE,OAAOtR,KAAKK,OAAOC,QAAQ6T,aAE7B,YACE,OAAOnU,KAAKK,OAAOC,QAAQiL,WAE7B,aACE,OAAOvL,KAAKK,OAAOC,QAAQqO,YAE7B,eACE,OAAO3O,KAAKK,OAAOC,QAAQsO,cAE7B,kBACE,OAAO5O,KAAKK,OAAOC,QAAQmS,kBAG/BpN,QAAS,CACP,aACErF,KAAKoU,MAAM,eAEb,iBAAiBrP,GACf/E,KAAKmD,SAAU,EACf,IAAIlH,EAAO,IAAI0L,SACf1L,EAAK2L,OAAO,cAAe5H,KAAK2O,YAChC1S,EAAK2L,OAAO,OAAQ5H,KAAKK,OAAOC,QAAQsO,aAAe,KAAM,IAAItH,MAAOC,qBAAqB+B,MAAM,KAAKE,KAAK,MAC7GvN,EAAK2L,OAAO,UAAW5H,KAAKiE,MAAMoQ,cAAc5M,YAAY,GAAGI,KAC/D,IAAIvK,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAQ,wCACRzK,KAAQA,EACRwF,KAAQ,SAEVzB,KAAKiE,MAAMoQ,cAAcd,aACJ,WAAjBjW,EAAOwJ,QAET9G,KAAKK,OAAOc,OAAO,oBAAoB,GAEvCnB,KAAKK,OAAOc,OAAO,cAAe7D,EAAOgR,KAAKxP,OAE9CkB,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,WAAYD,KAAM,aAElFzB,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,qBAAsBD,KAAM,UAC9FzB,KAAKmD,SAAU,GAEjB,eACEnD,KAAKK,OAAOc,OAAO,UAAW,YAC9BnB,KAAKK,OAAOc,OAAO,eAAgB,WAErC,eACEnB,KAAKmM,SAAS,gDAAgDnM,KAAK+I,sFAAsFqD,KAAK3F,UAC5J,IAAInJ,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAAEF,IAAM,uCAAwCzK,KAAO,CAACoL,GAAKrH,KAAK+I,UAAWtH,KAAO,eAE9G,YAAlBnE,EAAOwJ,QACT9G,KAAKK,OAAOc,OAAO,kBAAmB,CAAC2F,OAAS,YAAahI,MAAQ,qBACrEkB,KAAKK,OAAOc,OAAO,iBAAkB,GACrCnB,KAAKwC,UAAU0R,UAAY,GAC3BlU,KAAKwC,UAAU6P,YAAc,GAC7BrS,KAAKK,OAAOc,OAAO,gBAAiB,MACpCnB,KAAKK,OAAOc,OAAO,kBAAmB,MACtCnB,KAAKK,OAAOc,OAAO,mBAAoB,MACvCnB,KAAKK,OAAOc,OAAO,cAAe,MAClCnB,KAAKK,OAAOc,OAAO,qBAAsB,MACzCnB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOgX,IAAI7S,KAAO,aACrDzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,qBAAqBP,KAAO,YAC1E4K,MAAM,SAEX,kBACErM,KAAKmM,SAAS,gDAAgDnM,KAAK+I,gGAAgGqD,KAAK3F,UACtK,IAAInJ,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAAEF,IAAM,uCAAwCzK,KAAO,CAACoL,GAAKrH,KAAK+I,UAAWtH,KAAO,aAE9G,YAAlBnE,EAAOwJ,QACT9G,KAAKK,OAAOc,OAAO,kBAAmB,CAAC2F,OAAS,UAAWhI,MAAQ,mBACnEkB,KAAKK,OAAOc,OAAO,iBAAkB,GACrCnB,KAAKwC,UAAU0R,UAAY,GAC3BlU,KAAKwC,UAAU6P,YAAc,GAC7BrS,KAAKK,OAAOc,OAAO,gBAAiB,MACpCnB,KAAKK,OAAOc,OAAO,kBAAmB,MACtCnB,KAAKK,OAAOc,OAAO,mBAAoB,MACvCnB,KAAKK,OAAOc,OAAO,cAAe,MAClCnB,KAAKK,OAAOc,OAAO,qBAAsB,MACzCnB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOgX,IAAI7S,KAAO,aACrDzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,qBAAqBP,KAAO,YAC1E4K,MAAM,SAEX,oBAEE,IAAIkI,EADJvU,KAAKmD,SAAU,EAEEoR,EAAjBvU,KAAKuL,UAA8B,EAAqB,EACxD,IAAIjO,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAuB,mCACvBzK,KAAuB,CACrBoL,GAAYrH,KAAK+I,UACjBwC,UAAYgJ,KAGK,WAAjBjX,EAAOwJ,QACT9G,KAAKK,OAAOc,OAAO,eAAgBoT,GACnCvU,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM,UAAWN,OAAQ,WAAYD,KAAM,aAE7EzB,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM,aAAcN,OAAQ,qBAAsBD,KAAM,UAC5FzB,KAAKmD,SAAU,GAEjB,gBACEnD,KAAKmM,SAAS,sEAAsEnM,KAAK+I,eAAeqD,KAAK3F,UAC3GzG,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAuB,2CACvBzK,KAAuB,CACrBoL,GAAKrH,KAAK+I,aAGO,WAAjBzL,EAAOwJ,QACT9G,KAAKK,OAAOc,OAAO,kBAAmB,CAAC2F,OAAQxJ,EAAOwT,eAAgBhS,MAAO,qBAC7EkB,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,WAAYD,KAAM,aAElFzB,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,qBAAsBD,KAAM,UAC9FzB,KAAKmD,SAAU,IACdkJ,MAAM,SAEX,oBACErM,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAc,sCACdzK,KAAc,CACZoL,GAAYrH,KAAK+I,UACjB1K,MAAY,KAGhB,GAAsB,YAAlBf,EAAOwJ,OAAsB,CAC/B,IAAIiH,EAAW,iBASf,GARIzQ,EAAOe,OAAM0P,EAAWzQ,EAAOe,MACnC2B,KAAKK,OAAOc,OAAO,kBAAmB4M,EAASyG,MAAM,SAAS,GAAG3U,MAAM,GAAG,IAE1EvC,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC3CF,IAAoB,sCACpBzK,KAAoB,CAACoL,GAAKrH,KAAK+I,WAC/BiF,iBAAoB,IAEA,MAAlB1Q,EAAOwJ,OAAgB,CACzB,IAAImH,QAAmB3Q,EAAO2Q,OAC1BG,EAAa1I,SAAS2I,cAAc,KACxCD,EAAKE,KAAYJ,IAAIC,gBAAgBF,GACrCG,EAAKG,SAAYR,EACjBK,EAAKI,QACLN,IAAIO,gBAAgBL,EAAKE,MACzBtO,KAAKK,OAAOc,OAAO,iBAAkB,GACrC7D,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC3CF,IAAO,sCACPzK,KAAO,CACLoL,GAASrH,KAAK+I,UACd0L,QAAS,KAGTnX,EAAOb,OAAS,EAAIuD,KAAKK,OAAOc,OAAO,gBAAiB7D,EAAO,IAAU0C,KAAKK,OAAOc,OAAO,gBAAiB,WAC5GnB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,eAErEzB,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASC,KAAM,UAChEzB,KAAKmD,SAAU,GAEjB,oBACE,GAAiC,KAA7BnD,KAAKwC,UAAU0R,UAAsE,YAAnDlU,KAAK8C,OAAOuO,QAAU,6BAC5DrR,KAAKwC,UAAU6E,GAAKrH,KAAKK,OAAOC,QAAQqO,WACxC,IAAIrR,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAQ,qCACRzK,KAAQ,CAACoL,GAAKrH,KAAKwC,UAAU6E,GAAIgK,QAAUrR,KAAKwC,UAAU0R,aAEvC,WAAjB5W,EAAOwJ,QACT9G,KAAKK,OAAOc,OAAO,qBAAsBnB,KAAKwC,UAAU0R,WACxDlU,KAAKiU,SAASlN,QAAQC,IAAWA,EAAGlI,OAAOkB,KAAKwC,UAAU0R,YAAYlU,KAAKwC,UAAU6P,YAAcrL,EAAGpE,SACtG5C,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAAQC,KAAO,aAE9DzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,WAElE,yBAEE,IAAIiT,EAAW1U,KAAKiE,MAAM0Q,WAAWlN,YAAY,GAAGI,IAAIpG,KACxD,GAAiB,mBAAZiT,GAA6C,cAAZA,EAA0B,CAC7D1U,KAAKmD,SAAU,EACf,IAAIlH,EAAO,IAAI0L,SACf1L,EAAK2L,OAAO,KAAM5H,KAAK+I,WACvB9M,EAAK2L,OAAO,OAAQ5H,KAAKK,OAAOC,QAAQsO,aAAe,KAAM,IAAItH,MAAOC,qBAAqB+B,MAAM,KAAKE,KAAK,MAC7GvN,EAAK2L,OAAO,UAAW5H,KAAKiE,MAAM0Q,WAAWlN,YAAY,GAAGI,KAC5D,IAAIvK,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,qCAAsCzK,KAAOA,EAAMwF,KAAO,SAC5F,WAAjBnE,EAAOwJ,QACT9G,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASC,KAAO,YACjC,cAA1BnE,EAAOwT,iBACN9Q,KAAKK,OAAOc,OAAO,kBAAmB,CAAC2F,OAAQxJ,EAAOwT,eAAgBhS,MAAO,cAChFkB,KAAKK,OAAOc,OAAO,eAAgB,KAGpCnB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAASC,KAAO,UAClEzB,KAAKiE,MAAM0Q,WAAWpB,aACvBvT,KAAKmD,SAAU,OAEbnD,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM,4DAA6DN,OAAQ,yBAA0BD,KAAM,UAC7IzB,KAAKiE,MAAM0Q,WAAWpB,cAG5B,gBAEE,IAAIjW,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAAEF,IAAM,gCACnC,WAAjBpJ,EAAOwJ,SACT9G,KAAKiU,SAAW3W,EAAOrB,KAAKmL,IAAIJ,IACvB,CAAClI,MAAQkI,EAAGK,GAAIzE,MAAQoE,EAAG3I,SAGtC2B,KAAKwC,UAAU0R,UAAYlU,KAAKyS,gBAChCzS,KAAKiU,SAASlN,QAAQC,IAAWA,EAAGlI,QAAUkB,KAAKyS,kBAAkBzS,KAAKwC,UAAU6P,YAAcrL,EAAGpE,WAGzG,UACgC,kBAA9B5C,KAAKmP,cAAcrI,OAA6B9G,KAAKmS,aAAc,EAAOnS,KAAKmS,aAAc,EAC7FnS,KAAKkH,UACLvH,OAAOmO,kBAAoBrH,eAAeY,EAAG0G,EAAStM,GACpD,IACE,IAAInE,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAkB,mCAClBsH,iBAAkB,EAClB/R,KAAkB,CAAC2Y,oBAAsBvN,EAAI5F,KAAOA,KAElDwM,QAAkB3Q,EAAO2Q,OACzBvH,EAAYwH,IAAIC,gBAAgBF,GAChCG,EAAY1I,SAAS2I,cAAc,KACvCD,EAAKE,KAAW5H,EAChB0H,EAAKG,SAAWR,EAChBK,EAAKI,QACLN,IAAIO,gBAAgBL,EAAKE,MAC1B,MAAMhJ,GACLtF,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAsBD,KAAM,UAE5G,OAAO,GACPpC,KAAKW,OAIT+H,MAAO,CACL,uBAAyB,WACS,kBAA9B/H,KAAKmP,cAAcrI,OAA6B9G,KAAKmS,aAAc,EAAOnS,KAAKmS,aAAc,EAC7FnS,KAAKkH,WAET,sBAAyB,WACvBlH,KAAK8C,OAAOuO,QAAU,QClfiL,MCOzM,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAItR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,aAAaf,EAAIgB,GAAGhB,EAAIgJ,cAAc5I,EAAG,KAAK,CAACJ,EAAIe,GAAG,mBAAmBf,EAAIgB,GAAGhB,EAAIoP,cAAcrQ,OAAO,IAAIiB,EAAIgB,GAAGhB,EAAIwL,UAAY,kBAAoB,OAAOpL,EAAG,MAAMA,EAAG,WAAW,CAAC2O,YAAY,CAAC,MAAQ,QAAQtO,MAAM,CAAC,KAAOT,EAAIiT,YAAY,CAAC7S,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,OAAO,KAAO,QAAQ,MAAQ,oBAAoBL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,MAAQ,eAAeL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,OAAO,KAAO,UAAU,MAAQ,iBAAiBL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,OAAO,KAAO,OAAO,MAAQ,WAAW,GAAGL,EAAG,MAAM,CAACc,YAAY,yBAAyB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,eAAe,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAI4S,aAAa,CAAC5S,EAAIe,GAAG,wCAAwC,IAAI,IAC5iC,GAAkB,GC4CP,IACbzC,KAAU,wBACV2V,MAAU,CAAC,cACX,OACE,MAAO,CACLhB,UAAY,KAGhB/N,SAAU,CACR9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,KAGpC,YACE,OAAOkB,KAAKK,OAAOC,QAAQyI,WAE7B,gBACE,OAAO/I,KAAKK,OAAOC,QAAQoQ,cAE7B,YACE,OAAO1Q,KAAKK,OAAOC,QAAQiL,YAI/BlG,QAAU,CACR,aACErF,KAAKoU,MAAM,eAEb,gBACEpU,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAU,uCACVzK,KAAW,CACT0X,WAAc3T,KAAK+I,aAGvB,GAAoB,WAAjBzL,EAAOwJ,QACR,GAAGxJ,EAAOrB,gBAAgB6L,MAAM,CAC9B,IAAIqJ,EAAW,KAAMyC,GAAY,EACjCtW,EAAOrB,KAAK8K,QAAQC,IACE,IAAhBA,EAAGmK,WAAgBA,EAAW,eACd,IAAhBnK,EAAGmK,WACLA,EAAY,mBACZyC,GAAY,GAEM,OAAhB5M,EAAGmK,WAAmBA,EAAW,KACjB,OAAhBnK,EAAGmK,UAAqByC,IAC1BzC,EAAY,kBACZyC,GAAY,GAEd5T,KAAKgT,UAAUjW,KACX,CACE,MAAgBiK,EAAGpE,MACnB,SAAgBuO,EAChB,QAAgBnK,EAAGlC,QACnB,KAAgBkC,EAAGpD,SAGvBtG,EAAOrB,KAAKQ,QAAU,GACxBuD,KAAKgT,UAAUjW,KACX,CACE,MAAgB,qCAChB,SAAgB,IAChB,QAAgB,IAChB,KAAgB,YAK1BiD,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,UAChEzB,KAAKmD,SAAU,IAGnB,UACEnD,KAAKkH,YC3HoM,MCOzM,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAInH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,aAAaf,EAAIgB,GAAGhB,EAAIgJ,cAAc5I,EAAG,KAAK,CAACJ,EAAIe,GAAG,mBAAmBf,EAAIgB,GAAGhB,EAAIoP,cAAcrQ,OAAO,IAAIiB,EAAIgB,GAAGhB,EAAIwL,UAAY,kBAAoB,IAAI,OAAOpL,EAAG,MAAMA,EAAG,WAAW,CAAC2O,YAAY,CAAC,MAAQ,QAAQtO,MAAM,CAAC,KAAOT,EAAIiT,YAAY,CAAC7S,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,OAAO,KAAO,cAAc,MAAQ,oBAAoBL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,OAAO,KAAO,aAAa,MAAQ,iBAAiBL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,OAAO,KAAO,eAAe,MAAQ,eAAeL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,OAAO,KAAO,iBAAiB,MAAQ,yBAAyBL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,OAAO,KAAO,YAAY,MAAQ,qBAAqB,GAAGL,EAAG,MAAM,CAACc,YAAY,yBAAyB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,eAAe,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAI4S,aAAa,CAAC5S,EAAIe,GAAG,wCAAwC,IAAI,IACjrC,GAAkB,GC+CP,IACbzC,KAAO,uBACP2V,MAAU,CAAC,cACX,OACE,MAAO,CACLhB,UAAY,GACZ5L,IAAY,CACV6E,SAAkB,aAClBhJ,QAAkB,cAClB6B,QAAkB,cAClBgC,OAAkB,SAClBqD,cAAkB,gBAClB1I,KAAkB,aAClBsN,cAAkB,gBAClB8F,eAAkB,iCAClBC,eAAkB,oCAClB,eAAkB,kBAClB,GAAkB,OAIxB7P,SAAU,CACR9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,KAGpC,YACE,OAAOkB,KAAKK,OAAOC,QAAQyI,WAE7B,gBACE,OAAO/I,KAAKK,OAAOC,QAAQoQ,cAE7B,YACE,OAAO1Q,KAAKK,OAAOC,QAAQiL,YAI/BlG,QAAU,CACR,aACErF,KAAKoU,MAAM,eAEb,gBACEpU,KAAKmD,SAAU,EACfnD,KAAKK,OAAOC,QAAQ8E,UAAU2B,QAAQC,IAAOhH,KAAKoH,IAAIJ,EAAGlI,OAASkI,EAAGpE,QACrE5C,KAAKK,OAAOC,QAAQ6E,kBAAkB4B,QAAQC,IAAOhH,KAAKoH,IAAIJ,EAAGlI,OAASkI,EAAGpE,QAC7E5C,KAAKK,OAAOC,QAAQyU,oBAAoBhO,QAAQC,IAAOhH,KAAKoH,IAAIJ,EAAGlI,OAASkI,EAAGpE,QAC/E5C,KAAKK,OAAOC,QAAQgL,WAAWvE,QAAQC,IAAOhH,KAAKoH,IAAIJ,EAAGlI,OAASkI,EAAGpE,QACtE5C,KAAKgT,UAAY,GACjB,IAAI1V,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAU,iCACVzK,KAAW,CACToL,GAAMrH,KAAK+I,aAGf,GAAoB,WAAjBzL,EAAOwJ,QACR,GAAGxJ,EAAOrB,gBAAgB6L,MAAM,CAC9B,IAAInB,EAAM,GACVrJ,EAAOrB,KAAK8K,QAASC,IACnBL,EAAM,CACJqO,YAAkBhO,EAAGgO,YACrBC,aAAkBjV,KAAKoH,IAAIJ,EAAGiO,cAC9BC,WAAkBlO,EAAGkO,WACrBC,UAAkBnV,KAAKoH,IAAIJ,EAAGmO,WAAanV,KAAKoH,IAAIJ,EAAGmO,WAAanO,EAAGmO,UACvEC,eAAkBpV,KAAKoH,IAAIJ,EAAGoO,gBAAkBpV,KAAKoH,IAAIJ,EAAGoO,gBAAkBpO,EAAGoO,gBAEnFpV,KAAKgT,UAAUjW,KAAK4J,WAIxB3G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,UAChEzB,KAAKmD,SAAU,IAGnB,UACEnD,KAAKkH,YC9HmM,MCOxM,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCaA,IACb7I,KAAc,gBACdmS,WAAc,CAAC6E,KAAA,EAAMC,SAAA,GAAUC,SAAA,GAAUC,QAAA,IACzC,OACE,MAAO,CACL/P,KAAc,CACZd,KAAY,sBACZ8Q,SAAY,qBACZC,SAAY,uBACZC,QAAY,qBAEdlV,KAAc,SAGlB4E,QAAU,CACR,cAAcjG,GACZ,GAAU,MAAPA,EAAa,OAAO,EACvBY,KAAKS,KAAOrB,EAAIf,QChD+K,MCOjM,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,M,QCGA,IACbA,KAAc,cACdmS,WAAc,CAACsD,IAAA,EAAK8B,WAAA,EAAYC,KAAA,EAAMC,KAAA,EAAMC,OAAA,IAC5C9Q,SAAc,CACZ1E,UAAY,WACV,OAAOP,KAAKK,OAAOC,QAAQC,aC1BkK,MCO/L,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAGJ,EAAIQ,UAAU,CAACc,IAAI,eAAe,IAC3I,GAAkB,GCDlB,GAAS,WAAa,IAAItB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,aAAa,CAAEtC,EAAa,UAAEI,EAAG,OAAO,CAACgC,WAAW,CAAC,CAAC9D,KAAK,YAAY+D,QAAQ,gCAAgCtD,MAAOiB,EAAqB,kBAAEsC,WAAW,oBAAoBqI,IAAI,qBAAqB,CAACrM,KAAK,YAAY+D,QAAQ,8BAA8BtD,MAAOiB,EAAmB,gBAAEsC,WAAW,kBAAkBqI,IAAI,mBAAmB,CAACrM,KAAK,YAAY+D,QAAQ,8BAA8BtD,MAAOiB,EAAmB,gBAAEsC,WAAW,kBAAkBqI,IAAI,mBAAmB,CAACrM,KAAK,YAAY+D,QAAQ,qBAAqBtD,MAAOiB,EAAU,OAAEsC,WAAW,SAASqI,IAAI,UAAU,CAACrM,KAAK,YAAY+D,QAAQ,kCAAkCtD,MAAOiB,EAAuB,oBAAEsC,WAAW,sBAAsBqI,IAAI,wBAAwBlK,MAAM,CAAC,KAAO,cAAcT,EAAIqB,MAAM,IAC76B,GAAkB,GCaP,IACb/C,KAAO,eACPpC,KAAO,WACL,MAAO,CACL0O,KAAO,CACLJ,OAAa,CACXtO,KAAe,CACboL,GAAkB,CAChB1C,MAAO,EACPlD,KAAO,SACPpD,KAAO,gBAETsV,WAAkB,CAChBhP,MAAO,EACPlD,KAAO,SACPpD,KAAO,aAETuM,gBAAkB,CAChBnJ,KAAY,aACZpD,KAAY,kBACZwM,UAAY,EACZtE,MAAYE,eAAgBxK,GAC1B,IAAIqB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,6BACRzK,KAAS,CAAC4K,EAAI5K,KAEhB,GAAoB,WAAjBqB,EAAOwJ,OAAqB,OAAOxJ,EAAOrB,MAC7CoD,KAAKW,OAET8K,YAAkB,CAChBnG,MAAY,EACZlD,KAAY,aACZpD,KAAY,yBACZwM,UAAY,EACZtE,MAAYE,eAAgBxK,GAC1B,IAAIqB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,gCACRzK,KAAS,CAAC4K,EAAI5K,KAEhB,GAAoB,WAAjBqB,EAAOwJ,OAAqB,OAAOxJ,EAAOrB,MAC7CoD,KAAKW,OAETwL,WAAkB,CAChB/J,KAAY,aACZpD,KAAY,cACZwM,UAAY,EACZtE,MAAYE,eAAgBxK,GAC1B,IAAIqB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,gCACRzK,KAAS,CAAC4K,EAAI5K,KAEhB,GAAoB,WAAjBqB,EAAOwJ,OAAqB,OAAOxJ,EAAOrB,MAC7CoD,KAAKW,OAET3B,KAAY,CACVoD,KAAY,aACZpD,KAAY,kBACZwM,UAAY,EACZtE,MAAYE,eAAgBxK,GAC1B,IAAIqB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,yCACRzK,KAAS,CAAC4K,EAAI5K,KAEhB,GAAoB,WAAjBqB,EAAOwJ,OAAqB,OAAOxJ,EAAOrB,MAC7CoD,KAAKW,OAETmK,cAAkB,CAChB1I,KAAW,OACXpD,KAAW,mBACXwM,UAAW,EACXE,OAAW/K,KAAKK,OAAOC,QAAQ6E,mBAEjC2B,OAAkB,CAChBrF,KAAW,OACXpD,KAAW,SACXwM,UAAW,EACXE,OAAW/K,KAAKK,OAAOC,QAAQyU,qBAEjC5J,WAAkB,CAChBxG,MAAO,EACPlD,KAAO,OACPpD,KAAO,iBAETwW,eAAkB,CAChBlQ,MAAO,EACPlD,KAAO,OACPpD,KAAO,kCAETyW,eAAkB,CAChBnQ,MAAO,EACPlD,KAAO,OACPpD,KAAO,qCAET0F,UAAkB,CAChBY,MAAY,EACZlD,KAAY,aACZpD,KAAY,uBACZwM,UAAY,EACZtE,MAAYE,eAAgBxK,GAC1B,IAAIqB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,iCACRzK,KAAS,CAAC4K,EAAI5K,KAEhB,GAAoB,WAAjBqB,EAAOwJ,OAAqB,CAC7B,IAAI/C,EAAYzG,EAAOrB,KAAKmL,IAAIJ,IACvB,CAAClI,MAAQkI,EAAGlI,MAAO8D,MAAQoE,EAAGpE,SAEvC,OAAOmB,IAET1E,KAAKW,MACPyL,MAAYhF,iBACV,IAAInJ,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,+BACRzK,KAAS,CAACyP,KAAM,CAACrN,KAAM,OAAQsN,MAAO,UAExC,GAAoB,WAAjBrO,EAAOwJ,OAAqB,CAC7B,IAAI/C,EAAYzG,EAAOrB,KAAKmL,IAAIJ,IACvB,CAAClI,MAAQkI,EAAGK,GAAG,GAAGvI,MAAO8D,MAAQoE,EAAG3I,KAAK,GAAGS,SAErD,OAAOiF,IAET1E,KAAKW,OAGTgW,WAAkB,CAChBvU,KAAW,OACXpD,KAAW,qBACXwM,UAAW,EACXlG,MAAW,EACXoG,OAAW,KAGfa,SAAe,GACfC,cAAe,EACftB,OAAe,SAAStO,GACtB+D,KAAK8L,WAAa7P,EAClB+D,KAAKK,OAAOc,OAAO,oBAAqB,GACxCnB,KAAKkH,WACL7H,KAAKW,MACP+L,MAAe,WACb/L,KAAK8L,WAAa,GAClB9L,KAAKkH,WACL7H,KAAKW,OAETgM,QAAa,CACX,CACE3N,KAAY,mBACZ4N,SAAY,SAAUC,GACpBlM,KAAKK,OAAOc,OAAO,gBAAiB+K,EAAI7E,GAAG,GAAGvI,OAC9CkB,KAAKK,OAAOc,OAAO,eAAiB+K,EAAIyH,WAAW,GAAG7U,OACtDkB,KAAKK,OAAOc,OAAO,eAAgB,WACnC9B,KAAKW,OAET,CACE3B,KAAY,mCACZ4N,SAAa,SAAUC,GACrBlM,KAAKK,OAAOc,OAAO,gBAAiB+K,EAAI7E,GAAG,GAAGvI,OAC9CkB,KAAKK,OAAOc,OAAO,eAAiB+K,EAAIyH,WAAW,GAAG7U,OACpDkB,KAAKmM,SAAS,8EAA8EnM,KAAK+I,eAAeqD,KAAK,KACnHpM,KAAKK,OAAOc,OAAO,UAAW,WAC9BnB,KAAKK,OAAOc,OAAO,eAAgB,gBAClCkL,MAAO,SACZhN,KAAKW,QAGXsM,WAAa,CACX3H,KAAc,OACdlE,KAAc,EACd8L,YAAc,GACdC,MAAc,CAAC,GAAG,GAAG,IACrBC,WAAa,SAAS3N,GACpBkB,KAAKK,OAAOc,OAAO,oBAAqBrC,GACxCkB,KAAK0M,MAAMvL,OAAO,sBAAuB,CAAC9C,KAAO,WAAYpC,KAAO,CAACqQ,WAAa,CAACC,YAAczN,MACjGkB,KAAKkH,WACL7H,KAAKW,MACP2M,WAAa,SAAS7N,GACpBkB,KAAKK,OAAOc,OAAO,oBAAqBrC,GACxCkB,KAAKkH,WACL7H,KAAKW,OAET0B,OAAa,CACX2F,GAAkB,CAChBhJ,KAAS,eACT2F,MAAS,IACT6I,aAAc,GAEhBxO,KAAoB,CAClBA,KAAS,kBACT2F,MAAS,IACT6I,aAAc,GAEhB8G,WAAkB,CAChBtV,KAAS,YACT2F,MAAS,IACT6I,aAAc,GAEhBtJ,MAAmB,CACjBlF,KAAQ,yBACR2F,MAAQ,KAEVf,QAAkB,CAChB5E,KAAS,cACT2F,MAAS,KAEXmG,cAAkB,CAChB9L,KAAS,oBACT2F,MAAS,IACT6I,aAAc,GAEhB/F,OAAkB,CAChBzI,KAAS,SACT2F,MAAS,IACT6I,aAAc,GAEhB1B,WAAkB,CAChB9M,KAAQ,gBACR2F,MAAQ,IACR6I,aAAc,GAEhBgI,eAAkB,CAChBxW,KAAQ,4BACR2F,MAAQ,IACR6I,aAAc,GAEhBiI,eAAkB,CAChBzW,KAAQ,+BACR2F,MAAQ,IACR6I,aAAc,GAEhB9H,KAAkB,CAChB1G,KAAQ,mBACR2F,MAAQ,KAEVD,UAAmB,CACjB1F,KAAQ,uBACR2F,MAAQ,KAEVgS,WAAkB,CAChB3X,KAAQ,qBACR2F,MAAQ,IACR6I,aAAc,IAGlBC,SAAa,GACbzO,KAAa,YAGfyN,WAAa,GACbJ,KAAa,CACXrN,KAAO,KACPsN,MAAQ,QAEVoB,WAAa,IAGjB9H,SAAS,CACP9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,KAGpC,YACE,OAAOkB,KAAKK,OAAOC,QAAQyI,YAG/B1D,QAAU,CACR,gBACErF,KAAKmD,SAAU,EACfnD,KAAK2K,KAAKJ,OAAOtO,KAAK+Z,WAAWjL,OAAS,GAE1C,IAAIR,QAAevK,KAAKK,OAAOuG,SAAS,sBAAuB5G,KAAK8L,YAGhExO,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAAEF,IAAM,gCACnC,WAAjBpJ,EAAOwJ,SACT9G,KAAK2K,KAAKJ,OAAOtO,KAAK+Z,WAAWjL,OAASzN,EAAOrB,KAAKmL,IAAIJ,IACjD,CAAClI,MAAQkI,EAAGK,GAAIzE,MAAQoE,EAAG3I,SAItC,IAAI2O,EAAW,CACbiJ,QAAmB,GACnBC,aAAmB,GACnB/O,KAAmB,GACnBlE,QAAmB,GACnB8O,WAAmB,GACnBoE,iBAAmB,IAErBnW,KAAKK,OAAOC,QAAQ0M,SAAS,WAAaA,EAASiJ,QAAU,UAAYjJ,EAASiJ,QAAU,GAC5FjW,KAAKK,OAAOC,QAAQ0M,SAAS,gBAAkBA,EAASkJ,aAAe,eAAiBlJ,EAASkJ,aAAe,GAEhH,IAAIE,EAAcpW,KAAKK,OAAOC,QAAQ8V,YACtCA,EAAYrP,QAASC,IACfA,EAAG3I,MAAQ2I,EAAGqP,QAAQrJ,EAAShG,EAAG3I,MAAMtB,KAAKiK,EAAGqP,UAGtD/Y,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC1CF,IAAO,uCACPzK,KAAO,CACLgR,MAAWjN,KAAKK,OAAOC,QAAQ4M,eAC/BzM,KAAWT,KAAKK,OAAOC,QAAQ6M,eAC/B5C,OAAWA,EACXyC,SAAWA,EACXtB,KAAW1L,KAAK0L,QAIA,WAAjBpO,EAAOwJ,QACR9G,KAAK0M,MAAMvL,OAAO,mBAAmB,CAAC9C,KAAO2B,KAAK2K,KAAKtM,KAAMpC,KAAO,CAAC6Q,SAAWxP,EAAOrB,QACvF+D,KAAK0M,MAAMvL,OAAO,sBAAuB,CACvC9C,KAAO2B,KAAK2K,KAAKtM,KACjBpC,KAAO,CACLqQ,WAAa,CAAE7L,KAAOT,KAAKK,OAAOC,QAAQ6M,kBAAmB7P,EAAOgP,gBAIxEtM,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAqBD,KAAM,UAC3GzB,KAAKmD,SAAU,GAGjB,OAAOlH,GACL+D,KAAK0L,KAAKrN,KAAOpC,EAAKmD,IAClBY,KAAK0L,KAAKrN,OAASpC,EAAKmD,IACN,QAApBY,KAAK0L,KAAKC,MAAkB3L,KAAK0L,KAAKC,MAAQ,OAAS3L,KAAK0L,KAAKC,MAAQ,MAEzE3L,KAAK0L,KAAKC,MAAQ,OACpB3L,KAAKkH,WAGP,kBAAkBjL,GAChB,SAASmR,EAAanR,GACpB+D,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAKuF,KAAO1I,EAAK0I,KACnC3E,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAKwN,iBAAiB9E,OAC9C9H,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAKwN,MAAM7F,QAAQ,CAACC,EAAIqG,KAC5C,IAAIC,EAAU,CACZlO,IAAQY,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAKwN,MAAMS,GACzC1I,KAAQ1I,EAAK0I,MAEfyI,EAAavQ,KAAKmD,KAAMsN,KAK9BF,EAAavQ,KAAKmD,KAAM/D,GAExB+D,KAAKuN,mBAGP,gBAAgBtR,GACd+D,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAK4E,MAAQ/H,EAAK+H,MACxChE,KAAKuN,mBAGP,gBAAgBtR,GACdA,EAAKA,KAAK8K,QAAQC,IAChB,IAAI5H,EAAM4H,EAAG5H,IAAKsM,EAAK1E,EAAGwG,OAAO9B,KACjC1L,KAAK2K,KAAKjJ,OAAOtC,GAAKsM,KAAOA,IAE/B1L,KAAKuN,mBAGP,0BAA0BtR,GACxB+D,KAAKmD,SAAU,EACK,QAAhBlH,EAAK2R,QACP5N,KAAK2K,KAAKJ,OAAOqB,SAAS7O,KAAK,CAACsB,KAAOpC,EAAKoC,KAAMpC,KAAOA,EAAKA,OAG5C,WAAhBA,EAAK2R,QACP5N,KAAK2K,KAAKJ,OAAOqB,SAASjO,OAAO1B,EAAKoR,IAAK,GAG7C,IAAI/P,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAO,+BACPzK,KAAO,CACL0O,KAAU1O,EAAK0O,KACf6C,OAAUE,KAAKC,UAAU3N,KAAK2K,KAAKJ,OAAOqB,UAC1CnK,KAAU,SAGM,WAAjBnE,EAAOwJ,OACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAM1E,EAAOkE,QAASC,KAAO,YAE9DzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,UAC7GzB,KAAKmD,SAAU,GAGjB,wBACE,IAAIuE,EAAOhL,OAAOgL,KAAK1H,KAAK2K,KAAKjJ,QAC7B+L,EAAe/F,EAAKN,IAAIJ,IAC1B,IAAIrC,EAEJ,OADmCA,IAAlC,SAAU3E,KAAK2K,KAAKjJ,OAAOsF,KAAchH,KAAK2K,KAAKjJ,OAAOsF,GAAIrC,KACxD,CAACvF,IAAM4H,EAAIhD,MAAQhE,KAAK2K,KAAKjJ,OAAOsF,GAAIhD,MAAQW,KAAOA,EAAM+G,KAAO1L,KAAK2K,KAAKjJ,OAAOsF,GAAI0E,QAE9FpO,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAO,yBACPzK,KAAO,CACL0O,KAAU3K,KAAK2K,KAAKtM,KACpBmP,OAAUE,KAAKC,UAAUF,GACzBhM,KAAU,SAGM,WAAjBnE,EAAOwJ,OACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAM1E,EAAOkE,QAASC,KAAO,YAE9DzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,WAG/G,iBACEzB,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAO,yBACPzK,KAAO,CACL0O,KAAU3K,KAAK2K,KAAKtM,KACpBoD,KAAU,SAGd,GAAoB,WAAjBnE,EAAOwJ,QAAuBxJ,EAAOrB,KAAKQ,OAAO,EAAG,CACrD,IAAIgR,EAAeC,KAAKG,MAAMvQ,EAAOrB,KAAK,IAC1CwR,EAAa1G,QAAQC,IACdA,EAAG5H,OAAOY,KAAK2K,KAAKjJ,SACvB1B,KAAK2K,KAAKjJ,OAAOsF,EAAG5H,KAAKuF,KAAOqC,EAAGrC,KACnC3E,KAAK2K,KAAKjJ,OAAOsF,EAAG5H,KAAK4E,MAAQgD,EAAGhD,MACpChE,KAAK2K,KAAKjJ,OAAOsF,EAAG5H,KAAKsM,KAAO1E,EAAG0E,QAezC,GAXqB,YAAlBpO,EAAOwJ,QACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,UAG7GnE,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC1CF,IAAO,+BACPzK,KAAO,CACL0O,KAAU3K,KAAK2K,KAAKtM,KACpBoD,KAAU,SAGO,YAAlBnE,EAAOwJ,QAAwBxJ,EAAOrB,KAAKQ,OAAS,EAAG,CACxD,IAAImP,EAAW8B,KAAKG,MAAMvQ,EAAOrB,MACjC2P,EAAS7E,QAAQC,IAAOhH,KAAK2K,KAAKJ,OAAOqB,SAAS7O,KAAKiK,KAEpC,YAAlB1J,EAAOwJ,QACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,UAG7GzB,KAAK0M,MAAM9F,SAAS,aAAc,CAACvI,KAAO2B,KAAK2K,KAAKtM,KAAMpC,KAAO+D,KAAK2K,aAE/D3K,KAAKkH,UAEZlH,KAAK+M,WAAY,EAEjB/M,KAAKmD,SAAU,IAKnBmT,QAAU,WACR3W,OAAOmO,kBAAoBrH,eAAeY,EAAG0G,EAAStM,GACpD,IACE,IAAInE,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAkB,mCAClBsH,iBAAkB,EAClB/R,KAAkB,CAACsa,QAASlP,EAAI5F,KAAOA,KAErCwM,QAAkB3Q,EAAO2Q,OACzBvH,EAAYwH,IAAIC,gBAAgBF,GAChCG,EAAY1I,SAAS2I,cAAc,KACvCD,EAAKE,KAAW5H,EAChB0H,EAAKG,SAAWR,EAChBK,EAAKI,QACLN,IAAIO,gBAAgBL,EAAKE,MAC1B,MAAMhJ,GACLtF,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAsBD,KAAM,UAE5G,OAAO,GACPpC,KAAKW,MACPA,KAAK0O,aC7e0L,MCO/L,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI3O,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,OAAO,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASQ,GAAgC,OAAxBA,EAAOoB,iBAAwBvC,EAAIM,OAAOc,OAAO,eAAe,WAAW,CAACpB,EAAIe,GAAG,0BAA0BX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,KAAK,CAACJ,EAAIe,GAAG,kBAAkBf,EAAIgB,GAAGhB,EAAI6O,iBAAiBzO,EAAG,KAAK,CAACJ,EAAIe,GAAG,WAAWf,EAAIgB,GAAGhB,EAAIqH,IAAIrH,EAAIyW,sBAAsBrW,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,MAAM,CAACc,YAAY,qBAAqB,CAACd,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,SAAS,KAAO,mBAAmB,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAI0W,cAAc,CAAC1W,EAAIe,GAAG,uBAAuBf,EAAIgB,GAAGhB,EAAIgJ,WAAW,QAAQ,MAAM,GAAKhJ,EAAIoD,QAAwGpD,EAAIqB,KAAnGjB,EAAG,OAAO,CAACoC,MAAM,CAACzD,MAAOiB,EAAQ,KAAE0C,SAAS,SAAUC,GAAM3C,EAAI4E,KAAKjC,GAAKL,WAAW,UAAmBlC,EAAG,OAAQJ,EAAIqP,kBAAmBrP,EAAI8O,QAAY9O,EAAIwP,OAAi5CxP,EAAIqB,KAA74CjB,EAAG,MAAM,CAACc,YAAY,qBAAqB,CAAElB,EAAI2W,gBAAkB3W,EAAI4W,SAAUxW,EAAG,MAAM,CAACc,YAAY,yBAAyB,CAACd,EAAG,OAAO,CAACc,YAAY,eAAe,CAACd,EAAG,QAAQ,CAACJ,EAAIe,GAAG,wBAAwBX,EAAG,YAAY,CAAC0C,MAAM9C,EAAI+C,OAAOuO,QAAU,UAAY,GAAG7Q,MAAM,CAAC,YAAc,sBAAsB+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,wBAAwBtC,EAAIa,GAAIb,EAAY,UAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,IAAI,GAAGqB,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,SAAS,KAAO,gBAAgB,KAAO,WAAWE,GAAG,CAAC,MAAQX,EAAIyS,gBAAgB,GAAGzS,EAAIqB,KAAMrB,EAAI4W,UAAY5W,EAAI8O,OAAQ1O,EAAG,MAAM,CAACc,YAAY,yBAAyB,CAACd,EAAG,OAAO,CAACc,YAAY,eAAe,CAACd,EAAG,QAAQ,CAACJ,EAAIe,GAAG,oCAAoCX,EAAG,YAAY,CAAC0C,MAAM9C,EAAI+C,OAAOiB,UAAY,UAAY,GAAGvD,MAAM,CAAC,YAAc,aAAa,SAAW,IAAI+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,wBAAwBtC,EAAIa,GAAIb,EAAa,WAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,IAAI,GAAGqB,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,SAAS,KAAO,gBAAgB,KAAO,UAAU,UAAYT,EAAI4W,UAAUjW,GAAG,CAAC,MAAQX,EAAI6W,iBAAiB,GAAG7W,EAAIqB,OAAgBjB,EAAG,MAAQJ,EAAIwP,OAAuuCpP,EAAG,MAAM,CAAEJ,EAAY,SAAEI,EAAG,MAAM,CAACc,YAAY,yBAAyB,CAACd,EAAG,OAAO,CAACc,YAAY,eAAe,CAACd,EAAG,QAAQ,CAACJ,EAAIe,GAAG,+BAA+BX,EAAG,iBAAiB,CAAC0C,MAAM9C,EAAI+C,OAAOoH,aAAe,UAAY,GAAG4E,YAAY,CAAC,MAAQ,OAAOtO,MAAM,CAAC,iBAAiB,CAAEqD,eAAgB,GAAI,KAAO,OAAO,OAAS,aAAa,eAAe,aAAa,YAAc,kCAAkCtB,MAAM,CAACzD,MAAOiB,EAAgB,aAAE0C,SAAS,SAAUC,GAAM3C,EAAImK,aAAaxH,GAAKL,WAAW,kBAAmBtC,EAAI+C,OAAmB,aAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOoH,iBAAiBnK,EAAIqB,MAAM,KAAKrB,EAAIqB,KAAKjB,EAAG,MAAMA,EAAG,QAAQ,CAACJ,EAAIe,GAAG,WAAWf,EAAIgB,GAAGhB,EAAI2W,eAAiB,gBAAkB,wBAAwB,gBAAgBvW,EAAG,WAAW,CAAC0C,MAAM9C,EAAI+C,OAAOgC,QAAU,UAAY,GAAGtE,MAAM,CAAC,KAAO,WAAW,KAAO,KAAK+B,MAAM,CAACzD,MAAOiB,EAAW,QAAE0C,SAAS,SAAUC,GAAM3C,EAAI+E,QAAQpC,GAAKL,WAAW,aAActC,EAAI+C,OAAc,QAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOgC,YAAY/E,EAAIqB,KAAKjB,EAAG,MAAM,CAACc,YAAY,yBAAyB,CAACd,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,eAAe,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAI8W,mBAAmB,CAAC9W,EAAIe,GAAG,aAAaX,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,gBAAgB,KAAO,UAAUE,GAAG,CAAC,MAAQX,EAAI+W,wBAAwB,CAAC/W,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI2W,eAAiB,eAAiB,uBAAuB,QAAQ,IAAI,GAArpFvW,EAAG,MAAM,CAACA,EAAG,MAAM,CAACc,YAAY,yBAAyB,CAACd,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,eAAe,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIyP,aAAa,CAACzP,EAAIe,GAAG,yCAA0Cf,EAAIqP,iBAAmBrP,EAAI8O,UAAY9O,EAAI2W,gBAAkB3W,EAAI4W,UAAWxW,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,mBAAmB,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIuS,cAAc,CAACvS,EAAIe,GAAG,qCAAqCf,EAAIqB,KAAOrB,EAAIqP,iBAAmBrP,EAAI0S,kBAAoB1S,EAAI2W,gBAAkB3W,EAAI4W,WAAe5W,EAAI8O,QAA+B,WAArB9O,EAAIyW,eAA2BrW,EAAG,YAAY,CAAC6C,IAAI,SAAS/B,YAAY,cAAcT,MAAM,CAAC,OAAS,GAAG,eAAc,EAAM,YAAYT,EAAIgX,WAAW,UAAW,IAAQ,CAAC5W,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,kBAAkB,KAAO,SAAS,KAAO,SAAS,CAACT,EAAIe,GAAG,uCAAuC,GAAGf,EAAIqB,MAAOrB,EAAIqP,iBAAmBrP,EAAI8O,UAAY9O,EAAI2W,gBAAkB3W,EAAI4W,UAAWxW,EAAG,YAAY,CAACc,YAAY,cAAcT,MAAM,CAAC,KAAO,SAAS,KAAO,gBAAgB,KAAO,UAAUE,GAAG,CAAC,MAAQX,EAAIiX,iBAAiB,CAACjX,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI2W,eAAiB,wBAA0B,uBAAuB,OAAO3W,EAAIqB,MAAM,MAA+7C,IAChrK,GAAkB,GCDlB,GAAS,WAAa,IAAIrB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACc,YAAY,qBAAqB,CAACd,EAAG,WAAW,CAACc,YAAY,qBAAqBT,MAAM,CAAC,KAAOT,EAAIjB,QAAQ,CAACqB,EAAG,kBAAkB,CAACK,MAAM,CAAC,KAAO,QAAQ,MAAQ,SAASL,EAAG,kBAAkB,CAACyB,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASwO,GAAO,OAAOvQ,EAAIa,GAAI0P,EAAMpE,IAAS,OAAE,SAASrL,GAAM,OAAOV,EAAG,IAAI,CAAC2O,YAAY,CAAC,OAAS,QAAQ,CAAC3O,EAAG,OAAO,CAAC4B,SAAS,CAAC,UAAYhC,EAAIgB,GAAGF,kBAAoB,IAAI,IACzf,GAAkB,GCoBP,IACbxC,KAAc,qBACdiS,MAAc,CAAC,UCvBwL,MCOrM,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCkKA,IACbjS,KAAM,iBACNmS,WAAY,CAAC6E,KAAA,IACb,OACE,MAAO,CACLmB,eAAiB,GACjB7R,KAAiB,GACjBZ,UAAiB,GACjBkQ,SAAiB,GACjB7M,IAAiB,GACjBmI,QAAiB,EACjBzL,UAAiB,GACjBoG,aAAiB,GACjBpF,QAAiB,GAEjBtC,UAAiB,CACfuB,UAAc,GACdmQ,UAAc,GACd7B,YAAc,IAGhBvP,OAAiB,CACfiB,UAAY,KACZe,QAAY,KACZuM,QAAY,KACZnH,aAAe,QAIrBjF,SAAW,CACT9B,QAAS,CACPzE,IAAK,WACH,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAK,SAAUpG,GACbkB,KAAKK,OAAOc,OAAO,aAAcrC,KAGrC,aACE,OAAOkB,KAAKK,OAAOC,QAAQqO,YAE7B,eACE,OAAO3O,KAAKK,OAAOC,QAAQsO,cAE7B,YACE,OAAO5O,KAAKK,OAAOC,QAAQyI,WAE7B,kBACE,OAAO/I,KAAKK,OAAOC,QAAQ0M,SAAS,kBAEtC,SACE,OAAOhN,KAAKK,OAAOC,QAAQ0M,SAAS,SAEtC,kBACE,OAAOhN,KAAKK,OAAOC,QAAQmS,iBAE7B,WACE,MAA+B,WAAxBzS,KAAKwW,gBAEd,iBACE,MAA+B,kBAAxBxW,KAAKwW,iBAGhBnR,QAAS,CACP,cACErF,KAAKK,OAAOc,OAAO,UAAW,WAC9BnB,KAAKK,OAAOc,OAAO,eAAgB,WAErC,qBACE,GAAInB,KAAKwC,UAAUuB,UAAUtH,QAAU,EAA8D,YAA1DuD,KAAK8C,OAAOiB,UAAY,kCAEnE,IAAIzG,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAQ,0CACRzK,KAAQ,CAACoL,GAAKrH,KAAK+I,UAAWhF,UAAY/D,KAAKwC,UAAUuB,aAEtC,WAAjBzG,EAAOwJ,QACT9G,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAAQC,KAAO,YAC9DzB,KAAKwC,UAAUuB,UAAY,GAC3B/D,KAAKkH,WAELlH,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,WAElE,oBACE,GAA+B,KAA3BzB,KAAKwC,UAAU6O,QAAoE,YAAnDrR,KAAK8C,OAAOuO,QAAU,6BAC1D,IAAI/T,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAQ,qCACRzK,KAAQ,CAACoL,GAAKrH,KAAK2O,WAAY0C,QAAUrR,KAAKwC,UAAU0R,aAErC,WAAjB5W,EAAOwJ,QACT9G,KAAKK,OAAOc,OAAO,qBAAsBnB,KAAKwC,UAAU0R,WACxDlU,KAAKiU,SAASlN,QAAQC,IAAWA,EAAGlI,QAAUkB,KAAKwC,UAAU0R,YAAYlU,KAAKwC,UAAU6P,YAAcrL,EAAGpE,SACzG5C,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAAQC,KAAO,YAC9DzB,KAAKkH,WAELlH,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,WAElE,aACEzB,KAAKmM,SAAS,8EAA8EnM,KAAK+I,eAAeqD,KAAK,KACnHpM,KAAKK,OAAOc,OAAO,UAAW,WAC9BnB,KAAKK,OAAOc,OAAO,eAAgB,gBAClCkL,MAAO,SAEZ,oBACErM,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAc,sCACdzK,KAAc,CACZoL,GAAYrH,KAAK+I,UACjB1K,MAAY,KAGhB,GAAsB,YAAlBf,EAAOwJ,OAAsB,CAC/B,IAAIiH,EAAW,iBAOf,GANAzQ,EAAOe,OAAO0P,EAAWzQ,EAAOe,MAChCf,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC3CF,IAAoB,sCACpBzK,KAAoB,CAACoL,GAAKrH,KAAK+I,WAC/BiF,iBAAmB,IAEC,MAAlB1Q,EAAOwJ,OAAgB,CACzB,IAAImH,QAAmB3Q,EAAO2Q,OAC1BG,EAAa1I,SAAS2I,cAAc,KACxCD,EAAKE,KAAYJ,IAAIC,gBAAgBF,GACrCG,EAAKG,SAAYR,EACjBK,EAAKI,QACLN,IAAIO,gBAAgBL,EAAKE,WACpBtO,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,eAErEzB,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAO1E,EAAOkE,QAASC,KAAM,UACjEzB,KAAKmD,SAAU,GAEjB,mBACE,IAAIuR,EAAW1U,KAAKiE,MAAMuD,OAAOC,YAAY,GAAGI,IAAIpG,KACpD,GAAiB,mBAAZiT,GAA6C,cAAZA,EAA0B,CAE9D1U,KAAKmD,SAAU,EACf,IAAIlH,EAAO,IAAI0L,SACf1L,EAAK2L,OAAO,KAAM5H,KAAK+I,WACvB9M,EAAK2L,OAAO,OAAQ5H,KAAKK,OAAOC,QAAQsO,aAAe,KAAM,IAAItH,MAAOC,qBAAqB+B,MAAM,KAAKE,KAAK,MAC7GvN,EAAK2L,OAAO,UAAW5H,KAAKiE,MAAMuD,OAAOC,YAAY,GAAGI,KACxD,IAAIvK,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,qCAAqCzK,KAAOA,EAAKwF,KAAO,SAC1F,WAAjBnE,EAAOwJ,OACT9G,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAAQC,KAAO,YAE9DzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,UAChEzB,KAAKiE,MAAMuD,OAAO+L,aAClBvT,KAAKkH,UACLlH,KAAKmD,SAAU,OAEbnD,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM,2CAA4CN,OAAQ,yBAA0BD,KAAM,UAC5HzB,KAAKiE,MAAMuD,OAAO+L,cAGxB,iBACEvT,KAAKuP,QAAS,EACdvH,WAAW,KAAOrI,OAAOsR,SAAS,EAAE,OAAQ,IAE9C,mBACEjR,KAAK8E,QAAU,GACf9E,KAAKuP,QAAS,GAEhB,wBACE,IAAIzF,EAAQ,IAAIxC,KAAKtH,KAAKkK,aAAaZ,MAAM,KAAKC,UAAUC,KAAK,MAAME,UAAY,IAAIpC,KAAKtH,KAAK8D,UAAUwF,MAAM,KAAKC,UAAUC,KAAK,MAAME,UAE3I,GAAII,EAAQ,EAEV,YADA9J,KAAK8C,OAAOoH,aAAe,0EAG7B,IAAKlK,KAAKkK,aAER,YADAlK,KAAK8C,OAAOoH,aAAe,4BAG7B,IAAKlK,KAAK8E,QAER,YADA9E,KAAK8C,OAAOgC,QAAU,+BAIxB,IAAIgC,EAAS,KACT9G,KAAK2W,WAAgB7P,EAAS,cAC9B9G,KAAK0W,iBAAgB5P,EAAS,UAGlC9G,KAAKmM,SAAS,0BAA0BnM,KAAK0W,eAAiB,uBAAyB,2CAA2C1W,KAAK2O,gBAAgBvC,KAAK3F,UACzJzG,KAAKmD,SAAU,EACf,IAAK+N,QAAqBlR,KAAKK,OAAOuG,SAAS,QAAQ,CACrDF,IAAU,yCACVzK,KAAW,CACToL,GAAcrH,KAAK2O,WACnBgF,WAAc3T,KAAK+I,UACnBqI,OAAcpR,KAAK8E,QACnBgC,OAAcA,EACd0K,YAAcxR,KAAKkK,gBAIG,WAAvBgH,EAAapK,QACf9G,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAMkP,EAAa1P,QAASE,OAAQ,WAAYD,KAAM,kBAClFzB,KAAKkH,WAETlH,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAMkP,EAAa1P,QAASE,OAAQ,gDAAiDD,KAAM,UACjIzB,KAAK8E,QAAU,GACf9E,KAAKuP,QAAS,EACdvP,KAAKmD,SAAU,IACdkJ,MAAM,SAEX,gBACErM,KAAKmD,SAAU,EAEfnD,KAAKK,OAAOC,QAAQyU,oBAAoBhO,QAAQC,IAAOhH,KAAKoH,IAAIJ,EAAGlI,OAASkI,EAAGpE,QAE/E,IAAItF,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAAEF,IAAM,gCACnC,WAAjBpJ,EAAOwJ,SACT9G,KAAKiU,SAAW3W,EAAOrB,KAAKmL,IAAIJ,IACvB,CAAClI,MAAQkI,EAAGK,GAAIzE,MAAQoE,EAAG3I,SAItCf,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAACF,IAAK,+BAAgCzK,KAAM,KACpE,WAAjBqB,EAAOwJ,SACT9G,KAAK+D,UAAYzG,EAAOrB,KAAKmL,IAAIJ,IACxB,CAAClI,MAAOkI,EAAGK,GAAG,GAAGvI,MAAO8D,MAAOoE,EAAG3I,KAAK,GAAGS,UAIrDxB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC3CF,IAAQ,kCACRzK,KAAQ,CAACoL,GAAIrH,KAAK+I,aAEpB,IAAIhF,EAAY,GAahB,GAZqB,WAAjBzG,EAAOwJ,OACTxJ,EAAOrB,KAAK8H,UAAUgD,QAAQC,IAAOhH,KAAK+D,UAAUgD,QAAQlG,IAASA,EAAK/B,QAAUkI,GAAKjD,EAAUhH,KAAK8D,EAAK+B,YAE7G5C,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,qBAAsBD,KAAM,UAC5FsC,EAAUhH,KAAK,iCAGjBO,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC3CF,IAAQ,sCACRzK,KAAQ,CAACoL,GAAIrH,KAAK2O,cAGC,WAAjBrR,EAAOwJ,OAAqB,CAE9B9G,KAAK8D,UAAYxG,EAAOrB,KAAK6Y,eAE7B9U,KAAKwC,UAAU0R,UAAY5W,EAAOrB,KAAK+Z,WACvChW,KAAKK,OAAOc,OAAO,qBAAqBnB,KAAKwC,UAAU0R,WACvDlU,KAAKiU,SAASlN,QAAQC,IAAWA,EAAGlI,QAAUkB,KAAKwC,UAAU0R,YAAYlU,KAAKwC,UAAU6P,YAAcrL,EAAGpE,SAEzG5C,KAAKK,OAAOc,OAAO,kBAAmB7D,EAAOrB,KAAKoC,MAClD2B,KAAKwW,eAAkBlZ,EAAOrB,KAAK6K,OAEnC,IAAIsK,EAAS,GACiEA,EAAlD,WAAxBpR,KAAKwW,gBAAuD,eAAxBxW,KAAKwW,eAA0ClZ,EAAOrB,KAAKuV,YAAc,KAAOlU,EAAOrB,KAAKwV,WAA7CnU,gBAAgFA,EAAOrB,KAAKmV,OAAsB,GAEzM,IAAIhH,EAAQ,GACZ9M,EAAOrB,KAAKmO,MAAM3N,OAAS,EAAI2N,EAAQ9M,EAAOrB,KAAKmO,MAAMhD,IAAIJ,GAAcA,EAAGlI,OAAUsL,EAAMrN,KAAM,cAEpG,IAAI+U,EAAc,GAAIxO,EAAY,GAGlC,GAFAA,EAAahG,EAAOrB,KAAKiN,SAEN,eAAf5F,GACF,GAAIhG,EAAOrB,KAAKsH,MAAM9G,OAAS,EAC7B,IAAK,IAAIF,EAAI,EAAGA,EAAIe,EAAOrB,KAAKsH,MAAM9G,OAAQF,IAE5C,GADAuV,EAAY/U,KAAKO,EAAOrB,KAAKsH,MAAMhH,GAAG+R,KAAO,KAAOhR,EAAOrB,KAAKsH,MAAMhH,GAAGwV,WAAa,KAAMzU,EAAOrB,KAAKsH,MAAMhH,GAAGyJ,UAC7G1I,EAAOrB,KAAKsH,MAAMhH,GAAGyV,eAAelK,MACtC,IAAK,IAAIrK,EAAI,EAAGA,EAAIH,EAAOrB,KAAKsH,MAAMhH,GAAGyV,IAAIvV,OAAQgB,IAAOqU,EAAY/U,KAAK,KAAOO,EAAOrB,KAAKsH,MAAMhH,GAAGyV,IAAIvU,GAAGY,KAAO,KAAOf,EAAOrB,KAAKsH,MAAMhH,GAAGyV,IAAIvU,GAAGuI,SAAW,WAKvK1I,EAAOrB,KAAKsH,MAAM9G,OAAS,GAC7BqV,EAAY/U,KAAKO,EAAOrB,KAAKsH,MAAM,GAAGX,OAK1C5C,KAAK2E,KAAO,CACV,CAAC/B,MAAQ,4BAAuC9D,MAAQ,CAACxB,EAAOrB,KAAK4Y,iBACrE,CAACjS,MAAQ,+BAAuC9D,MAAQ,CAACxB,EAAOrB,KAAK6Y,iBACrE,CAAClS,MAAQ,eAAuC9D,MAAQ,CAACxB,EAAOrB,KAAKoL,KACrE,CAACzE,MAAQ,YAAuC9D,MAAQ,CAACxB,EAAOrB,KAAK0X,aACrE,CAAC/Q,MAAQ,mBAAuC9D,MAAQ,CAACxB,EAAOrB,KAAKkO,gBACrE,CAACvH,MAAQ,WAAuC9D,MAAQxB,EAAOrB,KAAKiP,QAAQ9D,IAAIJ,GAAeA,EAAGlI,MAAO,KAAOkI,EAAG+K,WAAY,KAAO/K,EAAGhB,WACzI,CAACpD,MAAuB,eAAfU,EAA8B,kBAAoB,yBAA0BxE,MAAQgT,GAC7F,CAAClP,MAAQ,cAAuC9D,MAAQ,CAACxB,EAAOrB,KAAKgH,UACrE,CAACL,MAAQ,aAAuC9D,MAAQiF,GACxD,CAACnB,MAAQ,qBAAuC9D,MAAQ,CAACkB,KAAKwC,UAAU6P,cACxE,CAACzP,MAAQ,sCAAuC9D,MAAQ,CAACsS,IACzD,CAACxO,MAAQ,mBAAuC9D,MAAQsL,SAI1DpK,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,qBAAsBD,KAAM,UAE9FuG,WAAW,KAAOrI,OAAOsR,SAAS,EAAE,OAAQ,GAC5CjR,KAAKmD,SAAU,IAGnB,UACExD,OAAOmO,kBAAoBrH,eAAeY,EAAG0G,EAAStM,GACpD,IACE,IAAInE,QAAe0C,KAAKK,OAAOuG,SAAS,QAAS,CAC/CF,IAAkB,mCAClBsH,iBAAkB,EAClB/R,KAAkB,CAACsa,QAASlP,EAAI5F,KAAOA,KAErCwM,QAAkB3Q,EAAO2Q,OACzBvH,EAAYwH,IAAIC,gBAAgBF,GAChCG,EAAY1I,SAAS2I,cAAc,KACvCD,EAAKE,KAAW5H,EAChB0H,EAAKG,SAAWR,EAChBK,EAAKI,QACLN,IAAIO,gBAAgBL,EAAKE,MAC1B,MAAMhJ,GACLtF,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAsBD,KAAM,UAE5G,OAAO,GACPpC,KAAKW,MACPA,KAAKkK,cAAe,IAAI5C,MAAOC,qBAC/BvH,KAAKkH,WAEPa,MAAO,CACL,sBAAwB,WACtB/H,KAAK8C,OAAOiB,UAAY,MAE1B,oBAAsB,WACpB/D,KAAK8C,OAAOuO,QAAU,MAExB,QAAY,WACVrR,KAAK8C,OAAOgC,QAAU,MAExB,aAAiB,WACf9E,KAAK8C,OAAOoH,aAAe,QCjgBoK,MCOjM,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCJA,IACb7L,KAAa,eACbmS,WAAa,CAACqF,KAAA,GAAME,OAAA,IACpB9Q,SAAa,CACZ1E,UAAY,WACT,OAAOP,KAAKK,OAAOC,QAAQC,aCnBkK,MCO/L,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAGJ,EAAIQ,UAAU,CAACc,IAAI,eAAe,IAC3I,GAAkB,GCDlB,GAAS,WAAa,IAAItB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,aAAa,CAAEtC,EAAa,UAAEI,EAAG,OAAO,CAACgC,WAAW,CAAC,CAAC9D,KAAK,YAAY+D,QAAQ,gCAAgCtD,MAAOiB,EAAqB,kBAAEsC,WAAW,oBAAoBqI,IAAI,qBAAqB,CAACrM,KAAK,YAAY+D,QAAQ,8BAA8BtD,MAAOiB,EAAmB,gBAAEsC,WAAW,kBAAkBqI,IAAI,mBAAmB,CAACrM,KAAK,YAAY+D,QAAQ,8BAA8BtD,MAAOiB,EAAmB,gBAAEsC,WAAW,kBAAkBqI,IAAI,mBAAmB,CAACrM,KAAK,YAAY+D,QAAQ,qBAAqBtD,MAAOiB,EAAU,OAAEsC,WAAW,SAASqI,IAAI,UAAU,CAACrM,KAAK,YAAY+D,QAAQ,kCAAkCtD,MAAOiB,EAAuB,oBAAEsC,WAAW,sBAAsBqI,IAAI,wBAAwBlK,MAAM,CAAC,KAAO,cAAcT,EAAIqB,MAAM,IAC76B,GAAkB,GCaP,IACb/C,KAAO,eACPpC,KAAO,WACL,MAAO,CACL0O,KAAa,CACXJ,OAAa,CACXtO,KAAe,CACboL,GAAkB,CAChB1C,MAAO,EACPlD,KAAO,SACPpD,KAAO,MAETA,KAAkB,CAChBoD,KAAY,aACZpD,KAAY,WACZwM,UAAY,EACZtE,MAAYE,eAAgBxK,GAC1B,IAAIqB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,+BACRzK,KAAS,CAAC4K,EAAI5K,KAEhB,GAAoB,WAAjBqB,EAAOwJ,OAAqB,CAC7B,IAAI/C,EAAYzG,EAAOrB,KAAKmL,IAAIJ,IACvB,CAAClI,MAAQkI,EAAGK,GAAG,GAAGvI,MAAO8D,MAAQoE,EAAG3I,KAAK,GAAGS,SAErD,OAAOiF,IAET1E,KAAKW,OAETiM,SAAkB,CAChBxK,KAAW,OACXpD,KAAW,cACXwM,UAAW,EACXE,OAAW/K,KAAKK,OAAOC,QAAQ2W,eAEjCC,OAAkB,CAChBzV,KAAW,OACXpD,KAAW,aACXwM,UAAW,EACXE,OAAW,CAAC,CAACjM,MAAQ,CAAC,GAAI8D,MAAQ,WAAY,CAAC9D,MAAQ,CAAC,GAAI8D,MAAQ,gBAEtEuI,WAAkB,CAChB1J,KAAO,OACPpD,KAAO,kBAGXuN,SAAe,GACfC,cAAe,EACftB,OAAe,SAAStO,GACtB+D,KAAK8L,WAAa7P,EAClB+D,KAAKK,OAAOc,OAAO,oBAAqB,GACxCnB,KAAKkH,WACL7H,KAAKW,MACP+L,MAAe,WACb/L,KAAK8L,WAAa,GAClB9L,KAAKkH,WACL7H,KAAKW,OAETgM,QAAa,CACX,CACE3N,KAAW,gBACX4N,SAAW,SAASC,GAClBlM,KAAKK,OAAOc,OAAO,eAAe,QAClCnB,KAAKK,OAAOc,OAAO,qBAAqB+K,IACxC7M,KAAKW,QAGXsM,WAAa,CACX3H,KAAc,OACdlE,KAAc,EACd8L,YAAc,GACdC,MAAc,CAAC,GAAG,GAAG,IACrBC,WAAa,SAAS3N,GACpBkB,KAAKK,OAAOc,OAAO,oBAAqBrC,GACxCkB,KAAK0M,MAAMvL,OAAO,sBAAuB,CAAC9C,KAAO,WAAYpC,KAAO,CAACqQ,WAAa,CAACC,YAAczN,MACjGkB,KAAKkH,WACL7H,KAAKW,MACP2M,WAAa,SAAS7N,GACpBkB,KAAKK,OAAOc,OAAO,oBAAqBrC,GACxCkB,KAAKkH,WACL7H,KAAKW,OAET0B,OAAa,CACX2F,GAAa,CACXhJ,KAAc,KACd2F,MAAc,IACd6I,aAAc,GAEhBnB,KAAa,CACXrN,KAAc,aACd2F,MAAc,IACd6I,aAAc,GAEhBxO,KAAa,CACXA,KAAc,WACd2F,MAAc,IACd6I,aAAc,GAEhB7K,KAAa,CACX3D,KAAc,oBACd2F,MAAc,KAEhBiI,SAAa,CACX5N,KAAc,cACd2F,MAAc,IACd6I,aAAc,GAEhBqK,OAAa,CACX7Y,KAAc,aACd2F,MAAc,IACd6I,aAAc,GAEhB1B,WAAa,CACX9M,KAAc,gBACd2F,MAAc,IACd6I,aAAc,GAEhBnI,KAAa,CACXrG,KAAQ,aACR2F,MAAQ,MAGZ8I,SAAa,GACbzO,KAAa,YAEfyN,WAAa,GACbJ,KAAa,CACXrN,KAAO,KACPsN,MAAQ,OAEVoB,WAAa,IAGnB9H,SAAS,CACP9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,MAIpCuG,QAAU,CACR,gBACErF,KAAKmD,SAAU,EACf,IAAIoH,QAAevK,KAAKK,OAAOuG,SAAS,sBAAuB5G,KAAK8L,YAChExO,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAU,+BACVzK,KAAU,CACRgR,MAAUjN,KAAKK,OAAOC,QAAQ4M,eAC9BzM,KAAUT,KAAKK,OAAOC,QAAQ6M,eAC9B5C,OAAUA,EACVmB,KAAU1L,KAAK0L,QAGC,WAAjBpO,EAAOwJ,QACR9G,KAAK0M,MAAMvL,OAAO,mBAAmB,CAAC9C,KAAO2B,KAAK2K,KAAKtM,KAAKpC,KAAO,CAAC6Q,SAAWxP,EAAOrB,QACtF+D,KAAK0M,MAAMvL,OAAO,sBAAuB,CACvC9C,KAAO2B,KAAK2K,KAAKtM,KACjBpC,KAAO,CACLqQ,WAAa,CAAE7L,KAAOT,KAAKK,OAAOC,QAAQ6M,kBAAmB7P,EAAOgP,gBAIxEtM,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAqBD,KAAM,UAC3GzB,KAAKmD,SAAU,GAGjB,OAAOlH,GACL+D,KAAK0L,KAAKrN,KAAOpC,EAAKmD,IAClBY,KAAK0L,KAAKrN,OAASpC,EAAKmD,IACN,QAApBY,KAAK0L,KAAKC,MAAkB3L,KAAK0L,KAAKC,MAAQ,OAAS3L,KAAK0L,KAAKC,MAAQ,MAEzE3L,KAAK0L,KAAKC,MAAQ,OACpB3L,KAAKkH,WAGP,kBAAkBjL,GAChB+D,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAKuF,KAAO1I,EAAK0I,KACvC3E,KAAKuN,mBAGP,gBAAgBtR,GACd+D,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAK4E,MAAQ/H,EAAK+H,MACxChE,KAAKuN,mBAGP,gBAAgBtR,GACdA,EAAKA,KAAK8K,QAAQC,IAChB,IAAI5H,EAAM4H,EAAG5H,IAAKsM,EAAK1E,EAAGwG,OAAO9B,KACjC1L,KAAK2K,KAAKjJ,OAAOtC,GAAKsM,KAAOA,IAE/B1L,KAAKuN,mBAGP,0BAA0BtR,GACxB+D,KAAKmD,SAAU,EACK,QAAhBlH,EAAK2R,QACP5N,KAAK2K,KAAKJ,OAAOqB,SAAS7O,KAAK,CAACsB,KAAOpC,EAAKoC,KAAMpC,KAAOA,EAAKA,OAG5C,WAAhBA,EAAK2R,QACP5N,KAAK2K,KAAKJ,OAAOqB,SAASjO,OAAO1B,EAAKoR,IAAK,GAG7C,IAAI/P,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAO,+BACPzK,KAAO,CACL0O,KAAU1O,EAAK0O,KACf6C,OAAUE,KAAKC,UAAU3N,KAAK2K,KAAKJ,OAAOqB,UAC1CnK,KAAU,SAGM,WAAjBnE,EAAOwJ,OACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAM1E,EAAOkE,QAASC,KAAO,YAE9DzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,UAC7GzB,KAAKmD,SAAU,GAGjB,wBACE,IAAIuE,EAAOhL,OAAOgL,KAAK1H,KAAK2K,KAAKjJ,QAC7B+L,EAAe/F,EAAKN,IAAIJ,IAC1B,IAAIrC,EAEJ,OADmCA,IAAlC,SAAU3E,KAAK2K,KAAKjJ,OAAOsF,KAAchH,KAAK2K,KAAKjJ,OAAOsF,GAAIrC,KACxD,CAACvF,IAAM4H,EAAIhD,MAAQhE,KAAK2K,KAAKjJ,OAAOsF,GAAIhD,MAAQW,KAAOA,EAAM+G,KAAO1L,KAAK2K,KAAKjJ,OAAOsF,GAAI0E,QAE9FpO,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAO,yBACPzK,KAAO,CACL0O,KAAU3K,KAAK2K,KAAKtM,KACpBmP,OAAUE,KAAKC,UAAUF,GACzBhM,KAAU,SAGM,WAAjBnE,EAAOwJ,OACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAM1E,EAAOkE,QAASC,KAAO,YAE9DzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,WAG/G,iBACEzB,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAO,yBACPzK,KAAO,CACL0O,KAAU3K,KAAK2K,KAAKtM,KACpBoD,KAAU,SAGd,GAAoB,WAAjBnE,EAAOwJ,QAAuBxJ,EAAOrB,KAAKQ,OAAO,EAAG,CACrD,IAAIgR,EAAeC,KAAKG,MAAMvQ,EAAOrB,KAAK,IAC1CwR,EAAa1G,QAAQC,IACdA,EAAG5H,OAAOY,KAAK2K,KAAKjJ,SACvB1B,KAAK2K,KAAKjJ,OAAOsF,EAAG5H,KAAKuF,KAAOqC,EAAGrC,KACnC3E,KAAK2K,KAAKjJ,OAAOsF,EAAG5H,KAAK4E,MAAQgD,EAAGhD,MACpChE,KAAK2K,KAAKjJ,OAAOsF,EAAG5H,KAAKsM,KAAO1E,EAAG0E,QAezC,GAXqB,YAAlBpO,EAAOwJ,QACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,UAG7GnE,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC1CF,IAAO,+BACPzK,KAAO,CACL0O,KAAU3K,KAAK2K,KAAKtM,KACpBoD,KAAU,SAGO,YAAlBnE,EAAOwJ,QAAwBxJ,EAAOrB,KAAKQ,OAAS,EAAG,CACxD,IAAImP,EAAW8B,KAAKG,MAAMvQ,EAAOrB,MACjC2P,EAAS7E,QAAQC,IAAOhH,KAAK2K,KAAKJ,OAAOqB,SAAS7O,KAAKiK,KAEpC,YAAlB1J,EAAOwJ,QACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,UAE7GzB,KAAK0M,MAAM9F,SAAS,aAAc,CAACvI,KAAO2B,KAAK2K,KAAKtM,KAAMpC,KAAO+D,KAAK2K,aAE/D3K,KAAKkH,UAEZlH,KAAK+M,WAAY,EAEjB/M,KAAKmD,SAAU,IAGnB,UACCnD,KAAK0O,aC/S2L,MCO/L,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI3O,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,OAAO,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASQ,GAAgC,OAAxBA,EAAOoB,iBAAwBvC,EAAIM,OAAOc,OAAO,eAAe,WAAW,CAACpB,EAAIe,GAAG,0BAA0BX,EAAG,UAAU,CAACc,YAAY,qBAAqB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,4BAA4BX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,cAAcX,EAAG,WAAW,CAAC0C,MAAM9C,EAAI+C,OAAOzE,KAAO,UAAY,GAAGmC,MAAM,CAAC,KAAO,OAAO,YAAc,oBAAoB+B,MAAM,CAACzD,MAAOiB,EAAIoX,SAAa,KAAE1U,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIoX,SAAU,OAAQzU,IAAML,WAAW,mBAAoBtC,EAAI+C,OAAW,KAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOzE,SAAS0B,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,qBAAqBX,EAAG,YAAY,CAAC0C,MAAM9C,EAAI+C,OAAOmJ,SAAW,UAAY,GAAGzL,MAAM,CAAC,YAAc,mBAAmB+B,MAAM,CAACzD,MAAOiB,EAAIoX,SAAiB,SAAE1U,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIoX,SAAU,WAAYzU,IAAML,WAAW,sBAAsBtC,EAAIa,GAAIb,EAAiB,eAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAKzB,IAAIoB,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAIiB,EAAI+C,OAAe,SAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOmJ,aAAalM,EAAIqB,MAAM,IAAI,GAAGjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,uBAAuBX,EAAG,WAAW,CAAC0C,MAAM9C,EAAI+C,OAAOd,KAAO,UAAY,GAAGxB,MAAM,CAAC,KAAO,WAAW,KAAO,IAAI,YAAc,iBAAiB+B,MAAM,CAACzD,MAAOiB,EAAIoX,SAAa,KAAE1U,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIoX,SAAU,OAAQzU,IAAML,WAAW,mBAAoBtC,EAAI+C,OAAW,KAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOd,SAASjC,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,KAAO,IAAI,YAAc,sBAAsB+B,MAAM,CAACzD,MAAOiB,EAAIoX,SAAa,KAAE1U,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIoX,SAAU,OAAQzU,IAAML,WAAW,oBAAoB,IAAI,GAAGlC,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQA,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,YAAY,CAAC0C,MAAM,eAAerC,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,KAAO,WAAWE,GAAG,CAAC,MAAQX,EAAIqX,cAAc,CAACrX,EAAIe,GAAG,uBAAuB,IAAI,IAAI,IAAI,IAC3gF,GAAkB,GC0EP,IACbzC,KAAO,cACPpC,KAAO,WACL,MAAO,CACLkb,SAAa,CACX9Y,KAAW,GACX2D,KAAW,GACX0C,KAAW,GACXuH,SAAW,IAEbnJ,OAAc,CACZzE,KAAY,KACZ2D,KAAY,KACZiK,SAAY,QAIlBhH,SAAW,CACT9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,KAGpC,gBACE,OAAOkB,KAAKK,OAAOC,QAAQ2W,gBAG/B5R,QAAU,CACR,QAAQ8R,GACN,IAAK,IAAI/X,KAAOY,KAAK8C,OAAQ9C,KAAK8C,OAAO1D,GAAO,KAChD,IAAIiY,GAAU,EAId,OAHKF,EAAS9Y,OAAWgZ,GAAU,EAAOrX,KAAK8C,OAAOzE,KAAW,2CAC5D8Y,EAASnV,OAAWqV,GAAU,EAAOrX,KAAK8C,OAAOd,KAAW,uCAC5DmV,EAASlL,WAAWoL,GAAU,EAAOrX,KAAK8C,OAAOmJ,SAAW,gCAC1DoL,GAET,oBACE,GAAIrX,KAAKqX,QAAQrX,KAAKmX,UAAW,CAC/BnX,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,8BAA8BzK,KAAO+D,KAAKmX,WAC7E,WAAjB7Z,EAAOwJ,QACR9G,KAAKmX,SAAW,CACd9Y,KAAW,GACX2D,KAAW,GACX0C,KAAW,GACXuH,SAAW,IAEbjM,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,WAAYD,KAAM,aAElFzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQE,OAAS,qBAAqBD,KAAM,UAC7FzB,KAAKmD,SAAU,KAIrB4E,MAAO,CACL,gBAAkB,WAChB/H,KAAK8C,OAAOzE,KAAO,MAErB,oBAAsB,WACpB2B,KAAK8C,OAAOmJ,SAAW,MAEzB,gBAAkB,WAChBjM,KAAK8C,OAAOd,KAAO,QC5IyK,MCQ9L,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIjC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,OAAO,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASQ,GAAgC,OAAxBA,EAAOoB,iBAAwBvC,EAAIM,OAAOc,OAAO,eAAe,WAAW,CAACpB,EAAIe,GAAG,0BAA0BX,EAAG,UAAU,CAACc,YAAY,qBAAqB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,4BAA4BX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,cAAcX,EAAG,WAAW,CAAC0C,MAAM9C,EAAI+C,OAAOzE,KAAO,UAAY,GAAGmC,MAAM,CAAC,KAAO,QAAQ+B,MAAM,CAACzD,MAAOiB,EAAIoX,SAAa,KAAE1U,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIoX,SAAU,OAAQzU,IAAML,WAAW,mBAAoBtC,EAAI+C,OAAW,KAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOzE,SAAS0B,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,iBAAiBX,EAAG,YAAY,CAACK,MAAM,CAAC,YAAc,eAAe+B,MAAM,CAACzD,MAAOiB,EAAIoX,SAAiB,SAAE1U,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIoX,SAAU,WAAYzU,IAAML,WAAW,sBAAsBtC,EAAIa,GAAIb,EAAiB,eAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAKzB,IAAIoB,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,IAAI,IAAI,GAAGqB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,0BAA0BX,EAAG,WAAW,CAACK,MAAM,CAAC,YAAc,gBAAgB,KAAO,SAAS,IAAM,KAAK+B,MAAM,CAACzD,MAAOiB,EAAIoX,SAAa,KAAE1U,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIoX,SAAU,OAAQpX,EAAIuX,GAAG5U,KAAOL,WAAW,oBAAoB,GAAGlC,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,oBAAoB,CAACK,MAAM,CAAC,KAAO,UAAU,aAAa,SAAS+B,MAAM,CAACzD,MAAOiB,EAAIoX,SAAe,OAAE1U,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIoX,SAAU,SAAUzU,IAAML,WAAW,oBAAoB,CAAClC,EAAG,qBAAqB,CAACK,MAAM,CAAC,MAAQT,EAAIoX,SAASD,OAAS,MAAQ,QAAQ3U,MAAM,CAACzD,MAAOiB,EAAIoX,SAAe,OAAE1U,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIoX,SAAU,SAAUzU,IAAML,WAAW,sBAAsB,IAAI,IAAI,GAAGlC,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,uBAAuBX,EAAG,WAAW,CAAC0C,MAAM9C,EAAI+C,OAAOd,KAAO,UAAY,GAAGxB,MAAM,CAAC,KAAO,WAAW,KAAO,MAAM+B,MAAM,CAACzD,MAAOiB,EAAIoX,SAAa,KAAE1U,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIoX,SAAU,OAAQzU,IAAML,WAAW,mBAAoBtC,EAAI+C,OAAW,KAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOd,SAASjC,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,KAAO,MAAM+B,MAAM,CAACzD,MAAOiB,EAAIoX,SAAa,KAAE1U,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIoX,SAAU,OAAQzU,IAAML,WAAW,oBAAoB,IAAI,GAAGlC,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQA,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,YAAY,CAAC0C,MAAM,eAAerC,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,KAAO,WAAWE,GAAG,CAAC,MAAQX,EAAIqX,cAAc,CAACrX,EAAIe,GAAG,wBAAwB,IAAI,IAAI,IAAI,IAC5mG,GAAkB,GCkEP,IACbzC,KAAO,eACPpC,KAAO,WACL,MAAO,CACLkb,SAAa,CACX9Y,KAAW,GACX2D,KAAW,GACX0C,KAAW,GACXuH,SAAW,GACXiL,QAAW,EACXxL,KAAW,IAEb5I,OAAa,CACXzE,KAAW,KACX2D,KAAW,QAIjBiD,SAAW,CACT9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,KAGpCmY,cAAgB,WACd,OAAOjX,KAAKK,OAAOC,QAAQ2W,eAE7B,KACE,OAAOjX,KAAKK,OAAOC,QAAQiX,gBAAgBlQ,GAAG,GAAGvI,QAGrDuG,QAAU,CACR,QAAQ8R,GACN,IAAK,IAAI/X,KAAOY,KAAK8C,OAAQ9C,KAAK8C,OAAO1D,GAAO,KAChD,IAAIiY,GAAU,EAGd,OAFKF,EAAS9Y,OAAOgZ,GAAU,EAAOrX,KAAK8C,OAAOzE,KAAO,2CACpD8Y,EAASnV,OAAOqV,GAAU,EAAOrX,KAAK8C,OAAOd,KAAO,uCAClDqV,GAET,oBACE,GAAIrX,KAAKqX,QAAQrX,KAAKmX,UAAW,CAC/BnX,KAAKmD,SAAU,EACfnD,KAAKmX,SAASK,MAAQ,MACtB,IAAIla,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,+BAA+BzK,KAAO+D,KAAKmX,WAC9E,WAAjB7Z,EAAOwJ,OACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQE,OAAS,WAAYD,KAAM,YAElFzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQE,OAAS,qBAAqBD,KAAM,UAC7FzB,KAAKmD,SAAU,KAIrBmT,QAAU7P,iBACRzG,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,+BAA+BzK,KAAO,CAACoL,GAAKrH,KAAKqH,GAAImQ,MAAQ,SAChG,WAAjBla,EAAOwJ,QACR9G,KAAKmX,SAAS9P,GAAW/J,EAAOrB,KAAKoL,GACrCrH,KAAKmX,SAAS9Y,KAAWf,EAAOrB,KAAKoC,KACrC2B,KAAKmX,SAASzL,KAAWpO,EAAOrB,KAAKyP,KACrC1L,KAAKmX,SAASnV,KAAW1E,EAAOrB,KAAK+F,KACrChC,KAAKmX,SAASzS,KAAWpH,EAAOrB,KAAKyI,KACrC1E,KAAKmX,SAASlL,SAAW3O,EAAOrB,KAAKgQ,SACrCjM,KAAKmX,SAASD,OAAW5Z,EAAOrB,KAAKib,QAErClX,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQE,OAAS,qBAAqBD,KAAM,UAC7FzB,KAAKmD,SAAU,GAEjB4E,MAAO,CACL,gBAAkB,WAChB/H,KAAK8C,OAAOzE,KAAO,MAErB,gBAAkB,WAChB2B,KAAK8C,OAAOd,KAAO,QC9I0K,MCQ/L,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCLA,IACb3D,KAAa,eACbmS,WAAa,CAACqF,KAAA,GAAK/B,IAAA,GAAIgC,KAAA,IACvB7Q,SAAa,CACZ1E,UAAY,WACT,OAAOP,KAAKK,OAAOC,QAAQC,aCnBkK,MCO/L,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAGJ,EAAIQ,UAAU,CAACc,IAAI,eAAe,IAC3I,GAAkB,GCDlB,GAAS,WAAa,IAAItB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,aAAa,CAAEtC,EAAa,UAAEI,EAAG,OAAO,CAACgC,WAAW,CAAC,CAAC9D,KAAK,YAAY+D,QAAQ,gCAAgCtD,MAAOiB,EAAqB,kBAAEsC,WAAW,oBAAoBqI,IAAI,qBAAqB,CAACrM,KAAK,YAAY+D,QAAQ,8BAA8BtD,MAAOiB,EAAmB,gBAAEsC,WAAW,kBAAkBqI,IAAI,mBAAmB,CAACrM,KAAK,YAAY+D,QAAQ,8BAA8BtD,MAAOiB,EAAmB,gBAAEsC,WAAW,kBAAkBqI,IAAI,mBAAmB,CAACrM,KAAK,YAAY+D,QAAQ,qBAAqBtD,MAAOiB,EAAU,OAAEsC,WAAW,SAASqI,IAAI,WAAWlK,MAAM,CAAC,KAAO,WAAWT,EAAIqB,MAAM,IAClxB,GAAkB,GCYP,IACb/C,KAAO,YACPpC,KAAO,WACL,MAAO,CAEL0O,KAAO,CACLJ,OAAa,CACXtO,KAAW,CACToL,GAAkB,CAChB1C,MAAO,EACPlD,KAAO,SACPpD,KAAO,MAETA,KAAkB,CAChBoD,KAAW,OACXpD,KAAW,WACXwM,UAAW,EACXE,OAAW,IAEbxH,MAAkB,CAChB9B,KAAY,aACZpD,KAAY,eACZwM,UAAY,EACZtE,MAAYE,eAAgBxK,GAC1B,IAAIqB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAQ,6BACRzK,KAAS,CAAC4K,EAAI5K,KAEhB,GAAoB,WAAjBqB,EAAOwJ,OAAqB,OAAOxJ,EAAOrB,MAC7CoD,KAAKW,OAETyX,QAAkB,CAChBhW,KAAW,OACXpD,KAAW,QACXwM,UAAW,EACXE,OAAW,IAEbI,WAAkB,CAChB1J,KAAO,OACPpD,KAAO,kBAGXkM,OAAW,SAAStO,GAClB+D,KAAK8L,WAAa7P,EAClB+D,KAAKkH,WACL7H,KAAKW,MACP+L,MAAW,WACT/L,KAAK8L,WAAa,GAClB9L,KAAKkH,WACL7H,KAAKW,OAETgM,QAAa,CACX,CACE3N,KAAO,gBACP4N,SAAW,SAASC,GAClBlM,KAAKK,OAAOc,OAAO,eAAe,WAClCnB,KAAKK,OAAOc,OAAO,qBAAqB+K,IACxC7M,KAAKW,OAET,CACE3B,KAAO,UACP4N,SAAW,SAASC,GAClBlM,KAAKmM,SAAS,2CAA2CD,EAAI7N,KAAK,GAAGS,WAAWsN,KAAK3F,UACnFzG,KAAK0X,WAAWxL,KACfG,MAAM,SACThN,KAAKW,QAGXsM,WAAa,CACX3H,KAAO,SAETjD,OAAa,CACX2F,GAAU,CACRhJ,KAAc,KACd2F,MAAc,IACd6I,aAAc,GAEhBxO,KAAU,CACRA,KAAQ,WACR2F,MAAQ,IACR4I,MAAQ,CAAC,UAEXrJ,MAAU,CACRlF,KAAQ,eACR2F,MAAQ,KAEVyT,QAAU,CACRpZ,KAAQ,QACR2F,MAAQ,KAEVU,KAAU,CACRrG,KAAQ,aACR2F,MAAQ,KAEVmH,WAAa,CACX9M,KAAc,gBACd2F,MAAc,IACd6I,aAAc,IAIlBC,SAAa,GACbzO,KAAa,SAGfyN,WAAgB,GAChBJ,KAAgB,CACdrN,KAAO,KACPsN,MAAQ,OAEVoB,WAAgB,IAGpB9H,SAAS,CACP9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,MAItCuG,QAAU,CACR,gBACErF,KAAKmD,SAAU,EACfnD,KAAK2K,KAAKJ,OAAOtO,KAAKoC,KAAK0M,OAAY,GACvC/K,KAAK2K,KAAKJ,OAAOtO,KAAKwb,QAAQ1M,OAAS,GAEvC,IAAIR,QAAevK,KAAKK,OAAOuG,SAAS,sBAAuB5G,KAAK8L,YAEhE2L,QAAgBzX,KAAKK,OAAOuG,SAAS,QAAQ,CAAEF,IAAM,gCACnC,WAAlB+Q,EAAQ3Q,SACV9G,KAAK2K,KAAKJ,OAAOtO,KAAKwb,QAAQ1M,OAAS0M,EAAQxb,KAAKmL,IAAIJ,IAC9C,CAAClI,MAAQkI,EAAGK,GAAG,GAAGvI,MAAO8D,MAAQoE,EAAG3I,KAAK,GAAGS,UAIxD,IAAIxB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAU,2BACVzK,KAAU,CAAEsO,OAASA,EAAQmB,KAAO1L,KAAK0L,QAE3C,GAAoB,WAAjBpO,EAAOwJ,QAOR,GANA9G,KAAK2K,KAAKJ,OAAOtO,KAAKoC,KAAK0M,OAASzN,EAAOrB,KAAKmL,IAAIJ,IAC1C,CAAClI,MAAQkI,EAAG3I,KAAK,GAAGS,MAAO8D,MAAQoE,EAAG3I,KAAK,GAAGS,SAExDkB,KAAK0M,MAAMvL,OAAO,mBAAmB,CAAC9C,KAAO,QAAQpC,KAAO,CAAC6Q,SAAWxP,EAAOrB,QAG7C,GAA9BS,OAAOgL,KAAK6C,GAAQ9N,QAAqC,GAAtBa,EAAOrB,KAAKQ,OAAa,CAC9D,IAAIkb,EAAU,CACZ,CAACtZ,KAAO,YAAwBqG,KAAO,iBACvC,CAACrG,KAAO,qBAAwBqG,KAAO,2BACvC,CAACrG,KAAO,kBAAwBqG,KAAO,wBACvC,CAACrG,KAAO,gBAAwBqG,KAAO,+BACvC,CAACrG,KAAO,eAAwBqG,KAAO,6BAEzC,IAAK,IAAInI,EAAI,EAAGA,EAAIob,EAAQlb,OAAQF,UAC5ByD,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,0BAA0BzK,KAAO0b,EAAQpb,KAErFe,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC1CF,IAAU,2BACVzK,KAAU,CAAEsO,OAAUA,KAExBvK,KAAK0M,MAAMvL,OAAO,mBAAmB,CAAC9C,KAAO2B,KAAK2K,KAAKtM,KAAMpC,KAAO,CAAC6Q,SAAWxP,EAAOrB,cAGzF+D,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAqBD,KAAM,UAE3GzB,KAAKmD,SAAU,GAEjB,iBAAiB+I,GAEf,IAAI0L,EAAY,CAAC,YAAa,qBAAsB,kBAAmB,gBAAgB,gBACnFC,EAAO3L,EAAI7N,KAAK,GAAGS,MACvB,GAAI8Y,EAAU3P,QAAQ4P,IAAS,EAE7B,YADA7X,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,YAAY6V,uBAA0BpW,KAAO,UAIvFzB,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAM,6BACNzK,KAAO,CAAC6b,QAAU5L,EAAI7E,GAAG,GAAGvI,SAEV,WAAjBxB,EAAOwJ,QACR9G,KAAKkH,UACLlH,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASC,KAAM,aAE9DzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,UAChEzB,KAAKmD,SAAU,GAGjB,OAAOlH,GACL+D,KAAK0L,KAAKrN,KAAOpC,EAAKmD,IAClBY,KAAK0L,KAAKrN,OAASpC,EAAKmD,IACN,QAApBY,KAAK0L,KAAKC,MAAkB3L,KAAK0L,KAAKC,MAAQ,OAAS3L,KAAK0L,KAAKC,MAAQ,MAEzE3L,KAAK0L,KAAKC,MAAQ,OACpB3L,KAAKkH,WAGP,kBAAkBjL,GAChB+D,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAKuF,KAAO1I,EAAK0I,KACvC3E,KAAKuN,mBAGP,gBAAgBtR,GACd+D,KAAK2K,KAAKjJ,OAAOzF,EAAKmD,KAAK4E,MAAQ/H,EAAK+H,MACxChE,KAAKuN,mBAGP,gBAAgBtR,GACdA,EAAKA,KAAK8K,QAAQC,IAChB,IAAI5H,EAAM4H,EAAG5H,IAAKsM,EAAK1E,EAAGwG,OAAO9B,KACjC1L,KAAK2K,KAAKjJ,OAAOtC,GAAKsM,KAAOA,IAE/B1L,KAAKuN,mBAGP,wBACE,IAAI7F,EAAOhL,OAAOgL,KAAK1H,KAAK2K,KAAKjJ,QAC7B+L,EAAe/F,EAAKN,IAAIJ,IAC1B,IAAIrC,EAEJ,OADmCA,IAAlC,SAAU3E,KAAK2K,KAAKjJ,OAAOsF,KAAchH,KAAK2K,KAAKjJ,OAAOsF,GAAIrC,KACxD,CAACvF,IAAM4H,EAAIhD,MAAQhE,KAAK2K,KAAKjJ,OAAOsF,GAAIhD,MAAQW,KAAOA,EAAM+G,KAAO1L,KAAK2K,KAAKjJ,OAAOsF,GAAI0E,QAE9FpO,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAO,yBACPzK,KAAO,CACL0O,KAAU3K,KAAK2K,KAAKtM,KACpBmP,OAAUE,KAAKC,UAAUF,GACzBhM,KAAU,SAGM,WAAjBnE,EAAOwJ,OACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAM1E,EAAOkE,QAASC,KAAO,YAE9DzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,WAG/G,iBACEzB,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAO,yBACPzK,KAAO,CACL0O,KAAU3K,KAAK2K,KAAKtM,KACpBoD,KAAU,SAGd,GAAoB,WAAjBnE,EAAOwJ,QAAuBxJ,EAAOrB,KAAKQ,OAAO,EAAG,CACrD,IAAIgR,EAAeC,KAAKG,MAAMvQ,EAAOrB,KAAK,IAC1CwR,EAAa1G,QAAQC,IACdA,EAAG5H,OAAOY,KAAK2K,KAAKjJ,SACvB1B,KAAK2K,KAAKjJ,OAAOsF,EAAG5H,KAAKuF,KAAOqC,EAAGrC,KACnC3E,KAAK2K,KAAKjJ,OAAOsF,EAAG5H,KAAK4E,MAAQgD,EAAGhD,MACpChE,KAAK2K,KAAKjJ,OAAOsF,EAAG5H,KAAKsM,KAAO1E,EAAG0E,QAIpB,YAAlBpO,EAAOwJ,QACR9G,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA8BN,OAAS,qBAAsBD,KAAM,UAE7GzB,KAAK0M,MAAM9F,SAAS,aAAc,CAACvI,KAAO2B,KAAK2K,KAAKtM,KAAMpC,KAAO+D,KAAK2K,aAE/D3K,KAAKkH,UAEZlH,KAAK+M,WAAY,EAEjB/M,KAAKmD,SAAU,IAInB,UACEnD,KAAK0O,aC/R0L,MCO/L,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAI3O,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,OAAO,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASQ,GAAgC,OAAxBA,EAAOoB,iBAAwBvC,EAAIM,OAAOc,OAAO,eAAe,WAAW,CAACpB,EAAIe,GAAG,0BAA0BX,EAAG,UAAU,CAACc,YAAY,qBAAqB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,yCAAyCX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,cAAcX,EAAG,WAAW,CAAC0C,MAAM9C,EAAI+C,OAAOzE,KAAO,UAAY,GAAGmC,MAAM,CAAC,KAAO,OAAO,YAAc,oBAAoB+B,MAAM,CAACzD,MAAOiB,EAAIoX,SAAa,KAAE1U,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIoX,SAAU,OAAQzU,IAAML,WAAW,mBAAoBtC,EAAI+C,OAAW,KAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOzE,SAAS0B,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,KAAO,IAAI,YAAc,sBAAsB+B,MAAM,CAACzD,MAAOiB,EAAIoX,SAAa,KAAE1U,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIoX,SAAU,OAAQzU,IAAML,WAAW,oBAAoB,IAAI,GAAGlC,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQA,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,YAAY,CAAC0C,MAAM,eAAerC,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,KAAO,WAAWE,GAAG,CAAC,MAAQX,EAAIqX,cAAc,CAACrX,EAAIe,GAAG,oBAAoB,IAAI,IAAI,IAAI,IACnkD,GAAkB,GC4CP,IACbzC,KAAO,WACPpC,KAAO,WACL,MAAO,CACLkb,SAAW,CACT9Y,KAAO,GACPqG,KAAO,IAET5B,OAAS,CACPzE,KAAK,QAIX4G,SAAW,CACT9B,QAAU,CACVzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,MAIpCuG,QAAU,CACR,QAAQ8R,GACN,IAAK,IAAI/X,KAAOY,KAAK8C,OAAQ9C,KAAK8C,OAAO1D,GAAO,KAChD,IAAIiY,GAAU,EAEd,OADKF,EAAS9Y,OAAOgZ,GAAU,EAAOrX,KAAK8C,OAAOzE,KAAO,oCAClDgZ,GAET,oBACE,GAAIrX,KAAKqX,QAAQrX,KAAKmX,UAAW,CAC/BnX,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,0BAA0BzK,KAAO+D,KAAKmX,WACzE,WAAjB7Z,EAAOwJ,QACR9G,KAAKmX,SAAW,CACd9Y,KAAO,GACPqG,KAAO,IAET1E,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASC,KAAO,aAE/DzB,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,UACjEzB,KAAKmD,SAAU,KAIrB4E,MAAQ,CACN,gBAAkB,WAChB/H,KAAK8C,OAAOzE,KAAO,QC7FyK,MCQ9L,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI0B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,OAAO,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASQ,GAAgC,OAAxBA,EAAOoB,iBAAwBvC,EAAIM,OAAOc,OAAO,eAAe,WAAW,CAACpB,EAAIe,GAAG,0BAA0BX,EAAG,UAAU,CAACc,YAAY,oBAAoBW,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,SAAS0C,GAAG,WAAW,MAAO,CAAC3B,EAAG,MAAM,CAACc,YAAY,eAAe,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,yCAAyCf,EAAIgB,GAAGhB,EAAIM,OAAOC,QAAQiX,gBAAgBlZ,KAAK,GAAGS,cAAcmD,OAAM,MAAS,CAAC9B,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,kBAAkBX,EAAG,YAAY,CAAC0C,MAAM9C,EAAI+C,OAAOqE,KAAO,UAAY,GAAG3G,MAAM,CAAC,WAAa,GAAG,OAAS,GAAG,kBAAkB,GAAG,YAAc,cAAc,gBAAgBT,EAAIgY,WAAW,QAAUhY,EAAIoD,SAASZ,MAAM,CAACzD,MAAOiB,EAAIiY,QAAY,KAAEvV,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIiY,QAAS,OAAQtV,IAAML,WAAW,iBAAiBtC,EAAIa,GAAIb,EAAS,OAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAIiB,EAAI+C,OAAW,KAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOqE,SAASpH,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,QAAQA,EAAG,YAAY,CAACc,YAAY,eAAeT,MAAM,CAAC,KAAO,QAAQ,KAAO,sBAAsB,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIkY,aAAa,CAAClY,EAAIe,GAAG,eAAe,IAAI,GAAGX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,WAAW,CAAC2O,YAAY,CAAC,MAAQ,QAAQtO,MAAM,CAAC,KAAOT,EAAI4E,KAAKwC,OAAO,CAAChH,EAAG,kBAAkB,CAACK,MAAM,CAAC,KAAO,OAAO,MAAQ,yBAA0BT,EAAIM,OAAOC,QAAQiX,gBAAgBlZ,KAAK,GAAGS,SAASqB,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,SAASoB,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASmR,GAAO,MAAO,CAAC9S,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,OAAO,KAAO,SAAS,KAAO,kBAAkBE,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOnB,EAAImY,WAAWjF,EAAME,WAAW,CAACpT,EAAIe,GAAG,qBAAqB,IAAI,IAAI,GAAGX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,YAAY,CAAC0C,MAAM9C,EAAI+C,OAAO2U,QAAU,UAAY,GAAGjX,MAAM,CAAC,YAAc,cAAc+B,MAAM,CAACzD,MAAOiB,EAAIiY,QAAe,QAAEvV,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIiY,QAAS,UAAWtV,IAAML,WAAW,oBAAoBtC,EAAIa,GAAIb,EAAY,UAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAIiB,EAAI+C,OAAc,QAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAO2U,YAAY1X,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,QAAQA,EAAG,YAAY,CAACc,YAAY,eAAeT,MAAM,CAAC,KAAO,QAAQ,KAAO,sBAAsB,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIoY,gBAAgB,CAACpY,EAAIe,GAAG,eAAe,IAAI,GAAGX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,WAAW,CAAC2O,YAAY,CAAC,MAAQ,QAAQtO,MAAM,CAAC,KAAOT,EAAI4E,KAAK8S,UAAU,CAACtX,EAAG,kBAAkB,CAACK,MAAM,CAAC,KAAO,QAAQ,MAAQ,yBAA0BT,EAAIM,OAAOC,QAAQiX,gBAAgBlZ,KAAK,GAAGS,SAASqB,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,SAASoB,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASmR,GAAO,MAAO,CAAC9S,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,OAAO,KAAO,SAAS,KAAO,kBAAkBE,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOnB,EAAIqY,cAAcnF,EAAME,WAAW,CAACpT,EAAIe,GAAG,qBAAqB,IAAI,IAAI,IAAI,IAAI,IAC9/G,GAAkB,GCkHP,IACbzC,KAAO,eACPpC,KAAO,WACL,MAAO,CACLkb,SAAY,CACVM,QAAU,GACVtQ,KAAU,IAEZ6Q,QAAY,CACVP,QAAU,GACVtQ,KAAU,IAEZxC,KAAY,CACVwC,KAAU,GACVsQ,QAAU,IAEZlU,MAAY,GACZyJ,SAAY,GACZlK,OAAY,CACVqE,KAAU,KACVsQ,QAAU,QAIhBxS,SAAW,CACT9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,KAGpC,UACE,OAAOkB,KAAKK,OAAOC,QAAQiX,gBAAgBlQ,GAAG,GAAGvI,QAGrDuG,QAAU,CACRgT,YAAc5R,iBACdzG,KAAKmD,SAAU,EACb,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,kCAAkCzK,KAAO,CAC3F6b,QAAU9X,KAAK8X,WAEA,WAAjBxa,EAAOwJ,SACR9G,KAAK2E,KAAKwC,KAAU7J,EAAOrB,KAAKkL,KAChCnH,KAAK2E,KAAK8S,QAAUna,EAAOrB,KAAKwb,SAElC,IAAIA,QAAgBzX,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,8BAA8BzK,KAAO,KACxE,WAAlBwb,EAAQ3Q,SACT9G,KAAKgN,SAAW,GAChByK,EAAQxb,KAAK8K,QAAQC,IACnBhH,KAAKgN,SAASjQ,KAAK,CAAC+B,MAAQkI,EAAGK,GAAG,GAAGvI,MAAO8D,MAAQoE,EAAGpE,MAAM,GAAG9D,WAGpEkB,KAAKmD,SAAU,GAEjB,aACEnD,KAAKgY,QAAQ7Q,KAAOnH,KAAKsY,cAAgBtY,KAAK8C,OAAOqE,KAAO,oCAE9DmR,YAAc7R,iBACVzG,KAAKmD,SAAU,EACfnD,KAAK2E,KAAKwC,KAAKJ,QAAQC,IACrBhH,KAAKmX,SAAShQ,KAAKpK,KAAKiK,EAAGlI,SAEJ,KAAtBkB,KAAKgY,QAAQ7Q,MACdnH,KAAKmX,SAAShQ,KAAKpK,KAAKiD,KAAKgY,QAAQ7Q,MACvC,IAAI7J,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,kCAAkCzK,KAAO,CAC5F6b,QAAY9X,KAAK8X,QACjBvU,MAAYvD,KAAKmX,SAAShQ,KAC1B1F,KAAY,UAEI,WAAjBnE,EAAOwJ,QACR9G,KAAKmX,SAAW,CACdM,QAAU,GACVtQ,KAAU,IAEZnH,KAAKgY,QAAU,CACbP,QAAU,GACVtQ,KAAU,UAENnH,KAAKqY,cACXrY,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQE,OAAS,WAAWD,KAAM,aAEjFzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQE,OAAS,qBAAqBD,KAAM,UAC7FzB,KAAKmD,SAAU,GAEnB+U,WAAa,SAAS5E,GACpBtT,KAAKmM,SAAS,iDAAiDnM,KAAK2E,KAAKwC,KAAKmM,GAAOtR,UAAUoK,KAAK,KAClGpM,KAAK2E,KAAKwC,KAAKxJ,OAAO2V,EAAM,GAC5BtT,KAAKsY,gBACJjM,MAAM,SAEX,gBACErM,KAAKgY,QAAQP,QAAUzX,KAAKuY,iBAAmBvY,KAAK8C,OAAO2U,QAAU,kCAEvE,uBACIzX,KAAKmD,SAAU,EACfnD,KAAK2E,KAAK8S,QAAQ1Q,QAAQC,IACxBhH,KAAKmX,SAASM,QAAQ1a,KAAKiK,EAAGlI,SAEJ,KAAzBkB,KAAKgY,QAAQP,SACdzX,KAAKmX,SAASM,QAAQ1a,KAAKiD,KAAKgY,QAAQP,SAC1C,IAAIna,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,kCAAkCzK,KAAO,CAC5F6b,QAAW9X,KAAKK,OAAOC,QAAQiX,gBAAgBlQ,GAAG,GAAGvI,MACrDkO,SAAWhN,KAAKmX,SAASM,QACzBhW,KAAW,aAEK,WAAjBnE,EAAOwJ,QACR9G,KAAKmX,SAAW,CACdM,QAAU,GACVtQ,KAAU,IAEZnH,KAAKgY,QAAU,CACbP,QAAU,GACVtQ,KAAU,UAENnH,KAAKqY,cACXrY,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQE,OAAS,WAAWD,KAAM,aAEjFzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQE,OAAS,qBAAqBD,KAAM,UAC7FzB,KAAKmD,SAAU,GAEnBiV,cAAgB,SAAS9E,GACvBtT,KAAKmM,SAAS,+CAA+CnM,KAAK2E,KAAK8S,QAAQnE,GAAOtR,SAASoK,KAAK,KAClGpM,KAAK2E,KAAK8S,QAAQ9Z,OAAO2V,EAAM,GAC/BtT,KAAKuY,mBACJlM,MAAM,SAEX0L,WAAatR,eAAeF,GAC1B,IAAIjJ,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,6BAA6BzK,KAAQ,CAAC4K,EAAIN,KAC7E,WAAjBjJ,EAAOwJ,SAAqB9G,KAAKuD,MAAQjG,EAAOrB,QAGvD8L,MAAM,CACJ,eAAiB,WACf/H,KAAK8C,OAAOqE,KAAO,MAErB,kBAAoB,WAClBnH,KAAK8C,OAAO2U,QAAU,OAG1B,sBACQzX,KAAKqY,gBCjQuL,MCQlM,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCHA,IACbha,KAAc,YACdmS,WAAc,CAACqF,KAAA,GAAM/B,IAAA,GAAK0E,QAAA,IAC1BvT,SAAc,CACZ1E,UAAY,WACV,OAAOP,KAAKK,OAAOC,QAAQC,aCrBkK,MCO/L,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAGJ,EAAIQ,UAAU,CAACc,IAAI,eAAe,IAC3I,GAAkB,GCDlB,GAAS,WAAa,IAAItB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,OAAO,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASQ,GAAgC,OAAxBA,EAAOoB,iBAAwBvC,EAAIM,OAAOc,OAAO,eAAe,WAAW,CAACpB,EAAIe,GAAG,0BAA0BX,EAAG,UAAU,CAACc,YAAY,qBAAqB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,yBAAyBX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,IAAI,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,4BAA4BX,EAAG,YAAY,CAACK,MAAM,CAAC,YAAc,0BAA0B+B,MAAM,CAACzD,MAAOiB,EAAgB,aAAE0C,SAAS,SAAUC,GAAM3C,EAAI0Y,aAAa/V,GAAKL,WAAW,iBAAiBtC,EAAIa,GAAIb,EAAQ,MAAE,SAASc,EAAKtE,GAAG,OAAO4D,EAAG,YAAY,CAACf,IAAI7C,EAAEiE,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,IAAI,GAAuB,WAAnBiB,EAAI0Y,aAAyBtY,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,cAAcX,EAAG,WAAW,CAAC6C,IAAI,gBAAgBH,MAAM9C,EAAI+C,OAAO4V,cAAgB,UAAY,GAAGlY,MAAM,CAAC,KAAO,OAAO,YAAc,oBAAoBE,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOnB,EAAIqD,kBAAkB,gBAAiBrD,EAAI4Y,OAAQ5Y,EAAI4Y,UAAUpW,MAAM,CAACzD,MAAOiB,EAAU,OAAE0C,SAAS,SAAUC,GAAM3C,EAAI4Y,OAAOjW,GAAKL,WAAW,YAAatC,EAAI+C,OAAoB,cAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAO4V,kBAAkB3Y,EAAIqB,MAAM,GAAGrB,EAAIqB,KAAyB,SAAnBrB,EAAI0Y,aAAuBtY,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,qBAAqBX,EAAG,YAAY,CAAC6C,IAAI,cAAcH,MAAM9C,EAAI+C,OAAO4V,cAAgB,UAAY,GAAGlY,MAAM,CAAC,WAAa,GAAG,OAAS,GAAG,kBAAkB,GAAG,YAAc,cAAc,gBAAgBT,EAAIgY,WAAW,QAAUhY,EAAIoD,SAASzC,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOnB,EAAIqD,kBAAkB,cAAerD,EAAI6Y,aAAc7Y,EAAIwD,SAAShB,MAAM,CAACzD,MAAOiB,EAAgB,aAAE0C,SAAS,SAAUC,GAAM3C,EAAI6Y,aAAalW,GAAKL,WAAW,iBAAiBtC,EAAIa,GAAIb,EAAS,OAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAIiB,EAAI+C,OAAoB,cAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAO4V,kBAAkB3Y,EAAIqB,MAAM,GAAGrB,EAAIqB,KAAyB,YAAnBrB,EAAI0Y,aAA0BtY,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,4BAA4BX,EAAG,YAAY,CAAC6C,IAAI,iBAAiBH,MAAM9C,EAAI+C,OAAO4V,cAAgB,UAAY,GAAGlY,MAAM,CAAC,WAAa,GAAG,OAAS,GAAG,kBAAkB,GAAG,YAAc,sBAAsB,gBAAgBT,EAAI8Y,cAAc,QAAU9Y,EAAIoD,SAASzC,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOnB,EAAIqD,kBAAkB,iBAAkBrD,EAAI8E,gBAAiB9E,EAAIkD,WAAWV,MAAM,CAACzD,MAAOiB,EAAmB,gBAAE0C,SAAS,SAAUC,GAAM3C,EAAI8E,gBAAgBnC,GAAKL,WAAW,oBAAoBtC,EAAIa,GAAIb,EAAW,SAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAIiB,EAAI+C,OAAoB,cAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAO4V,kBAAkB3Y,EAAIqB,MAAM,GAAGrB,EAAIqB,KAAyB,eAAnBrB,EAAI0Y,cAAkD,qBAAnB1Y,EAAI0Y,aAAmCtY,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,iBAAiBX,EAAG,YAAY,CAAC6C,IAAI,oBAAoBH,MAAM9C,EAAI+C,OAAO4V,cAAgB,UAAY,GAAGlY,MAAM,CAAC,WAAa,GAAG,OAAS,GAAG,kBAAkB,GAAG,YAAc,gCAAgC,gBAAgBT,EAAI+Y,iBAAiB,QAAU/Y,EAAIoD,SAASzC,GAAG,CAAC,OAAS,SAASQ,GAAQ,OAAOnB,EAAIqD,kBAAkB,oBAAqBrD,EAAIgZ,mBAAoBhZ,EAAIgS,cAAcxP,MAAM,CAACzD,MAAOiB,EAAsB,mBAAE0C,SAAS,SAAUC,GAAM3C,EAAIgZ,mBAAmBrW,GAAKL,WAAW,uBAAuBtC,EAAIa,GAAIb,EAAc,YAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAM0B,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,YAAW,GAAIiB,EAAI+C,OAAoB,cAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAO4V,kBAAkB3Y,EAAIqB,MAAM,GAAGrB,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,KAAO,IAAI,YAAc,sBAAsB+B,MAAM,CAACzD,MAAOiB,EAAQ,KAAE0C,SAAS,SAAUC,GAAM3C,EAAI2E,KAAKhC,GAAKL,WAAW,WAAW,IAAI,GAAGlC,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQA,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,YAAY,CAAC0C,MAAM,eAAerC,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,KAAO,WAAWE,GAAG,CAAC,MAAQX,EAAIqX,cAAc,CAACrX,EAAIe,GAAG,0BAA0B,IAAI,IAAI,IAAI,IAC39I,GAAkB,GCmIP,IACbzC,KAAO,YACPpC,KAAO,WACL,MAAO,CACLwF,KAAqB,CACjB,CAAC3C,MAAQ,OAAoB8D,MAAQ,mBACrC,CAAC9D,MAAQ,UAAoB8D,MAAQ,eACrC,CAAC9D,MAAQ,aAAoB8D,MAAQ,qDACrC,CAAC9D,MAAQ,mBAAoB8D,MAAQ,mDACrC,CAAC9D,MAAQ,SAAoB8D,MAAQ,UAGzCA,MAAqB,GACrB6V,aAAqB,OAErBE,OAAqB,GACrBpV,MAAqB,GACrBqV,aAAoB,GACpB3V,QAAqB,GACrB4B,gBAAqB,GACrBkN,WAAqB,GACrBgH,mBAAqB,GAErBL,cAAqB,GACrBhU,KAAqB,GAErB5B,OAAW,CACT4V,cAAkB,QAI1BzT,SAAS,CACP9B,QAAU,CACR,MACE,OAAOnD,KAAKK,OAAOC,QAAQ6C,SAE7B,IAAIrE,GACFkB,KAAKK,OAAOc,OAAO,aAAarC,MAKpCuG,QAAU,CACRjC,kBAAoB,SAAShE,EAAKN,EAAO7C,GACvC+D,KAAKiE,MAAM7E,GAAKmH,MAAQ,GACxB,IAAI3D,EAAQ,GACZ5C,KAAK0Y,cAAgB5Z,EACjB7C,aAAgB6L,OAClB7L,EAAK8K,QAAQC,IAAQ,GAAIA,EAAGlI,QAAUA,EAAQ,OAAO8D,EAAQoE,EAAGpE,QAChE5C,KAAK4C,MAAQ,cAAgBA,GACxB5C,KAAK4C,MAAQ3G,GAGtB8b,WAAY,SAASxR,GACL,KAAVA,GACFvG,KAAKwG,OAAOD,EAAM,SAEtBsS,cAAgB,SAAStS,GACT,KAAVA,GACFvG,KAAKwG,OAAOD,EAAM,YAEtBuS,iBAAmB,SAASvS,GACZ,KAAVA,GACFvG,KAAKwG,OAAOD,EAAM,eAEtBC,OAASC,eAAeF,EAAMnH,GAC5B,IAAIsH,EAAIC,EAEE,QAAPvH,IACDuH,EAAM,QACND,EAAM,8BAGE,WAAPtH,IACDuH,EAAM,UACND,EAAM,iCAGE,cAAPtH,IACDuH,EAAM,aACND,EAAM,kCAGR,IAAIpJ,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAMA,EAAIzK,KAAQ,CAAC4K,EAAIN,KAEpD,WAAjBjJ,EAAOwJ,SACR9G,KAAK2G,GAAOrJ,EAAOrB,OAIvB,oBACI,IAAK+D,KAAK0Y,cAAsF,YAAtE1Y,KAAK8C,OAAO4V,cAAgB,0CACtD,IAAIra,EAAO2B,KAAKyY,aACZ7V,EAAQ5C,KAAK4C,MACU,WAAvB5C,KAAK0Y,gBAA6Bra,EAAO2B,KAAK2Y,OAAQ/V,EAAQ5C,KAAK2Y,QACvE3Y,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAM,6BACNzK,KAAO,CAACoC,OAAMuE,QAAOwT,YAAcpW,KAAK0Y,cAAehU,KAAO1E,KAAK0E,QAEjD,WAAjBpH,EAAOwJ,QACR9G,KAAK0Y,cAAqB,GAC1B1Y,KAAK4C,MAAqB,GAC1B5C,KAAK2Y,OAAqB,GAC1B3Y,KAAK4E,cAAqB,GAC1B5E,KAAK6E,gBAAqB,GAC1B7E,KAAK+Y,mBAAqB,GAC1B/Y,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASC,KAAM,aAE9DzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,UAChEzB,KAAKmD,SAAU,IAIrB4E,MAAM,CACJ0Q,aAAe,WACbzY,KAAK2Y,OAAuB,GAC5B3Y,KAAK4E,cAAuB,GAC5B5E,KAAK6E,gBAAuB,GAC5B7E,KAAK+Y,mBAAuB,GAC5B/Y,KAAK8C,OAAO4V,cAAgB,MAE9BA,cAAgB,WACd1Y,KAAK8C,OAAO4V,cAAgB,QC/PgK,MCQ9L,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI3Y,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,aAAa,CAAClC,EAAG,OAAO,CAACK,MAAM,CAAC,KAAO,aAAa,IACzO,GAAkB,GCKP,IACbnC,KAAO,aACPpC,KAAO,WACL,MAAO,CACL0O,KAAO,CACLJ,OAAc,CACZtO,KAAW,CACToL,GAAkB,CAChB1C,MAAO,EACPlD,KAAO,SACPpD,KAAO,MAETA,KAAkB,CAChBoD,KAAW,OACXpD,KAAW,WACXwM,UAAW,EACXE,OAAW,IAEbI,WAAkB,CAChB1J,KAAO,OACPpD,KAAO,kBAGXkM,OAAW,SAAStO,GAClB+D,KAAK8L,WAAa7P,EAClB+D,KAAKkH,WACL7H,KAAKW,MACP+L,MAAW,WACT/L,KAAK8L,WAAa,GAClB9L,KAAKkH,WACL7H,KAAKW,OAETgM,QAAc,CACZ,CACE3N,KAAO,UACP4N,SAAW,SAASC,GAClBlM,KAAKmM,SAAS,+CAA+CD,EAAItJ,MAAM,GAAG9D,WAAWsN,KAAK3F,UACxFzG,KAAKgZ,cAAc9M,KAClBG,MAAM,SAEThN,KAAKW,QAGXsM,WAAc,CACZ3H,KAAO,QAETjD,OAAc,CACZ2F,GAAa,CACXhJ,KAAQ,MAEVA,KAAa,CACXA,KAAQ,WACR2F,MAAQ,KAEVpB,MAAa,CACXvE,KAAQ,aACR2F,MAAQ,KAEVU,KAAa,CACXrG,KAAQ,aACR2F,MAAQ,KAEVmH,WAAa,CACX9M,KAAQ,gBACR2F,MAAQ,MAGZ8I,SAAc,IAEhBhB,WAAa,KAGnB7G,SAAS,CACP9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,MAIpCuG,QAAU,CACR,gBACErF,KAAKmD,SAAU,EACfnD,KAAK2K,KAAKJ,OAAOtO,KAAKoC,KAAK0M,OAAS,GACpC,IAAIR,QAAevK,KAAKK,OAAOuG,SAAS,sBAAuB5G,KAAK8L,YAEhE2L,QAAgBzX,KAAKK,OAAOuG,SAAS,QAAQ,CAAEF,IAAM,gCACnC,WAAlB+Q,EAAQ3Q,SACV9G,KAAK2K,KAAKJ,OAAOtO,KAAKoC,KAAK0M,OAAS0M,EAAQxb,KAAKmL,IAAIJ,IAC5C,CAAClI,MAAQkI,EAAG3I,KAAK,GAAGS,MAAO8D,MAAQoE,EAAGpE,MAAM,GAAG9D,UAI1D,IAAIxB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAU,8BACVzK,KAAU,CAAEsO,OAAUA,KAEtB,GAAoB,WAAjBjN,EAAOwJ,QAGN,GAFJ9G,KAAK0M,MAAMvL,OAAO,mBAAmB,CAAC9C,KAAO,SAASpC,KAAO,CAAC6Q,SAAWxP,EAAOrB,QAE1C,GAA9BS,OAAOgL,KAAK6C,GAAQ9N,QAAqC,GAAtBa,EAAOrB,KAAKQ,OAAa,CAC9D,IAAIwc,EAAa,CACf,CAAC5a,KAAO,UAAkBqG,KAAO,oCAAqC9B,MAAQ,WAC9E,CAACvE,KAAO,eAAkBqG,KAAO,2BAA4B9B,MAAQ,gBACrE,CAACvE,KAAO,gBAAkBqG,KAAO,2BAA4B9B,MAAQ,iBACrE,CAACvE,KAAO,iBAAkBqG,KAAO,4BAA6B9B,MAAQ,kBACtE,CAACvE,KAAO,iBAAkBqG,KAAO,8BAA+B9B,MAAQ,kBACxE,CAACvE,KAAO,OAAkBqG,KAAO,uDAAwD9B,MAAQ,SAEnG,IAAK,IAAIrG,EAAI,EAAGA,EAAI0c,EAAWxc,OAAQF,UAC/ByD,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,6BAA6BzK,KAAOgd,EAAW1c,KAE3Fe,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC1CF,IAAU,8BACVzK,KAAU,CAAEsO,OAAUA,KAExBvK,KAAK0M,MAAMvL,OAAO,mBAAmB,CAAC9C,KAAO,SAASpC,KAAO,CAAC6Q,SAAWxP,EAAOrB,cAGnF+D,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAqBD,KAAM,UAC9GzB,KAAKmD,SAAU,GAEjB,oBAAoB+I,GAElB,IAAI0L,EAAY,CAAC,UAAW,eAAgB,gBAAiB,iBAAkB,iBAAkB,QAC7FH,EAAUvL,EAAI7N,KAAK,GAAGS,MAC1B,GAAI8Y,EAAU3P,QAAQwP,IAAY,EAEhC,YADAzX,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,gBAAgByV,uBAA6BhW,KAAO,UAI9FzB,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAC9CF,IAAM,gCACNzK,KAAO,CAACid,WAAahN,EAAI7E,GAAG,GAAGvI,SAEb,WAAjBxB,EAAOwJ,QACR9G,KAAKkH,UACLlH,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASC,KAAM,aAE9DzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQC,KAAO,UAChEzB,KAAKmD,SAAU,IAGnBmT,QAAU,WACRtW,KAAK0M,MAAM9F,SAAS,aAAc,CAACvI,KAAO,SAASpC,KAAO+D,KAAK2K,OAC/D3K,KAAKkH,YC1J0L,MCO/L,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCLA,IACb7I,KAAc,aACdmS,WAAc,CAACqF,KAAA,GAAM/B,IAAA,IACrB7O,SAAc,CACZ1E,UAAY,WACV,OAAOP,KAAKK,OAAOC,QAAQC,aClBkK,MCO/L,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,UAAU,CAACc,YAAY,oBAAoBW,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,SAAS0C,GAAG,WAAW,MAAO,CAAC3B,EAAG,MAAM,CAACc,YAAY,eAAe,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,mEAAmEmB,OAAM,MAAS,CAAC9B,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,oBAAoBX,EAAG,WAAW,CAAC0C,MAAM9C,EAAI+C,OAAOuO,QAAU,UAAY,GAAG7Q,MAAM,CAAC,KAAO,OAAO,YAAc,iBAAiB+B,MAAM,CAACzD,MAAOiB,EAAW,QAAE0C,SAAS,SAAUC,GAAM3C,EAAIsR,QAAQ3O,GAAKL,WAAW,aAActC,EAAI+C,OAAc,QAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOuO,YAAYtR,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,QAAQA,EAAG,YAAY,CAACc,YAAY,eAAeT,MAAM,CAAC,KAAO,QAAQ,KAAO,sBAAsB,KAAO,QAAQE,GAAG,CAAC,MAAQX,EAAIoZ,gBAAgB,CAACpZ,EAAIe,GAAG,eAAe,IAAI,GAAGX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,KAAOT,EAAI4E,OAAO,CAACxE,EAAG,kBAAkB,CAACK,MAAM,CAAC,KAAO,KAAK,MAAQ,QAAQL,EAAG,kBAAkB,CAACK,MAAM,CAAC,KAAO,OAAO,MAAQ,cAAcL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,SAASoB,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASmR,GAAO,MAAO,CAAC9S,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,OAAO,KAAO,SAAS,KAAO,kBAAkBE,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOnB,EAAIqZ,cAAcnG,EAAME,WAAW,CAACpT,EAAIe,GAAG,qBAAqB,IAAI,IAAI,IAAI,IAAI,IACjnD,GAAkB,GC0DP,IACbzC,KAAO,cACP,OACE,MAAO,CACLgT,QAAU,GAEV1M,KAAO,GAEP7B,OAAS,CACPuO,QAAU,QAIhBpM,SAAU,CACR9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,MAItCuG,QAAW,CACT,gBACErF,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAAEF,IAAM,gCACxD,GAAqB,WAAjBpJ,EAAOwJ,OAAqB,CAE9B,GAA2B,IAAvBxJ,EAAOrB,KAAKQ,OAAc,CAC5B,IAAI4c,EAAa,CACf,CAAChb,KAAO,kBAAkB,CAACA,KAAO,OAAO,CAACA,KAAO,SAAS,CAACA,KAAO,UAAU,CAACA,KAAO,UAAU,CAACA,KAAO,UAAU,CAACA,KAAO,WAE1H,IAAK,IAAI9B,EAAI,EAAGA,EAAI8c,EAAW5c,OAAQF,UAC/ByD,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,6BAA6BzK,KAAOod,EAAW9c,KAE3Fe,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAAEF,IAAM,gCAGtD1G,KAAK2E,KAAOrH,EAAOrB,KAAKmL,IAAIJ,IAClB,CAACK,GAAKL,EAAGK,GAAIhJ,KAAO2I,EAAG3I,aAIjC2B,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAqBD,KAAM,UAC3GzB,KAAKmD,SAAU,GAGjB,sBACE,GAAqB,KAAjBnD,KAAKqR,QAAoE,YAAnDrR,KAAK8C,OAAOuO,QAAU,6BAChDrR,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAAEF,IAAM,6BAA8BzK,KAAQ,CAAEoC,KAAO2B,KAAKqR,WACvF,WAAjB/T,EAAOwJ,QACT9G,KAAKqR,QAAU,GACfrR,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASC,KAAO,YAC/DzB,KAAKkH,WAELlH,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAqBD,KAAM,UAC3GzB,KAAKmD,SAAU,GAGjB,cAAcmQ,GACZtT,KAAKmM,SAAS,qCAAqCnM,KAAK2E,KAAK2O,GAAOjV,UAAU+N,KAAK3F,UACjFzG,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAAEF,IAAM,gCAAiCzK,KAAQ,CAAEoL,GAAKrH,KAAK2E,KAAK2O,GAAOjM,MACpG,WAAjB/J,EAAOwJ,QACT9G,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASC,KAAO,YAC/DzB,KAAK2E,KAAKhH,OAAO2V,EAAM,GACvBtT,KAAKkH,UACLlH,KAAKmD,SAAU,GAEbnD,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAqBD,KAAM,YAC5G4K,MAAM,UAIb,UACErM,KAAKkH,WAGPa,MAAQ,CACN,UACE/H,KAAK8C,OAAOuO,QAAU,QC7IoK,MCO5L,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAItR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAGJ,EAAIQ,UAAU,CAACc,IAAI,eAClH,GAAkB,GCDlB,GAAS,WAAa,IAAItB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,OAAO,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASQ,GAAgC,OAAxBA,EAAOoB,iBAAwBvC,EAAIM,OAAOc,OAAO,eAAe,WAAW,CAACpB,EAAIe,GAAG,0BAA0BX,EAAG,UAAU,CAACc,YAAY,qBAAqB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,6BAA6BX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,uBAAuBX,EAAG,WAAW,CAAC0C,MAAM9C,EAAI+C,OAAOzE,KAAO,UAAY,GAAGmC,MAAM,CAAC,YAAc,qBAAqB+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAc,KAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,OAAQE,IAAML,WAAW,oBAAqBtC,EAAI+C,OAAW,KAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOzE,SAAS0B,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,uBAAuBX,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,KAAO,IAAI,YAAc,qBAAqB+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAqB,YAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,cAAeE,IAAML,WAAW,4BAA4B,IAAI,GAAGlC,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,YAAY,CAAC6C,IAAI,iBAAiBH,MAAM9C,EAAI+C,OAAOmJ,SAAW,UAAY,GAAGzL,MAAM,CAAC,YAAc,aAAa,SAAW,IAAI+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,wBAAwBtC,EAAIa,GAAIb,EAAa,WAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAMwC,MAAM,CAAE0C,MAAOjE,EAAIkE,MAAMC,eAAeC,IAAIC,YAAc,GAAI,KAAMC,WAAY,SAAUC,OAAQ,QAAS9D,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,QAAQ,CAACqB,EAAG,MAAM,CAACO,GAAG,CAAC,UAAY,SAASQ,GAAQ,OAAOnB,EAAIwE,uBAAuBrD,GAAO,EAAML,IAAO,SAAW,SAASK,GAAQ,OAAOnB,EAAIwE,uBAAuBrD,GAAQ,EAAO,OAAO,CAACnB,EAAIe,GAAG,IAAIf,EAAIgB,GAAGF,EAAK+B,OAAO,YAAW,GAAI7C,EAAI+C,OAAe,SAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOmJ,aAAalM,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQA,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,QAAQA,EAAG,YAAY,CAAC0C,MAAM,eAAerC,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,KAAO,WAAWE,GAAG,CAAC,MAAQX,EAAIyE,WAAW,CAACzE,EAAIe,GAAG,2BAA2B,IAAI,IAAI,GAAIf,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAAElB,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,gBAAgBf,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI0E,gBAAgBC,SAAS3E,EAAIqB,KAAMrB,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,eAAef,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI0E,gBAAgBzC,SAASjC,EAAIqB,OAAOrB,EAAIqB,MAAM,IACv3F,GAAkB,GCuFP,IACb/C,KAAM,cACN,OACE,MAAO,CACLmE,UAAY,CACVnE,KAAc,GACdsD,YAAc,GACdoC,UAAc,IAEhBU,gBAAkB,CAChBE,MAAO,EACP3C,KAAO,GACP0C,KAAO,IAETX,UAAY,GACZjB,OAAc,CACZzE,KAAY,KACZ4N,SAAY,QAIlBhH,SAAW,CACT9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,MAItCuG,QAAU,CACR,uBAAuBC,EAAEC,EAAQ1E,GAC3B0E,GACFvF,KAAKyE,gBAAgBE,MAAO,EAC5B3E,KAAKyE,gBAAgBzC,KAAOnB,EAAKmB,KACjChC,KAAKyE,gBAAgBC,KAAO7D,EAAK6D,KACjC1E,KAAKwF,UAAU,KACb,IAAIC,EAAOC,SAASC,cAAc,yBAC9BC,EAAc,CACZC,EAAIP,EAAEQ,SAEZL,EAAKnE,MAAMyE,SAAW,MACtBN,EAAKnE,MAAM0E,SAAW,WACtBP,EAAKnE,MAAM2E,KAAOjG,KAAKiE,MAAMC,eAAeC,IAAIC,YAAe,GAAK,KAChEwB,EAAYC,EAAI7F,KAAKiE,MAAMC,eAAeC,IAAI+B,wBAAwBL,EAAIJ,EAAKnE,MAAM6E,IAAO,SAC1FV,EAAKnE,MAAM6E,IAAO,YAG1BnG,KAAKyE,gBAAgBE,MAAO,EAC5B3E,KAAKyE,gBAAgBzC,KAAO,GAC5BhC,KAAKyE,gBAAgBC,KAAO,KAIhC,gBACE1E,KAAKmD,SAAU,EACf,IAAIY,QAAkB/D,KAAKK,OAAOuG,SAAS,QAAS,CAACF,IAAK,+BAAgCzK,KAAM,KACxE,WAApB8H,EAAU+C,SACZ9G,KAAK+D,UAAYA,EAAU9H,KAAKmL,IAAIJ,IAC3B,CAAClI,MAAOkI,EAAGK,GAAG,GAAGvI,MAAO8D,MAAOoE,EAAG3I,KAAK,GAAGS,MAAOkD,KAAMgF,EAAGhF,KAAK,GAAGlD,MAAO4F,KAAMsC,EAAGtC,KAAK,GAAG5F,UAGrGkB,KAAKmD,SAAU,GAGjB,QAAQX,GACN,IAAK,IAAIpD,KAAOY,KAAK8C,OAAQ9C,KAAK8C,OAAO1D,GAAO,KAChD,IAAIiY,GAAU,EAGd,OAFK7U,EAAUnE,OAAyBgZ,GAAU,EAAOrX,KAAK8C,OAAOzE,KAAW,uCAC7C,IAA/BmE,EAAUuB,UAAUtH,SAAgB4a,GAAU,EAAOrX,KAAK8C,OAAOmJ,SAAW,8BACzEoL,GAGT,iBACE,GAAIrX,KAAKqX,QAAQrX,KAAKwC,WAAY,CAChCxC,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,8BAA8BzK,KAAO+D,KAAKwC,YAC7E,WAAjBlF,EAAOwJ,QACR9G,KAAKwC,UAAY,CACfnE,KAAc,GACdsD,YAAc,GACdoC,UAAc,IAEhB/D,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,WAAYD,KAAM,aAElFzB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQE,OAAS,qBAAqBD,KAAM,UAC7FzB,KAAKmD,SAAU,KAKrB,UACEnD,KAAKkH,WAEPa,MAAO,CACL,iBAAmB,WACjB/H,KAAK8C,OAAOzE,KAAO,MAErB,sBAAwB,WACtB2B,KAAK8C,OAAOmJ,SAAW,QC5LqK,MCO9L,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QClBX,GAAS,WAAa,IAAIlM,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,UAAU,CAACc,YAAY,oBAAoBW,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,SAAS0C,GAAG,WAAW,MAAO,CAAC3B,EAAG,MAAM,CAACc,YAAY,eAAe,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,kCAAkCmB,OAAM,MAAS,CAAC9B,EAAG,WAAW,CAACK,MAAM,CAAC,KAAOT,EAAI4E,OAAO,CAACxE,EAAG,kBAAkB,CAACK,MAAM,CAAC,KAAO,KAAK,MAAQ,KAAK,MAAQ,SAASL,EAAG,kBAAkB,CAACK,MAAM,CAAC,KAAO,OAAO,MAAQ,WAAW,MAAQ,SAASL,EAAG,kBAAkB,CAACK,MAAM,CAAC,KAAO,cAAc,MAAQ,WAAW,MAAQ,SAASL,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,cAAcoB,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASwO,GAAO,OAAOvQ,EAAIa,GAAI0P,EAAMpE,IAAa,WAAE,SAASrL,GAAM,OAAOV,EAAG,IAAI,CAACJ,EAAIe,GAAG,IAAIf,EAAIgB,GAAGF,EAAKxC,MAAM,gBAAe8B,EAAG,kBAAkB,CAACK,MAAM,CAAC,MAAQ,SAASoB,YAAY7B,EAAI8B,GAAG,CAAC,CAACzC,IAAI,UAAU0C,GAAG,SAASmR,GAAO,MAAO,CAAC9S,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,OAAO,KAAO,OAAO,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOnB,EAAIuZ,aAAarG,EAAM/G,IAAI7E,QAAQlH,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,OAAO,KAAO,SAAS,KAAO,kBAAkBE,GAAG,CAAC,MAAQ,SAASQ,GAAQ,OAAOnB,EAAIwZ,eAAetG,EAAME,oBAAoB,IAAI,IAAI,IAC5zC,GAAkB,GC2DP,IACb9U,KAAM,eACN,OACE,MAAO,CACLsG,KAAO,GACPZ,UAAY,KAGhBkB,SAAW,CACT9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,MAItCuG,QAAU,CACR,gBACErF,KAAKmD,SAAU,EAEf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,+BAA+BzK,KAAO,KACzE,WAAjBqB,EAAOwJ,OACR9G,KAAK2E,KAAOrH,EAAOrB,KAEhB+D,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAqBD,KAAM,UAE9GzB,KAAKmD,SAAU,GAGjB,eAAemQ,GACbtT,KAAKmM,SAAS,qCAAqCnM,KAAK2E,KAAK2O,GAAOjV,UAAU+N,KAAK3F,UACjFzG,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAAEF,IAAM,iCAAkCzK,KAAQ,CAAEoL,GAAKrH,KAAK2E,KAAK2O,GAAOjM,MACrG,WAAjB/J,EAAOwJ,QACT9G,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASC,KAAO,YAC/DzB,KAAK2E,KAAKhH,OAAO2V,EAAM,GACvBtT,KAAKkH,UACLlH,KAAKmD,SAAU,GAEZnD,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAqBD,KAAM,YAC7G4K,MAAM,SAGX,aAAahF,GACXrH,KAAKmM,SAAS,sDAAsD9E,MAAO+E,KAAK3F,UAC9EzG,KAAKK,OAAOc,OAAO,gBAAiBkG,GACpCrH,KAAKK,OAAOc,OAAO,eAAgB,UAClCkL,MAAM,UAIb,UACErM,KAAKkH,YClH0L,MCO/L,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QClBX,GAAS,WAAa,IAAInH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgC,WAAW,CAAC,CAAC9D,KAAK,UAAU+D,QAAQ,YAAYtD,MAAOiB,EAAW,QAAEsC,WAAW,YAAYpB,YAAY,gBAAgB,CAACd,EAAG,YAAY,CAACc,YAAY,gCAAgCT,MAAM,CAAC,KAAO,SAAS,KAAO,OAAO,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASQ,GAAgC,OAAxBA,EAAOoB,iBAAwBvC,EAAIM,OAAOc,OAAO,eAAe,WAAW,CAACpB,EAAIe,GAAG,0BAA0BX,EAAG,UAAU,CAACc,YAAY,qBAAqB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,6BAA6BX,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,uBAAuBX,EAAG,WAAW,CAAC0C,MAAM9C,EAAI+C,OAAOzE,KAAO,UAAY,GAAGmC,MAAM,CAAC,YAAc,qBAAqB+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAc,KAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,OAAQE,IAAML,WAAW,oBAAqBtC,EAAI+C,OAAW,KAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOzE,SAAS0B,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,uBAAuBX,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,KAAO,IAAI,YAAc,qBAAqB+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAqB,YAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,cAAeE,IAAML,WAAW,4BAA4B,IAAI,GAAGlC,EAAG,SAAS,CAACc,YAAY,OAAOT,MAAM,CAAC,OAAS,KAAK,CAACL,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACJ,EAAIe,GAAG,gBAAgBX,EAAG,YAAY,CAAC6C,IAAI,iBAAiBH,MAAM9C,EAAI+C,OAAOmJ,SAAW,UAAY,GAAGzL,MAAM,CAAC,YAAc,aAAa,SAAW,IAAI+B,MAAM,CAACzD,MAAOiB,EAAIyC,UAAmB,UAAEC,SAAS,SAAUC,GAAM3C,EAAI4C,KAAK5C,EAAIyC,UAAW,YAAaE,IAAML,WAAW,wBAAwBtC,EAAIa,GAAIb,EAAa,WAAE,SAASc,GAAM,OAAOV,EAAG,YAAY,CAACf,IAAIyB,EAAK/B,MAAMwC,MAAM,CAAE0C,MAAOjE,EAAIkE,MAAMC,eAAeC,IAAIC,YAAc,GAAI,KAAMC,WAAY,SAAUC,OAAQ,QAAS9D,MAAM,CAAC,MAAQK,EAAK+B,MAAM,MAAQ/B,EAAK/B,QAAQ,CAACqB,EAAG,MAAM,CAACO,GAAG,CAAC,UAAY,SAASQ,GAAQ,OAAOnB,EAAIwE,uBAAuBrD,GAAO,EAAML,IAAO,SAAW,SAASK,GAAQ,OAAOnB,EAAIwE,uBAAuBrD,GAAQ,EAAO,OAAO,CAACnB,EAAIe,GAAG,IAAIf,EAAIgB,GAAGF,EAAK+B,OAAO,YAAW,GAAI7C,EAAI+C,OAAe,SAAE3C,EAAG,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAI+C,OAAOmJ,aAAalM,EAAIqB,MAAM,GAAGjB,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQA,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,IAAI,CAACL,EAAG,QAAQ,CAACA,EAAG,QAAQA,EAAG,YAAY,CAAC0C,MAAM,eAAerC,MAAM,CAAC,KAAO,SAAS,KAAO,iBAAiB,KAAO,WAAWE,GAAG,CAAC,MAAQX,EAAIyE,WAAW,CAACzE,EAAIe,GAAG,2BAA2B,IAAI,IAAI,GAAIf,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAAElB,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,gBAAgBf,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI0E,gBAAgBC,SAAS3E,EAAIqB,KAAMrB,EAAI0E,gBAAoB,KAAEtE,EAAG,MAAM,CAACc,YAAY,wBAAwB,CAACd,EAAG,KAAK,CAACJ,EAAIe,GAAG,eAAef,EAAIe,GAAG,IAAIf,EAAIgB,GAAGhB,EAAI0E,gBAAgBzC,SAASjC,EAAIqB,OAAOrB,EAAIqB,MAAM,IACv3F,GAAkB,GCmFP,IACb/C,KAAM,eACN,OACE,MAAO,CACLmE,UAAY,CACVnE,KAAc,GACdsD,YAAc,GACdoC,UAAc,IAEhBU,gBAAkB,CAChBE,MAAO,EACP3C,KAAO,GACP0C,KAAO,IAETX,UAAY,GACZjB,OAAc,CACZzE,KAAY,KACZ4N,SAAY,QAIlBhH,SAAW,CACT9B,QAAU,CACRzE,IAAM,WACJ,OAAOsB,KAAKK,OAAOC,QAAQ6C,SAE7B+B,IAAM,SAASpG,GACbkB,KAAKK,OAAOc,OAAO,aAAarC,KAGpC,aACE,OAAOkB,KAAKK,OAAOC,QAAQkZ,aAG/BnU,QAAU,CACR,uBAAuBC,EAAEC,EAAQ1E,GAC3B0E,GACFvF,KAAKyE,gBAAgBE,MAAO,EAC5B3E,KAAKyE,gBAAgBzC,KAAOnB,EAAKmB,KACjChC,KAAKyE,gBAAgBC,KAAO7D,EAAK6D,KACjC1E,KAAKwF,UAAU,KACb,IAAIC,EAAOC,SAASC,cAAc,yBAC9BC,EAAc,CACZC,EAAIP,EAAEQ,SAEZL,EAAKnE,MAAMyE,SAAW,MACtBN,EAAKnE,MAAM0E,SAAW,WACtBP,EAAKnE,MAAM2E,KAAOjG,KAAKiE,MAAMC,eAAeC,IAAIC,YAAe,GAAK,KAChEwB,EAAYC,EAAI7F,KAAKiE,MAAMC,eAAeC,IAAI+B,wBAAwBL,EAAIJ,EAAKnE,MAAM6E,IAAO,SAC1FV,EAAKnE,MAAM6E,IAAO,YAG1BnG,KAAKyE,gBAAgBE,MAAO,EAC5B3E,KAAKyE,gBAAgBzC,KAAO,GAC5BhC,KAAKyE,gBAAgBC,KAAO,KAIhC,gBACE1E,KAAKmD,SAAU,EACf,IAAIY,QAAkB/D,KAAKK,OAAOuG,SAAS,QAAS,CAACF,IAAK,+BAAgCzK,KAAM,KACxE,WAApB8H,EAAU+C,SACZ9G,KAAK+D,UAAYA,EAAU9H,KAAKmL,IAAIJ,IAC3B,CAAClI,MAAOkI,EAAGK,GAAG,GAAGvI,MAAO8D,MAAOoE,EAAG3I,KAAK,GAAGS,MAAOkD,KAAMgF,EAAGhF,KAAK,GAAGlD,MAAO4F,KAAMsC,EAAGtC,KAAK,GAAG5F,UAIrG,IAAIxB,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,+BAA+BzK,KAAO,CAACoL,GAAKrH,KAAKwZ,WAAYC,KAAO,SACvG,WAAjBnc,EAAOwJ,QACN9G,KAAKwC,UAAU6E,GAAK/J,EAAOrB,KAAKoL,GAChCrH,KAAKwC,UAAUnE,KAAOf,EAAOrB,KAAKoC,KAClC2B,KAAKwC,UAAUb,YAAcrE,EAAOrB,KAAK0F,YACzC3B,KAAKwC,UAAUuB,UAAYzG,EAAOrB,KAAK8H,UAAUqD,IAAIJ,GAAcA,EAAGK,KAEtErH,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,qBAAqBD,KAAM,UAG7GzB,KAAKmD,SAAU,GAGjB,QAAQX,GACN,IAAK,IAAIpD,KAAOY,KAAK8C,OAAQ9C,KAAK8C,OAAO1D,GAAO,KAChD,IAAIiY,GAAU,EAGd,OAFK7U,EAAUnE,OAAyBgZ,GAAU,EAAOrX,KAAK8C,OAAOzE,KAAW,uCAC7C,IAA/BmE,EAAUuB,UAAUtH,SAAgB4a,GAAU,EAAOrX,KAAK8C,OAAOmJ,SAAW,8BACzEoL,GAGT,iBACE,GAAIrX,KAAKqX,QAAQrX,KAAKwC,WAAY,CAChCxC,KAAKmD,SAAU,EACf,IAAI7F,QAAe0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,+BAA+BzK,KAAO,CAACwd,KAAO,SAAUzZ,KAAKwC,aAChG,WAAjBlF,EAAOwJ,QACR9G,KAAKK,OAAOc,OAAO,aAAc,CAACa,KAAM1E,EAAOkE,QAASE,OAAQ,WAAYD,KAAM,YAClFzB,KAAKK,OAAOc,OAAO,eAAgB,SAEnCnB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO1E,EAAOkE,QAAQE,OAAS,qBAAqBD,KAAM,UAC7FzB,KAAKmD,SAAU,KAIrB,UACEnD,KAAKkH,WAEPa,MAAO,CACL,iBAAmB,WACjB/H,KAAK8C,OAAOzE,KAAO,MAErB,sBAAwB,WACtB2B,KAAK8C,OAAOmJ,SAAW,QCjMsK,MCO/L,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QCTA,IACb5N,KAAc,eACdmS,WAAc,CAACsD,IAAA,GAAK+B,KAAA,GAAKC,KAAA,IACzB7Q,SAAc,CACZ1E,UAAY,WACV,OAAOP,KAAKK,OAAOC,QAAQC,aCdkK,MCO/L,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QCyBA,IACbiQ,WAAa,CAACkJ,aAAA,GAAcC,YAAA,GAAaC,aAAA,GAAcC,UAAA,GAAWC,WAAA,GAAYC,YAAA1I,GAAa2I,aAAA,IAC3F/U,SAAW,CACTxE,KAAO,WACL,OAAOT,KAAKK,OAAOC,QAAQG,MAE7BF,UAAY,WACV,OAAOP,KAAKK,OAAOC,QAAQC,WAE7B,UACE,OAAOP,KAAKK,OAAOC,QAAQsQ,SAG/B3U,KAAO,WACL,MAAO,CACLge,SAAc,EACdxU,KAAc,CACZyU,QAAa,SACbxU,SAAa,YAEbnC,MAAa,uBACb4W,OAAa,iBAKfnZ,QAAU,CACRkZ,QAAY,SACZjO,SAAY,UACZ1I,MAAY,SACZ4W,OAAY,aACZC,SAAY,YAEd7Y,MAAc,KAGlB8D,QAAU,CACR,cAAcjG,GACZ,GAAW,MAAPA,EAAa,OAAO,EAEpBA,IAAQY,KAAKK,OAAOC,QAAQG,OAC9BT,KAAKK,OAAOc,OAAO,UAAU/B,GAC7BY,KAAKK,OAAOc,OAAO,oBAAqB,GACxCnB,KAAKK,OAAOc,OAAO,oBAAqB,KAEnB,SAAnBnB,KAAKO,WAAsBP,KAAKK,OAAOc,OAAO,eAAe,SAGnE,iBACMxB,OAAO0a,QACTra,KAAKK,OAAOc,OAAO,YAAaxB,OAAO0a,SAEvCra,KAAKK,OAAOc,OAAO,YAAa,MAGlCxB,OAAO2a,OAAS3a,OAAO4a,MAAQ5a,OAAO2a,OAAS3a,OAAO4a,MAAQ,GAE9D,IAAIjd,QAAgB0C,KAAKK,OAAOuG,SAAS,QAAQ,CAACF,IAAM,sBAAsBzK,KAAO,CAAEoL,GAAKrH,KAAK6Q,WAC7FlR,OAAO4a,OACPva,KAAKia,SAAU,EACfja,KAAKuB,MAAU,GACPjE,EAAO0P,UACThN,KAAKK,OAAOc,OAAO,cAAe7D,EAAO0P,UACzChN,KAAKwa,cACAxa,KAAKK,OAAOc,OAAO,cAAe,IAErC7D,EAAO8Y,aACTpW,KAAKK,OAAOc,OAAO,iBAAkB7D,EAAO8Y,aAC5CpW,KAAKwa,cACAxa,KAAKK,OAAOc,OAAO,iBAAkB,MAGhDnB,KAAKK,OAAOc,OAAO,aAAa,CAACa,KAAO,6BAA6BN,OAAS,+BAAgCD,KAAM,UACpHzB,KAAKia,SAAU,EACfja,KAAKuB,MAAU,oEACfvB,KAAKK,OAAOc,OAAO,cAAe,MAGxC,aACKnB,KAAKK,OAAOC,QAAQ0M,SAAS,QAC9BhN,KAAKyF,KAAO,CACVyU,QAAa,SACbxU,SAAa,YACbuG,SAAa,aACb1I,MAAa,uBACb4W,OAAa,gBACb9I,QAAa,8BACb+I,SAAa,YAKdpa,KAAKK,OAAOC,QAAQ0M,SAAS,iBAC9BhN,KAAKyF,KAAO,CACVyU,QAAa,SACbxU,SAAa,YACb2L,QAAa,+BAKdrR,KAAKK,OAAOC,QAAQ0M,SAAS,oBAC/BhN,KAAKyF,KAAO,CACVyU,QAAW,SACXxU,SAAW,YACXuG,SAAW,iBAMlB,UACEjM,KAAKya,aC3J6K,MCQlL,I,UAAY,eACd,GACA3a,EACAoC,GACA,EACA,KACA,KACA,OAIa,M,qBCjBf,aAAIwY,IAAI,SACO,WAAI,QAAKC,MAAM,CAI1BC,QAAU,CACN,YAAaC,EAAKrN,GACT,SAAUA,IAASA,EAAO/L,KAAO,QAEtC,IAAIqZ,EAAMpZ,EAAS,GAED,QAAf8L,EAAO/L,MACNqZ,EAAO,CACHP,MAAQ5a,OAAO4a,SACZ/M,EAAOvR,MAEdyF,EAAO,gBAAkB,mCAErBoZ,EAAOtN,EAAOvR,KACd6e,EAAKlT,OAAO,QAAQjI,OAAO4a,QAEnC,IACM,IAAI7T,EAAM8G,EAAO9G,IAKbH,QAAcwU,MAAMF,EAAIva,QAAQ0a,OAAStU,EAAK,CAChDuU,OAAQ,OACRC,QAASxZ,EACToZ,KAAqB,QAAftN,EAAO/L,KAAiBiM,KAAKC,UAAUmN,GAAQA,IAEnDxd,EAAS,KAEb,OADyBA,EAAzBkQ,EAAOQ,gBAA2BzH,QAAwBA,EAAM4U,OACzD7d,EACZ,MAAMgI,GACD,MAAO,CAAC,OAAW,QAAQ,QAAY,gCAIjD,oBAAoBuV,EAAK5e,GACrB,IAAImf,EAAe,GACnB,IAAK,IAAIhc,KAAOnD,EACY,WAAnBA,EAAKmD,GAAKqC,MAAwC,SAAnBxF,EAAKmD,GAAKqC,OAA4BxF,EAAKmD,GAAKic,MAAoBD,EAAahc,GAAOnD,EAAKmD,KACzG,SAAnBnD,EAAKmD,GAAKqC,MAAwC,eAAnBxF,EAAKmD,GAAKqC,OAA4BxF,EAAKmD,GAAKN,MAAMrC,OAAS,IAAK2e,EAAahc,GAAOnD,EAAKmD,IAErI,OAAOgc,GAGX,YAAYP,EAAK5e,GACb,IAAI6G,EAAS,GAgBb,OAfK7G,EAAKuG,UAAUO,eAA4DD,EAAOC,aAAe,wCACjG9G,EAAKuG,UAAUS,UAA4DH,EAAOG,QAAe,mCAClGhH,EAAKuG,UAAUe,iBAAiBuE,OAAS7L,EAAKuG,UAAUe,MAAM9G,QAAU,EAAIqG,EAAOS,MAAe,iCACvFtH,EAAKuG,UAAUe,QAAkDT,EAAOS,MAAe,kCAElGtH,EAAKuG,UAAUuB,UAAUtH,QAAU,IAAMR,EAAKuG,UAAUsC,UAAY7I,EAAKuG,UAAUwC,SACnFlC,EAAOiB,UAAe,8EAEtB9H,EAAKuG,UAAUmB,YAA6Db,EAAOa,UAAe,iDAClG1H,EAAKuG,UAAUsB,YAA6DhB,EAAOgB,UAAe,oDAClG7H,EAAKuG,UAAUmB,WAAa1H,EAAKuG,UAAUsB,WACvCwX,OAAOrf,EAAKuG,UAAUsB,UAAUwF,MAAM,KAAKC,UAAUC,KAAK,KAAO8R,OAAOrf,EAAKuG,UAAUmB,UAAU2F,MAAM,KAAKC,UAAUC,KAAK,KAAO,IAClI1G,EAAOc,KAAO,yFAGfd,IAGfyY,UAAY,CACR,WAAW1d,EAAE2d,GACR3d,EAAEsF,QAAUqY,GAEjB,QAAQ3d,EAAE2d,GACN3d,EAAEmL,aAAenL,EAAE4C,KACnB5C,EAAE4C,KAAe+a,EACjB3d,EAAE0C,UAAe,IAErB,aAAa1C,EAAE2d,GACX3d,EAAE0C,UAAYib,GAElB,mBAAmB3d,EAAE2d,GACjB3d,EAAE0Z,gBAAkBiE,GAExB,WAAW3d,EAAE2d,GACT3d,EAAE2D,QAAUga,EACZxT,WAAW,KAAOnK,EAAE2D,QAAU,IAAI,MAEtC,kBAAkB3D,EAAE2d,GAChB3d,EAAEsP,eAAiBqO,GAEvB,kBAAkB3d,EAAE2d,GAChB3d,EAAEqP,eAAiBsO,GAEvB,UAAU3d,EAAE2d,GACR3d,EAAE+S,OAAS4K,GAEf,aAAa3d,EAAE2d,GACX3d,EAAE4d,UAAYD,GAElB,iBAAiB3d,EAAE2d,GACf3d,EAAE6d,cAAgBF,GAEtB,YAAY3d,EAAE2d,GACV3d,EAAEmP,SAAWwO,GAEjB,eAAe3d,EAAE2d,GACb3d,EAAEuY,YAAaoF,GAEnB,cAAc3d,EAAE2d,GACZ3d,EAAE8Q,WAAa6M,GAEnB,gBAAgB3d,EAAE2d,GACd3d,EAAE+Q,aAAe4M,GAErB,eAAe3d,EAAE2d,GACF3d,EAAE8S,YAAP,IAAN6K,GAEJ,iBAAiB3d,EAAE2d,GACf3d,EAAEyT,iBAAmBkK,GAEzB,YAAY3d,EAAE2d,GACV3d,EAAEsW,YAAcqH,GAEpB,aAAa3d,EAAE2d,GACA3d,EAAE0N,UAAP,IAANiQ,GAEJ,mBAAmB3d,EAAE2d,GACjB3d,EAAE4U,gBAAkB+I,GAExB,aAAa3d,EAAE2d,GACX3d,EAAEkL,UAAYyS,GAElB,cAAc3d,EAAE2d,GACZ3d,EAAE2b,WAAagC,GAEnB,gBAAgB3d,EAAE2d,GACd3d,EAAE6S,aAAe8K,IAGzBG,MAAQ,CACJ/K,OAAsB,KACtB6K,UAAsB,KACtBC,cAAsB,KAEtBnE,gBAAsB,GAEtB5I,WAAsB,KACtBgC,aAAsB,EACtBW,kBAAsB,EACtB6C,YAAsB,GACtB5I,WAAsB,EACtBqD,aAAsB,KACtB6D,gBAAsB,KAEtB1J,UAAsB,KACtB2H,aAAsB,GAEtB8I,WAAsB,GAEtBrW,SAAsB,EACtB6J,SAAsB,GACtBoJ,YAAsB,GAItB4E,OAA+Drb,OAAOic,SAASC,OAE/Epb,KAAsB,UACtBuI,aAAsB,GACtBzI,UAAsB,OAEtBiB,QAAsB,GACtB2L,eAAsB,EACtBD,eAAsB,GAEtB+J,cAAsB,CAClB,CAAC7X,IAAM,KAAaN,MAAQ,KAAY8D,MAAQ,YAChD,CAACxD,IAAM,MAAaN,MAAQ,MAAY8D,MAAQ,aAChD,CAACxD,IAAM,MAAaN,MAAQ,MAAY8D,MAAQ,eAEpDwC,UAAsB,CAClB,CAACtG,MAAQ,WAAY8D,MAAQ,gBAC7B,CAAC9D,MAAQ,UAAY8D,MAAQ,kBAEjCuC,kBAAsB,CAClB,CAACrG,MAAQ,UAAa8D,MAAQ,eAE9B,CAAC9D,MAAQ,WAAa8D,MAAQ,iBAElCmS,oBAAsB,CAClB,CAACjW,MAAQ,gBAAmB8D,MAAQ,6BACpC,CAAC9D,MAAQ,SAAmB8D,MAAQ,eACpC,CAAC9D,MAAQ,SAAmB8D,MAAQ,eACpC,CAAC9D,MAAQ,aAAmB8D,MAAQ,gCACpC,CAAC9D,MAAQ,kBAAmB8D,MAAQ,iCAExC0I,WAAsB,CAClB,CAACxM,MAAQ,UAAiB8D,MAAQ,kBAClC,CAAC9D,MAAQ,YAAiB8D,MAAQ,oBAClC,CAAC9D,MAAQ,WAAiB8D,MAAQ,oBAClC,CAAC9D,MAAQ,gBAAiB8D,MAAQ,mBAClC,CAAC9D,MAAQ,QAAiB8D,MAAQ,cAClC,CAAC9D,MAAQ,YAAiB8D,MAAQ,aAClC,CAAC9D,MAAQ,UAAiB8D,MAAQ,aAG1CtC,QAAU,CACN6C,QAAsBtF,GAAKA,EAAEsF,QAC7B6X,OAAsBnd,GAAKA,EAAEmd,OAC7Bva,KAAsB5C,GAAKA,EAAE4C,KAC7BuI,aAAsBnL,GAAKA,EAAEmL,aAC7BzI,UAAsB1C,GAAKA,EAAE0C,UAC7BiB,QAAsB3D,GAAKA,EAAE2D,QAE7ByV,cAAsBpZ,GAAKA,EAAEoZ,cAC7B7R,UAAsBvH,GAAKA,EAAEuH,UAC7BD,kBAAsBtH,GAAKA,EAAEsH,kBAC7B4P,oBAAsBlX,GAAKA,EAAEkX,oBAC7BzJ,WAAsBzN,GAAKA,EAAEyN,WAE7B6B,eAAsBtP,GAAKA,EAAEsP,eAC7BD,eAAsBrP,GAAKA,EAAEqP,eAE7BqK,gBAAqB1Z,GAAIA,EAAG0Z,gBAE5B5I,WAAsB9Q,GAAKA,EAAE8Q,WAC7B8D,gBAAsB5U,GAAKA,EAAE4U,gBAC7B7D,aAAsB/Q,GAAKA,EAAE+Q,aAC7B0C,iBAAsBzT,GAAKA,EAAEyT,iBAC7B6C,YAAsBtW,GAAKA,EAAEsW,YAC7BxD,YAAsB9S,GAAKA,EAAE8S,YAC7BpF,UAAsB1N,GAAKA,EAAE0N,UAE7BxC,UAAsBlL,GAAKA,EAAEkL,UAC7B2H,aAAsB7S,GAAKA,EAAE6S,aAE7B8I,WAAsB3b,GAAKA,EAAE2b,WAE7B5I,OAAsB/S,GAAKA,EAAE+S,OAE7B5D,SAAsBnP,GAAKie,GAAiBje,EAAEmP,SAAS/E,QAAQ6T,IAAS,EAExE1F,YAAsBvY,GAAKA,EAAEuY,YAE7B3G,UAAsB5R,GAAsBA,EAAE+S,SAAW/S,EAAE4d,UAC3D/L,cAAsB7R,GAAsBA,EAAE+S,SAAW/S,EAAE6d,iB,aCnPnE,aAAIhB,IAAI,SAER,aAAIqB,OAAOC,eAAgB,EAc3B,aAAIrf,UAAUsf,UAAY,IAAI,aAE9B,aAAIC,UAAU,WAAW,CACxB,KAAKlV,EAAGmV,GACL,aAAIxf,UAAUsf,UAAUG,IAAID,EAAQzR,IAAKyR,EAAQrd,QAEpD,SACI,aAAInC,UAAUsf,UAAUI,UAI7B,IAAI,aAAI,CACNC,SACA,OAAOC,GAAI,OAAOA,EAAEC,OACnBC,OAAO,S,oCCnCV,W,6GCAA,W,kCCAA,W,kCCAA,W,yDCAA","file":"js/app.697d2cc5.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=e098ae20&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isToken)?_c('div',[(_vm.$store.getters.component === 'list' )?_c('el-menu',{attrs:{\"default-active\":_vm.page,\"mode\":\"horizontal\"},on:{\"select\":_vm.setActiveMenu}},[_vm._l((_vm.menu),function(item,key){return _c('el-menu-item',{key:key,attrs:{\"index\":key}},[_vm._v(_vm._s(item))])}),(_vm.page in _vm.addLang)?_c('el-menu-item',{staticClass:\"menu-right-element\",on:{\"click\":function($event){return _vm.$store.commit('setComponent','add')}}},[_c('el-button',{staticClass:\"menu-right-element-button\"},[_vm._v(\" Добавить \"+_vm._s(_vm.addLang[_vm.page])+\" \")])],1):_vm._e()],2):_vm._e(),_c(_vm.page + 'Page',{tag:\"component\"})],1):_c('el-container',{staticClass:\"body-wrapper\"},[_c('el-aside',{style:(_vm.error ? 'background-color: #F56C6C' : 'background-color: #909399'),attrs:{\"width\":\"20px\"}}),_c('el-main',[_c('label',[_vm._v(_vm._s(_vm.error ? _vm.error : 'Ожидание авторизации на сервере!'))])])],1),('text' in _vm.$store.getters.message)?_c('div',{staticClass:\"message_container\"},[_c('el-alert',{attrs:{\"type\":_vm.$store.getters.message.type,\"show-icon\":\"\",\"title\":_vm.$store.getters.message.header,\"description\":_vm.$store.getters.message.description},on:{\"close\":function($event){return _vm.$store.commit('setMessage',{})}},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.$store.getters.message.text)}})]},proxy:true}],null,false,1538474048)})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c(_vm.component,{tag:\"component\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"type\":\"info\",\"icon\":\"el-icon-back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$store.commit('setComponent','list')}}},[_vm._v(\" Вернуться к списку \")]),_c('el-card',{staticClass:\"component-wrapper\"},[_c('h3',[_vm._v(\"Создание новой заявки\")]),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Тип заявки\")]),_c('el-select',{attrs:{\"placeholder\":\"Тип заявки\"},model:{value:(_vm.queryData.type),callback:function ($$v) {_vm.$set(_vm.queryData, \"type\", $$v)},expression:\"queryData.type\"}},_vm._l((_vm.queryType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Тип доверенности\")]),_c('el-select',{class:_vm.errors.documentType ? 'invalid' : '',attrs:{\"placeholder\":\"Тип доверенности\"},model:{value:(_vm.queryData.documentType),callback:function ($$v) {_vm.$set(_vm.queryData, \"documentType\", $$v)},expression:\"queryData.documentType\"}},_vm._l((_vm.queryTypeDocument),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(_vm.errors.documentType)?_c('small',[_vm._v(_vm._s(_vm.errors.documentType))]):_vm._e()],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Организация, выдающая доверенность\")]),_c('el-select',{ref:'company_search',class:_vm.errors.company ? 'invalid' : '',attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"Укажите организацию\",\"remote-method\":_vm.searchGiveCompany,\"loading\":_vm.loading,\"disabled\":_vm.queryData.type == 'personal'},on:{\"change\":function($event){return _vm.clearSelectSearch('company_search')}},model:{value:(_vm.queryData.company),callback:function ($$v) {_vm.$set(_vm.queryData, \"company\", $$v)},expression:\"queryData.company\"}},_vm._l((_vm.company),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(_vm.errors.company)?_c('small',[_vm._v(_vm._s(_vm.errors.company))]):_vm._e()],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Кто получает доверенность\")]),_c('el-radio-group',{attrs:{\"fill\":\"#909399\"},on:{\"change\":_vm.whoReceiveChange},model:{value:(_vm.whoReceive),callback:function ($$v) {_vm.whoReceive=$$v},expression:\"whoReceive\"}},[_c('el-radio-button',{attrs:{\"label\":\"Пользователь\"}}),_c('el-radio-button',{attrs:{\"label\":\"Организация\",\"disabled\":_vm.queryData.type == 'personal'}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(_vm._s(_vm.whoReceive==='Пользователь' ? 'Получает пользователь' : 'Получает организация'))]),_c('el-select',{ref:'user_search',class:_vm.errors.users ? 'invalid' : '',attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":_vm.whoReceive==='Пользователь' ?  'Укажите ФИО' : 'Укажите организацию',\"remote-method\":_vm.whoReceive==='Пользователь' ? _vm.searchReceiveUser : _vm.searchReceiveCompany,\"loading\":_vm.loading,\"disabled\":_vm.queryData.type == 'personal',\"multiple\":_vm.isMultipleUser},on:{\"change\":function($event){return _vm.clearSelectSearch('user_search')}},model:{value:(_vm.queryData.users),callback:function ($$v) {_vm.$set(_vm.queryData, \"users\", $$v)},expression:\"queryData.users\"}},_vm._l((_vm.users),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(_vm.errors.users)?_c('small',[_vm._v(_vm._s(_vm.errors.users))]):_vm._e()],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Период действия документа\")]),_c('el-date-picker',{class:_vm.errors.dateStart || _vm.errors.date  ? 'invalid' : '',attrs:{\"picker-options\":{ firstDayOfWeek: 1 },\"type\":\"date\",\"format\":\"dd.MM.yyyy\",\"value-format\":\"dd.MM.yyyy\",\"placeholder\":\"Начало действия документа\"},model:{value:(_vm.queryData.dateStart),callback:function ($$v) {_vm.$set(_vm.queryData, \"dateStart\", $$v)},expression:\"queryData.dateStart\"}}),(_vm.errors.date)?_c('small',[_vm._v(_vm._s(_vm.errors.date))]):_vm._e(),(_vm.errors.dateStart)?_c('small',[_vm._v(_vm._s(_vm.errors.dateStart))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_c('br')]),_c('el-date-picker',{class:_vm.errors.dateFinal || _vm.errors.date ? 'invalid' : '',attrs:{\"picker-options\":{ firstDayOfWeek: 1 },\"type\":\"date\",\"format\":\"dd.MM.yyyy\",\"value-format\":\"dd.MM.yyyy\",\"placeholder\":\"Окончание действия документа\"},model:{value:(_vm.queryData.dateFinal),callback:function ($$v) {_vm.$set(_vm.queryData, \"dateFinal\", $$v)},expression:\"queryData.dateFinal\"}}),(_vm.errors.dateFinal)?_c('small',[_vm._v(_vm._s(_vm.errors.dateFinal))]):_vm._e()],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Функционал\")]),_c('el-select',{ref:\"selectFunction\",class:_vm.errors.functions ? 'invalid' : '',attrs:{\"placeholder\":\"Функционал\",\"multiple\":\"\"},model:{value:(_vm.queryData.functions),callback:function ($$v) {_vm.$set(_vm.queryData, \"functions\", $$v)},expression:\"queryData.functions\"}},_vm._l((_vm.functions),function(item){return _c('el-option',{key:item.value,style:({width: _vm.$refs.selectFunction.$el.offsetWidth + 30 +'px', whiteSpace: 'normal', height: 'auto'}),attrs:{\"label\":item.label,\"value\":item.value}},[_c('div',{on:{\"mouseover\":function($event){return _vm.mouseOnFunctionOptions($event,true, item)},\"mouseout\":function($event){return _vm.mouseOnFunctionOptions($event, false, '')}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])])}),1),(_vm.errors.functions)?_c('small',[_vm._v(_vm._s(_vm.errors.functions))]):_vm._e()],1),_c('el-col',{ref:\"commentCol\",attrs:{\"span\":8}},[_c('label',[_vm._v(\"Комментарий\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"1\"},model:{value:(_vm.queryData.comment),callback:function ($$v) {_vm.$set(_vm.queryData, \"comment\", $$v)},expression:\"queryData.comment\"}})],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{ref:\"uploadCol\",attrs:{\"span\":8}},[_c('label',[_vm._v(\"Дополнительные файлы (прошлые доверенности НЕ прикладывать)\")]),_c('el-upload',{ref:\"upload\",attrs:{\"action\":\"\",\"auto-upload\":false}},[_c('el-button',{staticClass:\"fluid-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-download\",\"type\":\"info\"},on:{\"click\":function($event){_vm.errors.functions=null}}},[_vm._v(\" Добавить файл\")])],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_c('br')])]),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_c('br')]),_c('el-button',{class:'fluid-button',attrs:{\"size\":\"medium\",\"icon\":\"el-icon-upload\",\"type\":\"primary\"},on:{\"click\":_vm.saveForm}},[_vm._v(\" Отправить заявку \")])],1)],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":24}},[_c('br'),_c('el-link',{attrs:{\"href\":\"https://bitrix.bsi.local/knowledge/instrukcii/korportal/doverrennosti/\",\"target\":\"_blank\",\"type\":\"danger\",\"icon\":\"el-icon-reading\"}},[_vm._v(\"Ознакомиться с инструкцией\")])],1)],1),(_vm.functionsDetail.show)?_c('div',{staticClass:\"context-menu-wrapper\"},[(_vm.functionsDetail.note)?_c('div',{staticClass:\"context-menu-element\"},[_c('h4',[_vm._v(\"Примечание\")]),_vm._v(\" \"+_vm._s(_vm.functionsDetail.note))]):_vm._e(),(_vm.functionsDetail.text)?_c('div',{staticClass:\"context-menu-element\"},[_c('h4',[_vm._v(\"Описание \")]),_vm._v(\" \"+_vm._s(_vm.functionsDetail.text))]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\" >\r\n     <el-button\r\n         class=\"body-button body-button-color\"\r\n         size=\"medium\"\r\n         type=\"info\"\r\n         icon=\"el-icon-back\"\r\n         @click.prevent=\"$store.commit('setComponent','list')\">\r\n       Вернуться к списку\r\n     </el-button>\r\n     <el-card class=\"component-wrapper\" >\r\n       <h3>Создание новой заявки</h3>\r\n       <el-row :gutter=\"24\" class=\"mb15\">\r\n         <el-col :span=\"8\">\r\n           <label>Тип заявки</label>\r\n           <el-select v-model=\"queryData.type\" placeholder=\"Тип заявки\">\r\n             <el-option\r\n                 v-for=\"item in queryType\"\r\n                 :key=\"item.value\"\r\n                 :label=\"item.label\"\r\n                 :value=\"item.value\">\r\n             </el-option>\r\n           </el-select>\r\n         </el-col>\r\n         <el-col :span=\"8\">\r\n           <label>Тип доверенности</label>\r\n           <el-select v-model=\"queryData.documentType\" placeholder=\"Тип доверенности\" :class=\"errors.documentType ? 'invalid' : ''\">\r\n             <el-option\r\n                 v-for=\"item in queryTypeDocument\"\r\n                 :key=\"item.value\"\r\n                 :label=\"item.label\"\r\n                 :value=\"item.value\">\r\n             </el-option>\r\n           </el-select>\r\n           <small v-if=\"errors.documentType\">{{ errors.documentType}}</small>\r\n         </el-col>\r\n       </el-row>\r\n       <el-row :gutter=\"24\" class=\"mb15\">\r\n         <el-col :span=\"8\">\r\n           <label>Организация, выдающая доверенность</label>\r\n           <el-select\r\n               v-model=\"queryData.company\"\r\n               filterable\r\n               remote\r\n               reserve-keyword\r\n               placeholder=\"Укажите организацию\"\r\n               :remote-method=\"searchGiveCompany\"\r\n               :loading=\"loading\"\r\n               :disabled=\"queryData.type == 'personal'\"\r\n               @change=\"clearSelectSearch('company_search')\"\r\n               :ref=\"'company_search'\"\r\n               :class=\"errors.company ? 'invalid' : ''\">\r\n             <el-option\r\n                 v-for=\"item in company\"\r\n                 :key=\"item.value\"\r\n                 :label=\"item.label\"\r\n                 :value=\"item.value\">\r\n             </el-option>\r\n           </el-select>\r\n           <small v-if=\"errors.company\">{{ errors.company}}</small>\r\n         </el-col>\r\n       </el-row>\r\n       <el-row :gutter=\"24\" class=\"mb15\">\r\n         <el-col :span=\"8\">\r\n           <label>Кто получает доверенность</label>\r\n           <el-radio-group v-model=\"whoReceive\" @change=\"whoReceiveChange\" fill=\"#909399\">\r\n             <el-radio-button label=\"Пользователь\" ></el-radio-button>\r\n             <el-radio-button label=\"Организация\"  :disabled=\"queryData.type == 'personal'\"></el-radio-button>\r\n           </el-radio-group>\r\n         </el-col>\r\n         <el-col :span=\"8\">\r\n           <label>{{whoReceive==='Пользователь' ? 'Получает пользователь' : 'Получает организация'}}</label>\r\n           <el-select\r\n               v-model=\"queryData.users\"\r\n               filterable\r\n               remote\r\n               reserve-keyword\r\n               :placeholder=\"whoReceive==='Пользователь' ?  'Укажите ФИО' : 'Укажите организацию'\"\r\n               :remote-method=\"whoReceive==='Пользователь' ? searchReceiveUser : searchReceiveCompany\"\r\n               :loading=\"loading\"\r\n               :disabled=\"queryData.type == 'personal'\"\r\n               @change=\"clearSelectSearch('user_search')\"\r\n               :ref=\"'user_search'\"\r\n               :class=\"errors.users ? 'invalid' : ''\"\r\n               :multiple=\"isMultipleUser\">\r\n             <el-option\r\n                 v-for=\"item in users\"\r\n                 :key=\"item.value\"\r\n                 :label=\"item.label\"\r\n                 :value=\"item.value\">\r\n             </el-option>\r\n           </el-select>\r\n           <small v-if=\"errors.users\">{{ errors.users}}</small>\r\n         </el-col>\r\n       </el-row>\r\n       <el-row :gutter=\"24\" class=\"mb15\">\r\n         <el-col :span=\"8\" >\r\n           <label>Период действия документа</label>\r\n           <el-date-picker\r\n               :picker-options=\"{ firstDayOfWeek: 1 }\"\r\n               :class=\"errors.dateStart || errors.date  ? 'invalid' : ''\"\r\n               v-model=\"queryData.dateStart\"\r\n               type=\"date\"\r\n               format=\"dd.MM.yyyy\"\r\n               value-format=\"dd.MM.yyyy\"\r\n               placeholder=\"Начало действия документа\"\r\n           >\r\n           </el-date-picker>\r\n           <small v-if=\"errors.date\">{{ errors.date}}</small>\r\n           <small v-if=\"errors.dateStart\">{{ errors.dateStart}}</small>\r\n         </el-col>\r\n         <el-col :span=\"8\" >\r\n           <label><br /></label>\r\n           <el-date-picker\r\n               :picker-options=\"{ firstDayOfWeek: 1 }\"\r\n               :class=\"errors.dateFinal || errors.date ? 'invalid' : ''\"\r\n               v-model=\"queryData.dateFinal\"\r\n               type=\"date\"\r\n               format=\"dd.MM.yyyy\"\r\n               value-format=\"dd.MM.yyyy\"\r\n               placeholder=\"Окончание действия документа\"\r\n\r\n           >\r\n           </el-date-picker>\r\n           <small v-if=\"errors.dateFinal\">{{ errors.dateFinal}}</small>\r\n         </el-col>\r\n       </el-row>\r\n       <el-row :gutter=\"24\" class=\"mb15\">\r\n         <el-col :span=\"8\">\r\n           <label>Функционал</label>\r\n           <el-select\r\n               v-model=\"queryData.functions\"\r\n               placeholder=\"Функционал\"\r\n               multiple\r\n               :class=\"errors.functions ? 'invalid' : ''\"\r\n               ref=\"selectFunction\"\r\n           >\r\n             <el-option\r\n               :style=\"{width: $refs.selectFunction.$el.offsetWidth + 30 +'px', whiteSpace: 'normal', height: 'auto'}\"\r\n               v-for=\"item in functions\"\r\n               :key=\"item.value\"\r\n               :label=\"item.label\"\r\n               :value=\"item.value\"\r\n             >\r\n               <div\r\n                 v-on:mouseover=\"mouseOnFunctionOptions($event,true, item)\"\r\n                 v-on:mouseout=\"mouseOnFunctionOptions($event, false, '')\"\r\n               >\r\n               {{item.label}}\r\n             </div>\r\n             </el-option>\r\n           </el-select>\r\n           <small v-if=\"errors.functions\">{{ errors.functions}}</small>\r\n         </el-col>\r\n         <el-col :span=\"8\" ref=\"commentCol\">\r\n           <label>Комментарий</label>\r\n           <el-input type=\"textarea\" rows=\"1\" v-model=\"queryData.comment\" ></el-input>\r\n         </el-col>\r\n       </el-row>\r\n\r\n       <el-row :gutter=\"24\" class=\"mb15\">\r\n         <el-col :span=\"8\" ref=\"uploadCol\">\r\n           <label>Дополнительные файлы (прошлые доверенности НЕ прикладывать)</label>\r\n           <el-upload action=\"\" ref=\"upload\" :auto-upload=\"false\" >\r\n             <el-button size=\"medium\" icon=\"el-icon-download\" class=\"fluid-button\" type=\"info\" @click=\"errors.functions=null\"> Добавить файл</el-button>\r\n           </el-upload>\r\n         </el-col>\r\n         <el-col :span=\"8\">\r\n           <label><br/></label>\r\n         </el-col>\r\n         <el-col :span=\"8\">\r\n           <label><br/></label>\r\n           <el-button\r\n               @click=\"saveForm\"\r\n               :class=\"'fluid-button'\"\r\n               size=\"medium\"\r\n               icon=\"el-icon-upload\"\r\n               type=\"primary\"\r\n           >\r\n             Отправить заявку\r\n           </el-button>\r\n         </el-col>\r\n       </el-row>\r\n     </el-card>\r\n    <el-row :gutter=\"24\" class=\"mb15\">\r\n      <el-col :span=\"24\">\r\n        <br>\r\n        <el-link href=\"https://bitrix.bsi.local/knowledge/instrukcii/korportal/doverrennosti/\" target=\"_blank\"  type=\"danger\" icon=\"el-icon-reading\">Ознакомиться с инструкцией</el-link>\r\n      </el-col>\r\n    </el-row>\r\n    <div class=\"context-menu-wrapper\" v-if=\"functionsDetail.show\">\r\n      <div class=\"context-menu-element\" v-if=\"functionsDetail.note\"> <h4>Примечание</h4> {{functionsDetail.note}}</div>\r\n      <div class=\"context-menu-element\" v-if=\"functionsDetail.text\"> <h4>Описание  </h4> {{functionsDetail.text}}</div>\r\n    </div>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"requestAdd\",\r\n  data: function(){\r\n    return {\r\n      functionsDetail : {\r\n        show : false,\r\n        text : '',\r\n        note : '',\r\n      },\r\n      isMultipleUser  : false,\r\n      whoReceive      : 'Пользователь',\r\n      users           : [],\r\n      usersSelected   : [],\r\n      company         : [],\r\n      companySelected : [],\r\n      functions       : [],\r\n      errors          : {},\r\n      queryData       : {\r\n        type          : 'personal',//complex,\r\n        users         : null,\r\n        company       : '',\r\n        documentType  : 'special',\r\n        dateStart     : '',\r\n        dateFinal     : '',\r\n        functions     : [],\r\n        comment       : '',\r\n        file          : [],\r\n        isFile        : false,\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n  loading : {\r\n    get : function(){\r\n      return this.$store.getters.loading;\r\n    },\r\n    set : function(value){\r\n      this.$store.commit('setLoading',value)\r\n    }\r\n  },\r\n  queryTypeDocument() {\r\n    return this.$store.getters.queryTypeDocument;\r\n  },\r\n  queryType (){\r\n    return this.$store.getters.queryType;\r\n  },\r\n\r\n},\r\n  methods: {\r\n\r\n    mouseOnFunctionOptions(e,isShow, item){\r\n      if (isShow) {\r\n        this.functionsDetail.show = true;\r\n        this.functionsDetail.text = item.text;\r\n        this.functionsDetail.note = item.note;\r\n        this.$nextTick(() => {\r\n          let menu = document.querySelector('.context-menu-wrapper'),\r\n              clientClick = {\r\n                y : e.clientY,\r\n              };\r\n          menu.style.maxWidth = 45 + '%';\r\n          menu.style.position = 'relative';\r\n          menu.style.left = this.$refs.selectFunction.$el.offsetWidth  + 62 + 'px';\r\n          if (clientClick.y < this.$refs.selectFunction.$el.getBoundingClientRect().y)  menu.style.top =  - 426 - this.$refs.commentCol.$el.clientHeight + 68  - this.$refs.uploadCol.$el.clientHeight + 59 + 'px';\r\n            else  menu.style.top =  - 102 - this.$refs.commentCol.$el.clientHeight + 68 - this.$refs.uploadCol.$el.clientHeight + 59 + 'px';\r\n        });\r\n      } else {\r\n        this.functionsDetail.show = false;\r\n        this.functionsDetail.text = '';\r\n        this.functionsDetail.note = '';\r\n      }\r\n    },\r\n    clearSelectSearch : function(key){\r\n      this.$refs[key].query = '';\r\n    },\r\n    searchReceiveUser: function(query) {\r\n      if (query !== '')\r\n        this.search(query,'receiveUser');\r\n    },\r\n    searchReceiveCompany : function(query){\r\n      if (query !== '')\r\n        this.search(query,'receiveCompany');\r\n    },\r\n    searchGiveCompany : function(query){\r\n      if (query !== '')\r\n        this.search(query,'giveCompany');\r\n    },\r\n    search : async function(query,key){\r\n      let url,obj;\r\n      if(key == 'receiveUser'){\r\n        obj = 'users';\r\n        url = '/api/vicarious/user/search';\r\n      }\r\n      if(key == 'receiveCompany'){\r\n        obj = 'users';\r\n        url = '/api/vicarious/company/search';\r\n      }\r\n      if(key == 'giveCompany'){\r\n        obj = 'company';\r\n        url = '/api/vicarious/company/search';\r\n      }\r\n      let result = await this.$store.dispatch('query',{url : url,data :  {q : query}});\r\n      if(result.status == 'success'){\r\n        this[obj] = result.data;\r\n        // ниже код чтоб добавить в лист выбранные ранее позиции\r\n        this[obj + 'Selected'].forEach(el => {\r\n          let notExists = true\r\n          this[obj].forEach( item => item.value == el.value ? notExists = false : '');\r\n          notExists ? this[obj].push(el) : '';\r\n        });\r\n      }\r\n    },\r\n    getData : async function(){\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query',{url : '/api/vicarious/user/get-for-request',data : {}});\r\n      if(result.status == 'success'){\r\n        this.queryData.users = result.data.user.value;\r\n        this.users.push(result.data.user);\r\n        this.queryData.company = result.data.company.value;\r\n        this.company.push(result.data.company);\r\n      }\r\n      let functions = await this.$store.dispatch('query',{url : '/api/vicarious/function/list',data : {}});\r\n      if(functions.status == 'success'){\r\n          this.functions = functions.data.map(el => {\r\n            return {value : el.id[0].value, label : el.name[0].value, text : el.text[0].value, note : el.note[0].value};\r\n          })\r\n      }\r\n      this.queryData.dateStart = new Date().toLocaleDateString();\r\n      this.loading = false;\r\n    },\r\n    saveForm : async function(){\r\n      if (this.$refs.upload.uploadFiles.length > 0)  this.queryData.isFile = true;\r\n        else this.queryData.isFile = false;\r\n\r\n      this.errors = await this.$store.dispatch('formIsValid', {queryData : this.queryData});\r\n\r\n      if (Object.keys(this.errors).length === 0) {\r\n        this.loading = true;\r\n        let result,data = new FormData();\r\n        data.append('type',         this.queryData.type);\r\n        data.append('documentType', this.queryData.documentType);\r\n        data.append('dateStart',    this.queryData.dateStart);\r\n        data.append('dateFinal',    this.queryData.dateFinal);\r\n        data.append('comment',      this.queryData.comment);\r\n        data.append('company',      this.queryData.company);\r\n        this.whoReceive === 'Пользователь' ? data.append('receiver', 'individual') : data.append('receiver', 'entity');\r\n        for(let i = 0; i < this.$refs.upload.uploadFiles.length; i++){\r\n          data.append('file['+i+']', this.$refs.upload.uploadFiles[i].raw);\r\n        }\r\n        if(this.queryData.users instanceof Array){\r\n          for(let i = 0; i < this.queryData.users.length; i++){\r\n            data.append('users['+i+']', this.queryData.users[i]);\r\n          }\r\n        } else\r\n            data.append('users['+0+']', this.queryData.users);\r\n\r\n        for(let i = 0; i < this.queryData.functions.length;i++){\r\n          data.append('functions['+i+']', this.queryData.functions[i]);\r\n        }\r\n        result = await this.$store.dispatch('query',{url : '/api/vicarious/request/add', data : data, type : 'file'});\r\n        if(result.status == 'success') {\r\n          this.$store.commit('setMessage', {text: result.message,type : 'success'});\r\n          this.$store.commit('setComponent','list');\r\n        }else\r\n          this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n        this.loading = false;\r\n      }// if validate\r\n    },\r\n    whoReceiveChange(){\r\n      this.queryData.users = null;\r\n      this.users = [];\r\n      this.usersSelected = [];\r\n      this.errors.functions = null;\r\n    },\r\n  },\r\n  created() {\r\n    this.getData();\r\n  },\r\n  watch: {\r\n    'queryData.type' : function(value){\r\n      if(value === 'complex' && this.queryData.documentType !== 'notarial'){\r\n        this.queryData.users     = '';\r\n        this.isMultipleUser      = false;\r\n        this.usersSelected       = [];\r\n        this.queryData.company   = '';\r\n      }\r\n      if(value === 'complex' && this.queryData.documentType === 'notarial'){\r\n        this.queryData.users = '';\r\n        setTimeout(() => {this.queryData.users = []; this.isMultipleUser = true},0);\r\n        this.queryData.company = '';\r\n      }\r\n      if(value === 'personal'){\r\n        this.users            = [];\r\n        this.usersSelected    = [];\r\n        this.company          = [];\r\n        this.queryData.users  = '';\r\n        this.isMultipleUser   = false;\r\n        this.whoReceive       = 'Пользователь';\r\n        this.getData();\r\n      }\r\n    },\r\n    'queryData.users' : function(value){\r\n      this.errors.users = null;\r\n      if(value instanceof Array){\r\n        // ниже чтоб добавить в userSelected то что выбрано в элементе ввода и проверить что их не было ранее добавлено\r\n        this.users.forEach(el => {\r\n          if(value.indexOf(el.value) >= 0){\r\n            let notExists = true;\r\n            this.usersSelected.forEach(item => item.value === el.value ? notExists = false : '');\r\n            notExists ? this.usersSelected.push(el) : '';\r\n          }\r\n        });\r\n        //ниже чтоб убрать из userSelected тех кого удалили в элементе ввода\r\n        let arr = [];\r\n        this.usersSelected.forEach(el => value.indexOf(el.value) >=0 ? arr.push(el) : '');\r\n        this.usersSelected = arr;\r\n      }\r\n    },\r\n    'queryData.company' : function(value){\r\n      this.errors.company = null;\r\n      value ? this.companySelected.push(value) : '';\r\n    },\r\n    'queryData.functions' : function(){\r\n      this.errors.functions = null;\r\n    },\r\n    'queryData.comment' : function(){\r\n      this.errors.functions = null;\r\n    },\r\n    'queryData.documentType' : function(newValue,oldValue){\r\n      if (newValue === 'notarial' && this.queryData.type !== 'personal')  {\r\n        let old=this.queryData.users;\r\n        this.queryData.users = '';\r\n        setTimeout(() => {\r\n          old ? this.queryData.users = [old] : this.queryData.users = [];\r\n          this.isMultipleUser = true\r\n        },0);\r\n        old ? this.usersSelected = [old] : '';\r\n      }\r\n      if (oldValue === 'notarial' && this.queryData.type !== 'personal') {\r\n        let old = '';\r\n        this.queryData.users[0] ? old = this.queryData.users[0] : '';\r\n        this.queryData.users  = [];\r\n        setTimeout(() => {this.isMultipleUser = false; this.queryData.users = old;},0)\r\n        this.isMultipleUser   = false;\r\n        this.queryData.users  = old;\r\n        this.usersSelected    = [old];\r\n      }\r\n      this.errors.documentType = null;\r\n    },\r\n    'queryData.dateStart' : function(){\r\n      this.errors.date      = null;\r\n      this.errors.dateStart = null;\r\n    },\r\n    'queryData.dateFinal' : function(){\r\n      this.errors.date      = null;\r\n      this.errors.dateFinal = null;\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style >\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=aa64a9d8&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"type\":\"info\",\"icon\":\"el-icon-back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toBack.apply(null, arguments)}}},[_vm._v(\" Вернуться к просмотру \")]),_c('el-card',{staticClass:\"component-wrapper\"},[_c('h3',[_vm._v(\"Создание новой заявки\")]),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Тип заявки\")]),_c('el-select',{attrs:{\"placeholder\":\"Тип заявки\"},on:{\"change\":function($event){return _vm.queryTypeChange(_vm.queryData.type)}},model:{value:(_vm.queryData.type),callback:function ($$v) {_vm.$set(_vm.queryData, \"type\", $$v)},expression:\"queryData.type\"}},_vm._l((_vm.queryType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Тип доверенности\")]),_c('el-select',{attrs:{\"placeholder\":\"Тип доверенности\"},on:{\"change\":function($event){return _vm.queryTypeDocumentChange(_vm.queryData.documentType)}},model:{value:(_vm.queryData.documentType),callback:function ($$v) {_vm.$set(_vm.queryData, \"documentType\", $$v)},expression:\"queryData.documentType\"}},_vm._l((_vm.queryTypeDocument),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Организация, выдающая доверенность\")]),_c('el-select',{ref:'company_search',class:_vm.errors.company ? 'invalid' : '',attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"Укажите организацию\",\"remote-method\":_vm.searchGiveCompany,\"loading\":_vm.loading,\"disabled\":_vm.queryData.type == 'personal'},on:{\"change\":function($event){return _vm.clearSelectSearch('company_search')}},model:{value:(_vm.queryData.company),callback:function ($$v) {_vm.$set(_vm.queryData, \"company\", $$v)},expression:\"queryData.company\"}},_vm._l((_vm.company),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(_vm.errors.company)?_c('small',[_vm._v(_vm._s(_vm.errors.company))]):_vm._e()],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Кто получает доверенность\")]),_c('el-radio-group',{attrs:{\"fill\":\"#909399\"},on:{\"change\":_vm.whoReceiveChange},model:{value:(_vm.whoReceive),callback:function ($$v) {_vm.whoReceive=$$v},expression:\"whoReceive\"}},[_c('el-radio-button',{attrs:{\"label\":\"Пользователь\"}}),_c('el-radio-button',{attrs:{\"label\":\"Организация\",\"disabled\":_vm.queryData.type == 'personal'}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(_vm._s(_vm.whoReceive === 'Пользователь' ? 'Получает пользователь' : 'Получает организация'))]),_c('el-select',{ref:'user_search',class:_vm.errors.users ? 'invalid' : '',attrs:{\"multiple\":_vm.isMultipleUser,\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":_vm.whoReceive==='Пользователь' ?  'Укажите ФИО' : 'Укажите организацию',\"remote-method\":_vm.whoReceive==='Пользователь' ? _vm.searchReceiveUser : _vm.searchReceiveCompany,\"loading\":_vm.loading,\"disabled\":_vm.queryData.type == 'personal'},on:{\"change\":function($event){return _vm.clearSelectSearch('user_search')}},model:{value:(_vm.queryData.users),callback:function ($$v) {_vm.$set(_vm.queryData, \"users\", $$v)},expression:\"queryData.users\"}},_vm._l((_vm.users),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(_vm.errors.users)?_c('small',[_vm._v(_vm._s(_vm.errors.users))]):_vm._e()],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Период действия документа\")]),_c('el-date-picker',{class:_vm.errors.dateStart || _vm.errors.date  ? 'invalid' : '',attrs:{\"type\":\"date\",\"format\":\"dd.MM.yyyy\",\"value-format\":\"dd.MM.yyyy\",\"placeholder\":\"Начало действия документа\",\"picker-options\":{ firstDayOfWeek: 1 }},model:{value:(_vm.queryData.dateStart),callback:function ($$v) {_vm.$set(_vm.queryData, \"dateStart\", $$v)},expression:\"queryData.dateStart\"}}),(_vm.errors.date)?_c('small',[_vm._v(_vm._s(_vm.errors.date))]):_vm._e(),(_vm.errors.dateStart)?_c('small',[_vm._v(_vm._s(_vm.errors.dateStart))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_c('br')]),_c('el-date-picker',{class:_vm.errors.dateFinal || _vm.errors.date ? 'invalid' : '',attrs:{\"type\":\"date\",\"format\":\"dd.MM.yyyy\",\"value-format\":\"dd.MM.yyyy\",\"placeholder\":\"Окончание действия документа\",\"picker-options\":{ firstDayOfWeek: 1 }},model:{value:(_vm.queryData.dateFinal),callback:function ($$v) {_vm.$set(_vm.queryData, \"dateFinal\", $$v)},expression:\"queryData.dateFinal\"}}),(_vm.errors.dateFinal)?_c('small',[_vm._v(_vm._s(_vm.errors.dateFinal))]):_vm._e()],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Функционал\")]),_c('el-select',{ref:\"selectFunction\",class:_vm.errors.functions ? 'invalid' : '',attrs:{\"placeholder\":\"Функционал\",\"multiple\":\"\"},model:{value:(_vm.queryData.functions),callback:function ($$v) {_vm.$set(_vm.queryData, \"functions\", $$v)},expression:\"queryData.functions\"}},_vm._l((_vm.functions),function(item){return _c('el-option',{key:item.value,style:({width: _vm.$refs.selectFunction.$el.offsetWidth + 30 +'px', whiteSpace: 'normal', height: 'auto'}),attrs:{\"label\":item.label,\"value\":item.value}},[_c('div',{on:{\"mouseover\":function($event){return _vm.mouseOnFunctionOptions($event,true, item)},\"mouseout\":function($event){return _vm.mouseOnFunctionOptions($event, false, '')}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])])}),1),(_vm.errors.functions)?_c('small',[_vm._v(_vm._s(_vm.errors.functions))]):_vm._e()],1),_c('el-col',{ref:\"commentCol\",attrs:{\"span\":8}},[_c('label',[_vm._v(\"Комментарий\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"1\"},model:{value:(_vm.queryData.comment),callback:function ($$v) {_vm.$set(_vm.queryData, \"comment\", $$v)},expression:\"queryData.comment\"}})],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{ref:\"uploadCol\",attrs:{\"span\":8}},[_c('label',[_vm._v(\"Дополнительные файлы (прошлые доверенности НЕ прикладывать)\")]),_c('el-upload',{ref:\"upload\",attrs:{\"action\":\"\",\"auto-upload\":false,\"file-list\":_vm.queryData.file_exists,\"on-change\":_vm.fileChange,\"on-remove\":_vm.fileRemove}},[_c('el-button',{staticClass:\"fluid-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-download\",\"type\":\"info\"},on:{\"click\":function($event){_vm.errors.functions=null}}},[_vm._v(\" Добавить файл \")])],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_c('br')])]),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_c('br')]),_c('el-button',{class:'fluid-button',attrs:{\"size\":\"medium\",\"icon\":\"el-icon-upload\",\"type\":\"primary\"},on:{\"click\":_vm.saveForm}},[_vm._v(\" Отправить заявку \")])],1)],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":24}},[_c('br'),_c('el-link',{attrs:{\"href\":\"https://bitrix.bsi.local/knowledge/instrukcii/korportal/doverrennosti/\",\"target\":\"_blank\",\"type\":\"danger\",\"icon\":\"el-icon-reading\"}},[_vm._v(\"Ознакомиться с инструкцией\")])],1)],1),(_vm.functionsDetail.show)?_c('div',{staticClass:\"context-menu-wrapper\"},[(_vm.functionsDetail.note)?_c('div',{staticClass:\"context-menu-element\"},[_c('h4',[_vm._v(\"Примечание\")]),_vm._v(\" \"+_vm._s(_vm.functionsDetail.note))]):_vm._e(),(_vm.functionsDetail.text)?_c('div',{staticClass:\"context-menu-element\"},[_c('h4',[_vm._v(\"Описание \")]),_vm._v(\" \"+_vm._s(_vm.functionsDetail.text))]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n    <el-button\r\n        class=\"body-button body-button-color\"\r\n        size=\"medium\"\r\n        type=\"info\"\r\n        icon=\"el-icon-back\"\r\n        @click.prevent=\"toBack\">\r\n      Вернуться к просмотру\r\n    </el-button>\r\n    <el-card class=\"component-wrapper\" >\r\n      <h3>Создание новой заявки</h3>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Тип заявки</label>\r\n          <el-select\r\n              v-model=\"queryData.type\"\r\n              placeholder=\"Тип заявки\"\r\n              @change=\"queryTypeChange(queryData.type)\">\r\n            <el-option\r\n                v-for=\"item in queryType\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label>Тип доверенности</label>\r\n          <el-select\r\n              v-model=\"queryData.documentType\"\r\n              placeholder=\"Тип доверенности\"\r\n              @change=\"queryTypeDocumentChange(queryData.documentType)\">\r\n            <el-option\r\n                v-for=\"item in queryTypeDocument\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Организация, выдающая доверенность</label>\r\n          <el-select\r\n              v-model=\"queryData.company\"\r\n              filterable\r\n              remote\r\n              reserve-keyword\r\n              placeholder=\"Укажите организацию\"\r\n              :remote-method=\"searchGiveCompany\"\r\n              :loading=\"loading\"\r\n              :disabled=\"queryData.type == 'personal'\"\r\n              @change=\"clearSelectSearch('company_search')\"\r\n              :ref=\"'company_search'\"\r\n              :class=\"errors.company ? 'invalid' : ''\"\r\n          >\r\n            <el-option\r\n                v-for=\"item in company\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n          <small v-if=\"errors.company\">{{ errors.company }}</small>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Кто получает доверенность</label>\r\n          <el-radio-group v-model=\"whoReceive\" @change=\"whoReceiveChange\" fill=\"#909399\">\r\n            <el-radio-button label=\"Пользователь\"></el-radio-button>\r\n            <el-radio-button label=\"Организация\" :disabled=\"queryData.type == 'personal'\"></el-radio-button>\r\n          </el-radio-group>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label>{{ whoReceive === 'Пользователь' ? 'Получает пользователь' : 'Получает организация' }}</label>\r\n          <el-select\r\n              v-model=\"queryData.users\"\r\n              :multiple=\"isMultipleUser\"\r\n              filterable\r\n              remote\r\n              reserve-keyword\r\n              :placeholder=\"whoReceive==='Пользователь' ?  'Укажите ФИО' : 'Укажите организацию'\"\r\n              :remote-method=\"whoReceive==='Пользователь' ? searchReceiveUser : searchReceiveCompany\"\r\n              :loading=\"loading\"\r\n              :disabled=\"queryData.type == 'personal'\"\r\n              @change=\"clearSelectSearch('user_search')\"\r\n              :ref=\" 'user_search'\"\r\n              :class=\"errors.users ? 'invalid' : ''\"\r\n          >\r\n            <el-option\r\n                v-for=\"item in users\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n          <small v-if=\"errors.users\">{{ errors.users }}</small>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Период действия документа</label>\r\n          <el-date-picker\r\n              :class=\"errors.dateStart || errors.date  ? 'invalid' : ''\"\r\n              v-model=\"queryData.dateStart\"\r\n              type=\"date\"\r\n              format=\"dd.MM.yyyy\"\r\n              value-format=\"dd.MM.yyyy\"\r\n              placeholder=\"Начало действия документа\"\r\n              :picker-options=\"{ firstDayOfWeek: 1 }\"\r\n          >\r\n          </el-date-picker>\r\n          <small v-if=\"errors.date\">{{ errors.date }}</small>\r\n          <small v-if=\"errors.dateStart\">{{ errors.dateStart }}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label><br/></label>\r\n          <el-date-picker\r\n              :class=\"errors.dateFinal || errors.date ? 'invalid' : ''\"\r\n              v-model=\"queryData.dateFinal\"\r\n              type=\"date\"\r\n              format=\"dd.MM.yyyy\"\r\n              value-format=\"dd.MM.yyyy\"\r\n              placeholder=\"Окончание действия документа\"\r\n              :picker-options=\"{ firstDayOfWeek: 1 }\"\r\n          >\r\n          </el-date-picker>\r\n          <small v-if=\"errors.dateFinal\">{{ errors.dateFinal }}</small>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Функционал</label>\r\n          <el-select\r\n              v-model=\"queryData.functions\"\r\n              placeholder=\"Функционал\"\r\n              multiple\r\n              :class=\"errors.functions ? 'invalid' : ''\"\r\n              ref=\"selectFunction\"\r\n          >\r\n            <el-option\r\n                :style=\"{width: $refs.selectFunction.$el.offsetWidth + 30 +'px', whiteSpace: 'normal', height: 'auto'}\"\r\n                v-for=\"item in functions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n            >\r\n               <div\r\n                   v-on:mouseover=\"mouseOnFunctionOptions($event,true, item)\"\r\n                   v-on:mouseout=\"mouseOnFunctionOptions($event, false, '')\"\r\n               >\r\n               {{item.label}}\r\n             </div>\r\n            </el-option>\r\n          </el-select>\r\n          <small v-if=\"errors.functions\">{{ errors.functions }}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\" ref=\"commentCol\">\r\n          <label>Комментарий</label>\r\n          <el-input\r\n              type=\"textarea\"\r\n              rows=\"1\"\r\n              v-model=\"queryData.comment\"\r\n              >\r\n          </el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\" ref=\"uploadCol\">\r\n          <label>Дополнительные файлы (прошлые доверенности НЕ прикладывать)</label>\r\n          <el-upload\r\n              action=\"\"\r\n              ref=\"upload\"\r\n              :auto-upload=\"false\"\r\n              :file-list=\"queryData.file_exists\"\r\n              :on-change=\"fileChange\"\r\n              :on-remove=\"fileRemove\">\r\n            <el-button\r\n                size=\"medium\"\r\n                icon=\"el-icon-download\"\r\n                class=\"fluid-button\"\r\n                type=\"info\"\r\n                @click=\"errors.functions=null\"\r\n            >\r\n              Добавить файл\r\n            </el-button>\r\n          </el-upload>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label><br/></label>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label><br/></label>\r\n          <el-button\r\n              @click=\"saveForm\"\r\n              size=\"medium\"\r\n              icon=\"el-icon-upload\"\r\n              :class=\"'fluid-button'\"\r\n              type=\"primary\">\r\n            Отправить заявку\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n    <el-row :gutter=\"24\" class=\"mb15\">\r\n      <el-col :span=\"24\">\r\n        <br>\r\n        <el-link href=\"https://bitrix.bsi.local/knowledge/instrukcii/korportal/doverrennosti/\" target=\"_blank\"  type=\"danger\" icon=\"el-icon-reading\">Ознакомиться с инструкцией</el-link>\r\n      </el-col>\r\n    </el-row>\r\n    <div class=\"context-menu-wrapper\" v-if=\"functionsDetail.show\">\r\n      <div class=\"context-menu-element\" v-if=\"functionsDetail.note\"> <h4>Примечание</h4> {{functionsDetail.note}}</div>\r\n      <div class=\"context-menu-element\" v-if=\"functionsDetail.text\"> <h4>Описание  </h4> {{functionsDetail.text}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"requestEdit\",\r\n  data(){\r\n    return {\r\n      functionsDetail : {\r\n        show : false,\r\n        text : '',\r\n        note : '',\r\n      },\r\n      oldDocumentTypeValue     : '',\r\n      isMultipleUser           : false,\r\n      whoReceive               : '',\r\n      users                    : [],\r\n      usersSelected            : [],\r\n      company                  : [],\r\n      companySelected          : [],\r\n      functions                : [],\r\n      errors                   : {},\r\n      queryData       : {\r\n        type          : '',\r\n        users         : null,\r\n        company       : '',\r\n        documentType  : '',\r\n        dateStart     : '',\r\n        dateFinal     : '',\r\n        functions     : [],\r\n        comment       : '',\r\n        file          : [],\r\n        file_save     : [],\r\n        file_exists   : [],\r\n        isFile        : false,\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    loading: {\r\n      get: function () {\r\n        return this.$store.getters.loading;\r\n      },\r\n      set: function (value) {\r\n        this.$store.commit('setLoading', value)\r\n      }\r\n    },\r\n    queryTypeDocument() {\r\n      return this.$store.getters.queryTypeDocument;\r\n    },\r\n    queryType (){\r\n      return this.$store.getters.queryType;\r\n    },\r\n    requestId() {\r\n      return this.$store.getters.requestId;\r\n    },\r\n  },\r\n  methods: {\r\n    mouseOnFunctionOptions(e,isShow, item){\r\n      if (isShow) {\r\n        this.functionsDetail.show = true;\r\n        this.functionsDetail.text = item.text;\r\n        this.functionsDetail.note = item.note;\r\n        this.$nextTick(() => {\r\n          let menu = document.querySelector('.context-menu-wrapper'),\r\n              clientClick = {\r\n                y : e.clientY,\r\n              };\r\n          menu.style.maxWidth = 45 + '%';\r\n          menu.style.position = 'relative';\r\n          menu.style.left = this.$refs.selectFunction.$el.offsetWidth  + 60 + 'px';\r\n          if (clientClick.y < this.$refs.selectFunction.$el.getBoundingClientRect().y)  menu.style.top =  - 426 - this.$refs.commentCol.$el.clientHeight + 68  - this.$refs.uploadCol.$el.clientHeight + 59 + 'px';\r\n          else  menu.style.top =  - 102 - this.$refs.commentCol.$el.clientHeight + 68 - this.$refs.uploadCol.$el.clientHeight + 59 + 'px';\r\n        });\r\n      } else {\r\n        this.functionsDetail.show = false;\r\n        this.functionsDetail.text = '';\r\n        this.functionsDetail.note = '';\r\n      }\r\n    },\r\n    toBack(){\r\n      this.$store.commit('setPage', this.$store.getters.previousPage);\r\n\r\n      this.$store.commit('setComponent', 'detail');\r\n    },\r\n    clearSelectSearch(key) {\r\n      this.$refs[key].query = '';\r\n      this.$forceUpdate()\r\n    },\r\n    searchReceiveUser(query) {\r\n      if (query !== '')\r\n        this.search(query, 'receiveUser');\r\n    },\r\n    searchReceiveCompany(query) {\r\n      if (query !== '')\r\n        this.search(query, 'receiveCompany');\r\n    },\r\n    searchGiveCompany(query) {\r\n      if (query !== '')\r\n        this.search(query, 'giveCompany');\r\n    },\r\n    async search(query, key) {\r\n      let url, obj;\r\n      if (key == 'receiveUser') {\r\n        obj = 'users';\r\n        url = '/api/vicarious/user/search';\r\n      }\r\n      if (key == 'receiveCompany') {\r\n        obj = 'users';\r\n        url = '/api/vicarious/company/search';\r\n      }\r\n      if (key == 'giveCompany') {\r\n        obj = 'company';\r\n        url = '/api/vicarious/company/search';\r\n      }\r\n      let result = await this.$store.dispatch('query', {url: url, data: {q: query}});\r\n      if (result.status == 'success') {\r\n        this[obj] = result.data;\r\n        // ниже код чтоб добавить в лист выбранные ранее позиции\r\n        this[obj + 'Selected'].forEach(el => {\r\n          let notExists = true\r\n          this[obj].forEach(item => item.value == el.value ? notExists = false : '');\r\n          notExists ? this[obj].push(el) : '';\r\n        });\r\n      }\r\n    },\r\n    async getSaveData() {\r\n      this.loading = true;\r\n      this.company = [];\r\n      let functions = await this.$store.dispatch('query', {url: '/api/vicarious/function/list', data: {}});\r\n      if (functions.status == 'success') {\r\n        this.functions = functions.data.map(el => {\r\n          return {value: el.id[0].value, label: el.name[0].value, text : el.text[0].value, note : el.note[0].value};\r\n        })\r\n      }\r\n      let result = await this.$store.dispatch('query', {\r\n        url   : '/api/vicarious/request/get-edit',\r\n        data  : {id: this.requestId}\r\n      });\r\n      if (result.status == 'success') {\r\n        result.data.receiver === 'individual' ? this.whoReceive = 'Пользователь' : this.whoReceive = 'Организация'\r\n        this.users = result.data.users;\r\n        this.company.push(result.data.company);\r\n        let currentUsers = null;\r\n        if (result.data.documentType === 'notarial' && result.data.type !== 'personal') {\r\n          this.isMultipleUser = true;\r\n          currentUsers = result.data.users.map(el => {return el.value});\r\n        } else {\r\n          this.isMultipleUser = false;\r\n          currentUsers = result.data.users.length > 0 ? result.data.users[0].value : '' ;\r\n        }\r\n        let dateStartlOld    = new Date(result.data.date_start.split('.').reverse().join('.'));\r\n        let secondStartOld   = dateStartlOld.getTime();\r\n        let dateFinalOld     = new Date(result.data.date_final.split('.').reverse().join('.'));\r\n        let secondFinalOld   = dateFinalOld.getTime();\r\n        let delta            = secondFinalOld - secondStartOld;\r\n        let secondStartNew   = secondFinalOld + 3600*24*1000; // добавил сутки\r\n        let secondFinalNew   = secondStartNew + delta;\r\n        let dateStartNew     = new Date(secondStartNew).toLocaleDateString();\r\n        let dateFinalNew     = new Date(secondFinalNew).toLocaleDateString();\r\n\r\n        this.queryData = {\r\n          type            : result.data.type,\r\n          company         : result.data.company.value,\r\n          documentType    : result.data.document_type == 'only' ? 'special' : result.data.document_type,\r\n          users           : currentUsers,\r\n          dateStart       : dateStartNew,\r\n          dateFinal       : dateFinalNew,\r\n          functions       : result.data.functions,\r\n          comment         : result.data.comment,\r\n          file_save       : result.data.files,\r\n          file_exists     : result.data.files,// в случае если ранее приложенные файлы нужны\r\n          file            : [],\r\n        }\r\n         if (result.data.type === 'personal') this.getPersonalData();\r\n      } else\r\n        this.$store.commit('setMessage', {text: result.message, header: 'Возникла проблема!', type: 'error'});\r\n      this.loading = false;\r\n    },\r\n    async getPersonalData() {\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query', {url: '/api/vicarious/user/get-for-request', data: {}});\r\n      if (result.status == 'success') {\r\n        if (result.data.user.value){\r\n          this.queryData.users = result.data.user.value;\r\n          this.users = [];\r\n          this.users.push(result.data.user);\r\n        }\r\n        this.queryData.company = result.data.company.value;\r\n        this.company = [];\r\n        this.company.push(result.data.company);\r\n      }\r\n      this.loading = false;\r\n    },\r\n    fileChange(file, fileList) {\r\n      this.queryData.file.push(file.raw)\r\n    },\r\n    fileRemove(file) {\r\n      this.queryData.file_save = this.queryData.file_save.filter(el => el.uid !== file.uid)\r\n      this.queryData.file = this.queryData.file.filter(el => el.uid !== file.uid)\r\n    },\r\n    async saveForm() {\r\n      if (this.$refs.upload.uploadFiles.length > 0)  this.queryData.isFile = true;\r\n      else this.queryData.isFile = false;\r\n\r\n      this.errors = await this.$store.dispatch('formIsValid', {queryData : this.queryData});\r\n      if (Object.keys(this.errors).length === 0) {\r\n          let result;\r\n          this.loading = true;\r\n          if (this.queryData.file.length) {\r\n            let data = new FormData();\r\n            data.append('type',         this.queryData.type);\r\n            data.append('documentType', this.queryData.documentType);\r\n            data.append('dateStart',    this.queryData.dateStart);\r\n            data.append('dateFinal',    this.queryData.dateFinal);\r\n            data.append('comment',      this.queryData.comment);\r\n            data.append('company',      this.queryData.company);\r\n            this.whoReceive === 'Пользователь' ? data.append('receiver', 'individual') : data.append('receiver', 'entity');\r\n\r\n            for (let i = 0; i < this.queryData.file.length; i++) {\r\n              data.append('file[' + i + ']', this.queryData.file[i]);\r\n            }\r\n            for (let i = 0; i < this.queryData.file_save.length; i++) {\r\n              data.append('file_save[' + i + ']', this.queryData.file_save[i].id);\r\n            }\r\n\r\n            if (this.queryData.users instanceof Array) {\r\n              for (let i = 0; i < this.queryData.users.length; i++) {\r\n                data.append('users[' + i + ']', this.queryData.users[i]);\r\n              }\r\n            } else\r\n              data.append('users['+0+']', this.queryData.users);\r\n            for (let i = 0; i < this.queryData.functions.length; i++) {\r\n              data.append('functions[' + i + ']', this.queryData.functions[i]);\r\n            }\r\n            result = await this.$store.dispatch('query', {\r\n              url   : '/api/vicarious/request/add',\r\n              data  : data,\r\n              type  : 'file'\r\n            });\r\n          } else {\r\n            this.queryData.file_save = this.queryData.file_save.map(el => el.id);\r\n            this.whoReceive === 'Пользователь' ? this.queryData.receiver = 'individual' : this.queryData.receiver = 'entity';\r\n            result = await this.$store.dispatch('query', {\r\n              url   : '/api/vicarious/request/add',\r\n              data  : this.queryData\r\n            });\r\n          }\r\n          if (result.status == 'success') {\r\n            this.$store.commit('setMessage', {text: result.message, header: 'Успешно!', type: 'success'});\r\n          } else\r\n            this.$store.commit('setMessage', {text: result.message, header: 'Возникла проблема!', type: 'error'});\r\n          this.loading = false;\r\n        this.$store.commit('setPage', 'request')\r\n        this.$store.commit('setComponent','list');\r\n      }//if isValid\r\n    },\r\n    queryTypeChange(value){\r\n      if (value === 'complex' && this.queryData.documentType !== 'notarial') {\r\n        this.queryData.users     = '';\r\n        this.isMultipleUser      = false;\r\n        this.usersSelected       = [];\r\n        this.queryData.company   =  '';\r\n      }\r\n      if (value === 'complex' && this.queryData.documentType === 'notarial') {\r\n        this.queryData.users     = '';\r\n        setTimeout(() => {\r\n          this.queryData.users   = [];\r\n          this.isMultipleUser    = true\r\n        }, 0);\r\n        this.queryData.company = '';\r\n      }\r\n      if (value === 'personal') {\r\n        this.whoReceive         = 'Пользователь';\r\n        this.users              = [];\r\n        this.usersSelected      = [];\r\n        this.company            = [];\r\n        this.queryData.users    = '';\r\n        this.isMultipleUser     = false;\r\n        this.getPersonalData();\r\n      }\r\n    },\r\n    queryTypeDocumentChange(newValue){\r\n      let oldValue=this.oldDocumentTypeValue;\r\n      if (newValue === 'notarial' && this.queryData.type !== 'personal') {\r\n        let old = this.queryData.users;\r\n        this.queryData.users = '';\r\n        setTimeout(() => {\r\n          old ? this.queryData.users = [old] : this.queryData.users = [];\r\n          this.isMultipleUser = true\r\n        }, 0);\r\n        old ? this.usersSelected = [old] : ''\r\n      }\r\n      if (oldValue === 'notarial' && this.queryData.type !== 'personal') {\r\n        let old;\r\n        this.queryData.users[0] ? old = this.queryData.users[0] : '';\r\n        this.queryData.users    = [];\r\n        setTimeout(() => {\r\n          this.isMultipleUser   = false;\r\n          this.queryData.users  = old;\r\n        }, 0)\r\n        this.usersSelected      = [old];\r\n      }\r\n    },\r\n    whoReceiveChange(){\r\n      this.queryData.users      = null;\r\n      this.users                = [];\r\n      this.usersSelected        = [];\r\n      this.errors.functions     = null;\r\n    },\r\n  },\r\n  created() {\r\n    this.getSaveData();\r\n  },\r\n// при создании формы идет получение данных и меняются значения перменных и это приводит к ненужной сработке вотчеров.\r\n// поэтому вместо вотчеров были использованы методы change у этих selectов.\r\n  watch: {\r\n    'queryData.documentType': function (oldValue) {\r\n      this.oldDocumentTypeValue = oldValue; // старое значение нужно чтоб потом правильно принимать решение в методе change у этого selecta\r\n      this.errors.documentType  = null;\r\n    },\r\n    'queryData.users': function (value) {\r\n      this.errors.users = null;\r\n      if (value instanceof Array) {\r\n        // ниже чтоб добавить в userSelected то что выбрано в элементе ввода и проверить что их не было ранее добавлено\r\n        this.users.forEach(el => {\r\n          if (value.indexOf(el.value) >= 0) {\r\n            let notExists = true;\r\n            this.usersSelected.forEach(item => item.value === el.value ? notExists = false : '');\r\n            notExists ? this.usersSelected.push(el) : '';\r\n          }\r\n        });\r\n        //ниже чтоб убрать из userSelected тех кого удалили в элементе ввода\r\n        let arr = [];\r\n        this.usersSelected.forEach(el => value.indexOf(el.value) >= 0 ? arr.push(el) : '');\r\n        this.usersSelected = arr;\r\n      }\r\n    },\r\n    'queryData.company': function (value) {\r\n      this.errors.company = null;\r\n      value ? this.companySelected.push(value) : '';\r\n    },\r\n    'queryData.functions': function () {\r\n      this.errors.functions = null;\r\n    },\r\n    'queryData.comment' : function(){\r\n      this.errors.functions = null;\r\n    },\r\n    'queryData.dateStart': function () {\r\n      this.errors.date      = null;\r\n      this.errors.dateStart = null;\r\n    },\r\n    'queryData.dateFinal': function () {\r\n      this.errors.date      = null;\r\n      this.errors.dateFinal = null;\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addByExist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addByExist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addByExist.vue?vue&type=template&id=c44a15f0&\"\nimport script from \"./addByExist.vue?vue&type=script&lang=js&\"\nexport * from \"./addByExist.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[(_vm.gridReady)?_c('Grid',{directives:[{name:\"event-bus\",rawName:\"v-event-bus:saveVisibleColumn\",value:(_vm.saveVisibleColumn),expression:\"saveVisibleColumn\",arg:\"saveVisibleColumn\"},{name:\"event-bus\",rawName:\"v-event-bus:saveOrderColumn\",value:(_vm.saveOrderColumn),expression:\"saveOrderColumn\",arg:\"saveOrderColumn\"},{name:\"event-bus\",rawName:\"v-event-bus:saveWidthColumn\",value:(_vm.saveWidthColumn),expression:\"saveWidthColumn\",arg:\"saveWidthColumn\"},{name:\"event-bus\",rawName:\"v-event-bus:onSort\",value:(_vm.onSort),expression:\"onSort\",arg:\"onSort\"},{name:\"event-bus\",rawName:\"v-event-bus:changeFilterProfile\",value:(_vm.changeFilterProfile),expression:\"changeFilterProfile\",arg:\"changeFilterProfile\"}],attrs:{\"name\":\"request\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-loading=\"loading\">\r\n    <Grid\r\n        v-if=\"gridReady\"\r\n        name=\"request\"\r\n        v-event-bus:saveVisibleColumn=\"saveVisibleColumn\"\r\n        v-event-bus:saveOrderColumn=\"saveOrderColumn\"\r\n        v-event-bus:saveWidthColumn=\"saveWidthColumn\"\r\n        v-event-bus:onSort=\"onSort\"\r\n        v-event-bus:changeFilterProfile=\"changeFilterProfile\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name : 'requestList',\r\n  data : function (){\r\n    return {\r\n      grid       : {\r\n        filter      : {\r\n          data         : {\r\n            id              : {\r\n              show : false,\r\n              type : 'number',\r\n              name : 'ID',\r\n            },\r\n            usersIndividual : {\r\n              type      : 'searchlist',\r\n              name      : 'Доверенное лицо',\r\n              multiple  : true,\r\n              query     : async function (data){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/user/search',\r\n                  data  :  {q : data}\r\n                });\r\n                if(result.status == 'success') return result.data\r\n              }.bind(this),\r\n\r\n              // ниже строчка которая нужна для грида в компаненте фильтрации в searchlist в методе search взамен  await this.value.query(query);\r\n              // await this.value.query(query) ? this.value.option = await this.value.query(query) : '';\r\n\r\n              // ниже код который был бы нужен если не менять в гриде\r\n              // domain    : this.$store.getters.domain,\r\n              // query     : async function(data){\r\n              //    let query = await fetch(this.domain+'/api/vicarious/user/search', {\r\n              //      method: 'post',\r\n              //      headers: {'Content-Type' : 'application/json;charset=utf-8'},\r\n              //      body: JSON.stringify({q : data, token : window.token})\r\n              //    });\r\n              //    let result = await query.json();\r\n              //    if(result.status == 'success')\r\n              //      this.option = result.data;\r\n              // }\r\n            },\r\n            usersEntity     : {\r\n              show      : false,\r\n              type      : 'searchlist',\r\n              name      : 'Доверенная организация',\r\n              multiple  : true,\r\n              query     : async function (data){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/company/search',\r\n                  data  :  {q : data}\r\n                });\r\n                if(result.status == 'success') return result.data\r\n              }.bind(this),\r\n            },\r\n            type            : {\r\n              show : false,\r\n              type     : 'list',\r\n              name     : 'Тип заявки',\r\n              multiple : true,\r\n              option   : this.$store.getters.queryType,\r\n            },\r\n            document_type   : {\r\n              show : false,\r\n              type     : 'list',\r\n              name     : 'Тип доверенности',\r\n              multiple : true,\r\n              option   : this.$store.getters.queryTypeDocument,\r\n            },\r\n            needApprove     : {\r\n              type     : 'list',\r\n              name     : 'Согласование',\r\n              multiple : false,\r\n              option   : [{value : [1], label : 'Требует моего согласования'}, {value : [0], label : 'Не требует моего согласования'}],\r\n            },\r\n            needAction      : {\r\n              type     : 'list',\r\n              name     : 'Управление заявкой',\r\n              multiple : false,\r\n              option   : [{value : [1], label : 'Требует моего участия'}, {value : [0], label : 'Не требует моего участия'}],\r\n            },\r\n            creator         : {\r\n              show      : false,\r\n              type      : 'searchlist',\r\n              name      : 'Заказчик',\r\n              multiple  : true,\r\n              query     : async function (data){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/user/search',\r\n                  data  :  {q : data}\r\n                });\r\n                if(result.status == 'success') return result.data\r\n              }.bind(this),\r\n            },\r\n            created_at      : {\r\n              show : false,\r\n              type : 'date',\r\n              name : 'Дата создания заявки',\r\n            },\r\n            responsible     : {\r\n              show : false,\r\n              type      : 'searchlist',\r\n              name      : 'Ответственный',\r\n              multiple  : true,\r\n              query     : async function (data){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/user/search',\r\n                  data  :  {q : data}\r\n                });\r\n                if(result.status == 'success') return result.data\r\n              }.bind(this),\r\n            },\r\n            responsible_date: {\r\n              show : false,\r\n              type : 'date',\r\n              name : 'Дата обработки заявки',\r\n            },\r\n            status          : {\r\n              type     : 'list',\r\n              name     : 'Статус',\r\n              multiple : true,\r\n              option   : this.$store.getters.statusList,\r\n            },\r\n            signature          : {\r\n              type     : 'list',\r\n              name     : 'Заявка на подписании',\r\n              multiple : true,\r\n              option   : [\r\n                { value : '0',     label : 'Заявки НЕ на подписании'},\r\n                { value : '1',     label : 'Заявки на подписании'},\r\n              ],\r\n            },\r\n\r\n            company_id      : {\r\n              type      : 'searchlist',\r\n              name      : 'Организация',\r\n              multiple  : true,\r\n              query     : async function (data){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/company/search',\r\n                  data  :  {q : data}\r\n                });\r\n                if(result.status == 'success') return result.data\r\n              }.bind(this),\r\n            },\r\n            date_start      : {\r\n              show : false,\r\n              type : 'date',\r\n              name : 'Дата начала действия документа',\r\n            },\r\n            date_final      : {\r\n              show : false,\r\n              type : 'date',\r\n              name : 'Дата окончания действия документа',\r\n            },\r\n            functions       : {\r\n              show      : false,\r\n              type      : 'searchlist',\r\n              name      : 'Функционал документа',\r\n              multiple  : true,\r\n              query     : async function (data){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/function/search',\r\n                  data  :  {q : data}\r\n                });\r\n                if(result.status == 'success') {\r\n                   let functions = result.data.map(el => {\r\n                     return {value : el.value, label : el.label};\r\n                   })\r\n                  return functions\r\n                }\r\n              }.bind(this),\r\n              focus     : async function (){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/function/list',\r\n                  data  :  {sort: {name: \"sort\", order: \"asc\"}}\r\n                });\r\n                if(result.status == 'success') {\r\n                  let functions = result.data.map(el => {\r\n                    return {value : el.id[0].value, label : el.name[0].value};\r\n                  })\r\n                  return functions\r\n                }\r\n              }.bind(this),\r\n\r\n            },\r\n          },\r\n          profiles     : [],\r\n          showProfiles : true,\r\n          filter       : function(data){\r\n            this.filterData = data;\r\n            this.$store.commit('setPaginationPage', 1);\r\n            this.getData();\r\n          }.bind(this),\r\n          clear        : function(){\r\n            this.filterData = {};\r\n            this.getData();\r\n          }.bind(this),\r\n        },\r\n        context     : [\r\n          {\r\n            name      : 'Открыть заявку',\r\n            function  : row => {\r\n              this.$store.commit('setRequestId', row.id[0].value)\r\n              this.$store.commit('setComponent', 'detail');\r\n            }\r\n          },\r\n          {\r\n            name      : 'Копировать заявку',\r\n            function  :  row => {\r\n              this.$store.commit('setRequestId', row.id[0].value);\r\n                this.$confirm(`Вы уверены, что хотите создать новую заявку на основе данных заявки с ID - ${row.id[0].value} ?`).then(() => {\r\n                  this.$store.commit('setPage', 'request');\r\n                  this.$store.commit('setComponent', 'addByExist');\r\n                }).catch(() => {this.$store.commit('setRequestId', null);});\r\n\r\n            }\r\n          },\r\n        ],\r\n        pagination  : {\r\n          show        : 'full',\r\n          defaultSize : 10,\r\n          page        : 1,\r\n          sizes       : [10,20,50],\r\n          changeSize : value => {\r\n            this.$store.commit('setPaginationSize', value);\r\n            this.$grid.commit('normalizePagination', {name : this.grid.name, data : {pagination : {defaultSize : value}}})\r\n            this.getData();\r\n          },\r\n          changePage : value => {\r\n            this.$store.commit('setPaginationPage', value);\r\n            this.getData();\r\n          },\r\n        },\r\n        header      : {\r\n          id               : {\r\n            name        : 'ID',\r\n            child       : ['users'],\r\n            width       : 100,\r\n            contentSort : true,\r\n          },\r\n          users            : {\r\n            name  : 'Пользователи документа',\r\n            width : 300,\r\n          },\r\n          company          : {\r\n            name  : 'Организация',\r\n            width : 300,\r\n          },\r\n          functions        : {\r\n            name  : 'Функционал документа',\r\n            width : 300,\r\n          },\r\n          status           : {\r\n            name        : 'Статус',\r\n            width       : 150,\r\n            contentSort : true,\r\n          },\r\n          date_start       : {\r\n            name  : 'Дата начала действия документа',\r\n            width : 300,\r\n            contentSort : true,\r\n          },\r\n          date_final       : {\r\n            name  : 'Дата окончания действия документа',\r\n            width : 300,\r\n            contentSort : true,\r\n          },\r\n          created_at       : {\r\n            name  : 'Дата создания заявки',\r\n            width : 200,\r\n            contentSort : true,\r\n          },\r\n          responsible_date : {\r\n            name  : 'Дата обработки заявки',\r\n            width : 200,\r\n            contentSort : true,\r\n          },\r\n          type             : {\r\n            name  : 'Тип заявки',\r\n            width : 200,\r\n            contentSort : true,\r\n          },\r\n          document_type    : {\r\n            name  : 'Тип доверенности',\r\n            width : 200,\r\n            contentSort : true,\r\n          },\r\n          creator          : {\r\n            name  : 'Заказчик',\r\n            width : 300,\r\n          },\r\n          responsible      : {\r\n            name  : 'Ответственный',\r\n            width : 300,\r\n          },\r\n          comment          : {\r\n            name  : 'Комментарии',\r\n            width : 700,\r\n          },\r\n          files            : {\r\n            name  : 'Дополнительные файлы',\r\n            width : 300,\r\n          },\r\n        },\r\n        elements    : [],\r\n        name        : 'request'\r\n      },\r\n\r\n      filterData : {},\r\n      sort       : {\r\n        name : 'id',\r\n        order : 'desc',\r\n    },\r\n      gridReady  : false,\r\n    };\r\n  },\r\n  computed:{\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n\r\n  },\r\n  methods : {\r\n    async getData(){\r\n      this.loading = true;\r\n      let filter = await this.$store.dispatch('normalizeFilterData', this.filterData);\r\n\r\n      let charters = '';\r\n      this.$store.getters.charters('showAll') ? charters = 'showAll' : charters = '';\r\n      let result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/request/list',\r\n        data : {\r\n          count    : this.$store.getters.paginationSize,\r\n          page     : this.$store.getters.paginationPage,\r\n          filter   : filter,\r\n          charters : charters,\r\n          sort     : this.sort,\r\n        } });\r\n      if(result.status == 'success') {\r\n        this.$grid.commit('normalizeElement',{name : this.grid.name ,data : { elements : result.data } });\r\n        this.$grid.commit('normalizePagination', {\r\n          name : this.grid.name,\r\n          data : {\r\n            pagination : { page : this.$store.getters.paginationPage, ...result.pagination }\r\n          }\r\n        })\r\n      }else\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!', type: 'error'});\r\n      this.loading=false;\r\n    },\r\n\r\n    onSort(data){\r\n      this.sort.name = data.key;\r\n      if (this.sort.name === data.key)\r\n          this.sort.order === 'asc' ? this.sort.order = 'desc' : this.sort.order = 'asc';\r\n        else\r\n          this.sort.order = 'desc';\r\n      this.getData();\r\n    },\r\n\r\n    saveVisibleColumn(data){\r\n      let setShowValue = data => {\r\n        this.grid.header[data.key].show = data.show;\r\n        if (this.grid.header[data.key].child instanceof Array) {\r\n          this.grid.header[data.key].child.forEach((el, idx) => {\r\n            let newData = {\r\n              key  :  this.grid.header[data.key].child[idx],\r\n              show :  data.show,\r\n            }\r\n          setShowValue(newData);\r\n          }) // перебор массива child\r\n        }//if\r\n      };\r\n\r\n      setShowValue(data); //так возможно если это стрелочная функция.\r\n      //setShowValue.call(this, data);\r\n      this.setHeaderParams();\r\n    },\r\n\r\n    saveWidthColumn(data){\r\n      this.grid.header[data.key].width = data.width;\r\n      this.setHeaderParams();\r\n    },\r\n\r\n    saveOrderColumn(data){\r\n      data.data.forEach(el => {\r\n        let key = el.key, sort = el.params.sort;\r\n        this.grid.header[key].sort = sort;\r\n      });\r\n      this.setHeaderParams();\r\n    },\r\n\r\n    async setHeaderParams(){\r\n      let keys = Object.keys(this.grid.header);\r\n      let headerParams = keys.map((el,idx) => {\r\n        let show;\r\n        ('show' in this.grid.header[el]) ? show = this.grid.header[el].show : show = true;\r\n        return {key : el, width : this.grid.header[el].width , show : show, sort : this.grid.header[el].sort}\r\n      })\r\n      let result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/setting',\r\n        data : {\r\n          grid    : this.grid.name,\r\n          params  : JSON.stringify(headerParams),\r\n          type    : 'set',\r\n        }\r\n      });\r\n       if(result.status == 'success')\r\n           this.$store.commit('setMessage',{text: result.message, type : 'success'})\r\n        else\r\n           this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n    },\r\n\r\n    async changeFilterProfile(data){\r\n      this.loading = true;\r\n      if (data.action === 'add') {\r\n        this.grid.filter.profiles.push({name : data.name, data : data.data})\r\n      };\r\n\r\n      if (data.action === 'remove') {\r\n        this.grid.filter.profiles.splice(data.idx, 1);\r\n      };\r\n\r\n      let result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/filter-preset',\r\n        data : {\r\n          grid    : data.grid,\r\n          params  : JSON.stringify(this.grid.filter.profiles),\r\n          type    : 'set',\r\n        }\r\n      });\r\n      if(result.status == 'success')\r\n        this.$store.commit('setMessage',{text: result.message, type : 'success'})\r\n      else\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n      this.loading = false;\r\n    },\r\n\r\n    async initGrid(){\r\n      this.loading = true;\r\n      //сначала загружаем настройки шапки таблицы\r\n      let result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/setting',\r\n        data : {\r\n          grid    : this.grid.name,\r\n          type    : 'get',\r\n        }\r\n      });\r\n      if(result.status == 'success' && result.data.length > 0) {\r\n        let headerParams = JSON.parse(result.data[0]);\r\n        headerParams.forEach(el => {\r\n          if ( el.key in this.grid.header) {\r\n            this.grid.header[el.key].show = el.show;\r\n            this.grid.header[el.key].width = el.width;\r\n            this.grid.header[el.key].sort = el.sort;\r\n          }\r\n        });\r\n      }\r\n      if(result.status !== 'success')\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n\r\n      // загружаем профили фильтров\r\n      result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/filter-preset',\r\n        data : {\r\n          grid    : this.grid.name,\r\n          type    : 'get',\r\n        }\r\n      });\r\n      if(result.status === 'success' && result.data.length > 0) {\r\n        let profiles = JSON.parse(result.data);\r\n        profiles.forEach(el => {this.grid.filter.profiles.push(el)});\r\n      }\r\n      if(result.status !== 'success')\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n\r\n      // стартуем грид с полученными исходными данными\r\n      this.$grid.dispatch('createGrid', {name : this.grid.name, data : this.grid});\r\n\r\n      //получам содержимое таблицы\r\n      await  this.getData();\r\n\r\n      this.gridReady = true;\r\n\r\n      this.loading = false;\r\n    },\r\n  },\r\n  created(){\r\n    window.vicariousLoadFile = async (id, fileName, type) => {\r\n      // let el =  event.target.parentNode;\r\n      // el.classList.add('loading');\r\n      // event.preventDefault();\r\n      try {\r\n        let result = await this.$store.dispatch('query', {\r\n          url             : '/api/vicarious/request/load-file',\r\n          downloadRequest : true,\r\n          data            : {id: id, type : type},\r\n        });\r\n        let blob      = await result.blob();\r\n        let url       = URL.createObjectURL(blob);\r\n        let link      = document.createElement('a');\r\n        link.href     = url;\r\n        link.download = fileName;\r\n        //document.body.appendChild(link);\r\n        link.click();\r\n        URL.revokeObjectURL(link.href);\r\n      }catch(e){\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!', type: 'error'});\r\n      }\r\n     // el.classList.remove('loading');\r\n     return false;\r\n    };\r\n    this.initGrid();\r\n  },\r\n}\r\n</script>\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=36ec1682&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"type\":\"info\",\"icon\":\"el-icon-back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$store.commit('setComponent','detail')}}},[_vm._v(\" Вернуться к просмотру \")]),_c('el-card',{staticClass:\"component-wrapper\"},[_c('h3',[_vm._v(\"Редактирование заявки с ID - \"+_vm._s(_vm.requestId)+\" \")]),(_vm.documentId)?_c('h3',[_vm._v(\"Обратите внимание - по данной заявке уже создан документ c ID - \"+_vm._s(_vm.documentId)+\" и именем - \"+_vm._s(_vm.documentName)+\" !\")]):_vm._e(),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Тип заявки\")]),_c('el-select',{attrs:{\"placeholder\":\"Тип заявки\"},on:{\"change\":function($event){return _vm.queryTypeChange(_vm.queryData.type)}},model:{value:(_vm.queryData.type),callback:function ($$v) {_vm.$set(_vm.queryData, \"type\", $$v)},expression:\"queryData.type\"}},_vm._l((_vm.queryType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Тип доверенности\")]),_c('el-select',{attrs:{\"placeholder\":\"Тип доверенности\"},on:{\"change\":function($event){return _vm.queryTypeDocumentChange(_vm.queryData.documentType)}},model:{value:(_vm.queryData.documentType),callback:function ($$v) {_vm.$set(_vm.queryData, \"documentType\", $$v)},expression:\"queryData.documentType\"}},_vm._l((_vm.queryTypeDocument),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),(_vm.isRoot && _vm.documentId)?_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Имя документа\")]),_c('el-input',{staticStyle:{\"white-space\":\"normal !important\"},model:{value:(_vm.queryData.document_name),callback:function ($$v) {_vm.$set(_vm.queryData, \"document_name\", $$v)},expression:\"queryData.document_name\"}})],1):_vm._e()],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Организация, выдающая доверенность\")]),_c('el-select',{ref:'company_search',class:_vm.errors.company ? 'invalid' : '',attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"Укажите организацию\",\"remote-method\":_vm.searchGiveCompany,\"loading\":_vm.loading,\"disabled\":_vm.queryData.type == 'personal'},on:{\"change\":function($event){return _vm.clearSelectSearch('company_search')}},model:{value:(_vm.queryData.company),callback:function ($$v) {_vm.$set(_vm.queryData, \"company\", $$v)},expression:\"queryData.company\"}},_vm._l((_vm.company),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(_vm.errors.company)?_c('small',[_vm._v(_vm._s(_vm.errors.company))]):_vm._e()],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Кто получает доверенность\")]),_c('el-radio-group',{attrs:{\"fill\":\"#909399\"},on:{\"change\":_vm.whoReceiveChange},model:{value:(_vm.whoReceive),callback:function ($$v) {_vm.whoReceive=$$v},expression:\"whoReceive\"}},[_c('el-radio-button',{attrs:{\"label\":\"Пользователь\"}}),_c('el-radio-button',{attrs:{\"label\":\"Организация\",\"disabled\":_vm.queryData.type == 'personal'}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(_vm._s(_vm.whoReceive === 'Пользователь' ? 'Получает пользователь' : 'Получает организация'))]),_c('el-select',{ref:'user_search',class:_vm.errors.users ? 'invalid' : '',attrs:{\"multiple\":_vm.isMultipleUser,\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":_vm.whoReceive==='Пользователь' ?  'Укажите ФИО' : 'Укажите организацию',\"remote-method\":_vm.whoReceive==='Пользователь' ? _vm.searchReceiveUser : _vm.searchReceiveCompany,\"loading\":_vm.loading,\"disabled\":_vm.queryData.type == 'personal'},on:{\"change\":function($event){return _vm.clearSelectSearch('user_search')}},model:{value:(_vm.queryData.users),callback:function ($$v) {_vm.$set(_vm.queryData, \"users\", $$v)},expression:\"queryData.users\"}},_vm._l((_vm.users),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(_vm.errors.users)?_c('small',[_vm._v(_vm._s(_vm.errors.users))]):_vm._e()],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Период действия документа\")]),_c('el-date-picker',{class:_vm.errors.dateStart || _vm.errors.date  ? 'invalid' : '',attrs:{\"type\":\"date\",\"format\":\"dd.MM.yyyy\",\"value-format\":\"dd.MM.yyyy\",\"placeholder\":\"Начало действия документа\",\"picker-options\":{ firstDayOfWeek: 1 }},model:{value:(_vm.queryData.dateStart),callback:function ($$v) {_vm.$set(_vm.queryData, \"dateStart\", $$v)},expression:\"queryData.dateStart\"}}),(_vm.errors.date)?_c('small',[_vm._v(_vm._s(_vm.errors.date))]):_vm._e(),(_vm.errors.dateStart)?_c('small',[_vm._v(_vm._s(_vm.errors.dateStart))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_c('br')]),_c('el-date-picker',{class:_vm.errors.dateFinal || _vm.errors.date ? 'invalid' : '',attrs:{\"type\":\"date\",\"format\":\"dd.MM.yyyy\",\"value-format\":\"dd.MM.yyyy\",\"placeholder\":\"Окончание действия документа\",\"picker-options\":{ firstDayOfWeek: 1 }},model:{value:(_vm.queryData.dateFinal),callback:function ($$v) {_vm.$set(_vm.queryData, \"dateFinal\", $$v)},expression:\"queryData.dateFinal\"}}),(_vm.errors.dateFinal)?_c('small',[_vm._v(_vm._s(_vm.errors.dateFinal))]):_vm._e()],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Функционал\")]),_c('el-select',{ref:\"selectFunction\",class:_vm.errors.functions ? 'invalid' : '',attrs:{\"placeholder\":\"Функционал\",\"multiple\":\"\"},model:{value:(_vm.queryData.functions),callback:function ($$v) {_vm.$set(_vm.queryData, \"functions\", $$v)},expression:\"queryData.functions\"}},_vm._l((_vm.functions),function(item){return _c('el-option',{key:item.value,style:({width: _vm.$refs.selectFunction.$el.offsetWidth + 30 +'px', whiteSpace: 'normal', height: 'auto'}),attrs:{\"label\":item.label,\"value\":item.value}},[_c('div',{on:{\"mouseover\":function($event){return _vm.mouseOnFunctionOptions($event,true, item)},\"mouseout\":function($event){return _vm.mouseOnFunctionOptions($event, false, '')}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])])}),1),(_vm.errors.functions)?_c('small',[_vm._v(_vm._s(_vm.errors.functions))]):_vm._e()],1),_c('el-col',{ref:\"commentCol\",attrs:{\"span\":8}},[_c('label',[_vm._v(\"Комментарий\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"1\"},model:{value:(_vm.queryData.comment),callback:function ($$v) {_vm.$set(_vm.queryData, \"comment\", $$v)},expression:\"queryData.comment\"}})],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{ref:\"uploadCol\",attrs:{\"span\":8}},[_c('label',[_vm._v(\"Дополнительные файлы (прошлые доверенности НЕ прикладывать)\")]),_c('el-upload',{ref:\"upload\",attrs:{\"action\":\"\",\"auto-upload\":false,\"file-list\":_vm.queryData.file_exists,\"on-change\":_vm.fileChange,\"on-remove\":_vm.fileRemove}},[_c('el-button',{staticClass:\"fluid-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-download\",\"type\":\"info\"},on:{\"click\":function($event){_vm.errors.functions=null}}},[_vm._v(\" Добавить файл \")])],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_c('br')])]),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_c('br')]),_c('el-button',{class:'fluid-button',attrs:{\"size\":\"medium\",\"icon\":\"el-icon-upload\",\"type\":\"primary\"},on:{\"click\":_vm.saveForm}},[_vm._v(\" Сохранить изменения в заявке c ID \"+_vm._s(_vm.requestId)+\" \")])],1)],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":24}},[_c('br'),_c('el-link',{attrs:{\"href\":\"https://bitrix.bsi.local/knowledge/instrukcii/korportal/doverrennosti/\",\"target\":\"_blank\",\"type\":\"danger\",\"icon\":\"el-icon-reading\"}},[_vm._v(\"Ознакомиться с инструкцией\")])],1)],1),(_vm.functionsDetail.show)?_c('div',{staticClass:\"context-menu-wrapper\"},[(_vm.functionsDetail.note)?_c('div',{staticClass:\"context-menu-element\"},[_c('h4',[_vm._v(\"Примечание\")]),_vm._v(\" \"+_vm._s(_vm.functionsDetail.note))]):_vm._e(),(_vm.functionsDetail.text)?_c('div',{staticClass:\"context-menu-element\"},[_c('h4',[_vm._v(\"Описание \")]),_vm._v(\" \"+_vm._s(_vm.functionsDetail.text))]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n    <el-button\r\n        class=\"body-button body-button-color\"\r\n        size=\"medium\"\r\n        type=\"info\"\r\n        icon=\"el-icon-back\"\r\n        @click.prevent=\"$store.commit('setComponent','detail')\">\r\n      Вернуться к просмотру\r\n    </el-button>\r\n    <el-card class=\"component-wrapper\" >\r\n      <h3>Редактирование заявки с ID - {{requestId}} </h3>\r\n      <h3 v-if=\"documentId\">Обратите внимание - по данной заявке уже создан документ c ID - {{documentId}} и именем - {{documentName}} !</h3>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Тип заявки</label>\r\n          <el-select\r\n              v-model=\"queryData.type\"\r\n              placeholder=\"Тип заявки\"\r\n              @change=\"queryTypeChange(queryData.type)\">\r\n            <el-option\r\n                v-for=\"item in queryType\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label>Тип доверенности</label>\r\n          <el-select\r\n              v-model=\"queryData.documentType\"\r\n              placeholder=\"Тип доверенности\"\r\n              @change=\"queryTypeDocumentChange(queryData.documentType)\">\r\n            <el-option\r\n                v-for=\"item in queryTypeDocument\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-col>\r\n        <el-col :span=\"8\" v-if=\"isRoot && documentId\">\r\n          <label>Имя документа</label>\r\n          <el-input\r\n              v-model=\"queryData.document_name\"\r\n              style=\"white-space: normal !important;\">\r\n          </el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Организация, выдающая доверенность</label>\r\n          <el-select\r\n              v-model=\"queryData.company\"\r\n              filterable\r\n              remote\r\n              reserve-keyword\r\n              placeholder=\"Укажите организацию\"\r\n              :remote-method=\"searchGiveCompany\"\r\n              :loading=\"loading\"\r\n              :disabled=\"queryData.type == 'personal'\"\r\n              @change=\"clearSelectSearch('company_search')\"\r\n              :ref=\"'company_search'\"\r\n              :class=\"errors.company ? 'invalid' : ''\"\r\n          >\r\n            <el-option\r\n                v-for=\"item in company\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n          <small v-if=\"errors.company\">{{ errors.company }}</small>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Кто получает доверенность</label>\r\n          <el-radio-group v-model=\"whoReceive\" @change=\"whoReceiveChange\"  fill=\"#909399\">\r\n            <el-radio-button label=\"Пользователь\"></el-radio-button>\r\n            <el-radio-button label=\"Организация\" :disabled=\"queryData.type == 'personal'\"></el-radio-button>\r\n          </el-radio-group>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label>{{ whoReceive === 'Пользователь' ? 'Получает пользователь' : 'Получает организация' }}</label>\r\n          <el-select\r\n              v-model=\"queryData.users\"\r\n              :multiple=\"isMultipleUser\"\r\n              filterable\r\n              remote\r\n              reserve-keyword\r\n              :placeholder=\"whoReceive==='Пользователь' ?  'Укажите ФИО' : 'Укажите организацию'\"\r\n              :remote-method=\"whoReceive==='Пользователь' ? searchReceiveUser : searchReceiveCompany\"\r\n              :loading=\"loading\"\r\n              :disabled=\"queryData.type == 'personal'\"\r\n              @change=\"clearSelectSearch('user_search')\"\r\n              :ref=\" 'user_search'\"\r\n              :class=\"errors.users ? 'invalid' : ''\"\r\n          >\r\n            <el-option\r\n                v-for=\"item in users\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n          <small v-if=\"errors.users\">{{ errors.users }}</small>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Период действия документа</label>\r\n          <el-date-picker\r\n              :class=\"errors.dateStart || errors.date  ? 'invalid' : ''\"\r\n              v-model=\"queryData.dateStart\"\r\n              type=\"date\"\r\n              format=\"dd.MM.yyyy\"\r\n              value-format=\"dd.MM.yyyy\"\r\n              placeholder=\"Начало действия документа\"\r\n              :picker-options=\"{ firstDayOfWeek: 1 }\"\r\n          >\r\n          </el-date-picker>\r\n          <small v-if=\"errors.date\">{{ errors.date }}</small>\r\n          <small v-if=\"errors.dateStart\">{{ errors.dateStart }}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label><br/></label>\r\n          <el-date-picker\r\n              :class=\"errors.dateFinal || errors.date ? 'invalid' : ''\"\r\n              v-model=\"queryData.dateFinal\"\r\n              type=\"date\"\r\n              format=\"dd.MM.yyyy\"\r\n              value-format=\"dd.MM.yyyy\"\r\n              placeholder=\"Окончание действия документа\"\r\n              :picker-options=\"{ firstDayOfWeek: 1 }\"\r\n          >\r\n          </el-date-picker>\r\n          <small v-if=\"errors.dateFinal\">{{ errors.dateFinal }}</small>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Функционал</label>\r\n          <el-select\r\n              v-model=\"queryData.functions\"\r\n              placeholder=\"Функционал\"\r\n              multiple\r\n              :class=\"errors.functions ? 'invalid' : ''\"\r\n              ref=\"selectFunction\"\r\n          >\r\n            <el-option\r\n                :style=\"{width: $refs.selectFunction.$el.offsetWidth + 30 +'px', whiteSpace: 'normal', height: 'auto'}\"\r\n                v-for=\"item in functions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n            >\r\n               <div\r\n                   v-on:mouseover=\"mouseOnFunctionOptions($event,true, item)\"\r\n                   v-on:mouseout=\"mouseOnFunctionOptions($event, false, '')\"\r\n               >\r\n               {{item.label}}\r\n             </div>\r\n            </el-option>\r\n          </el-select>\r\n          <small v-if=\"errors.functions\">{{ errors.functions }}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\" ref=\"commentCol\">\r\n          <label>Комментарий</label>\r\n          <el-input\r\n              type=\"textarea\"\r\n              rows=\"1\"\r\n              v-model=\"queryData.comment\"\r\n              >\r\n          </el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\" ref=\"uploadCol\">\r\n          <label>Дополнительные файлы (прошлые доверенности НЕ прикладывать)</label>\r\n          <el-upload\r\n              action=\"\"\r\n              ref=\"upload\"\r\n              :auto-upload=\"false\"\r\n              :file-list=\"queryData.file_exists\"\r\n              :on-change=\"fileChange\"\r\n              :on-remove=\"fileRemove\">\r\n            <el-button\r\n                size=\"medium\"\r\n                icon=\"el-icon-download\"\r\n                class=\"fluid-button\"\r\n                type=\"info\"\r\n                @click=\"errors.functions=null\"\r\n            >\r\n              Добавить файл\r\n            </el-button>\r\n          </el-upload>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label><br/></label>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label><br/></label>\r\n          <el-button\r\n              @click=\"saveForm\"\r\n              size=\"medium\"\r\n              icon=\"el-icon-upload\"\r\n              :class=\"'fluid-button'\"\r\n              type=\"primary\">\r\n            Сохранить изменения в заявке c ID {{ requestId }}\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n    <el-row :gutter=\"24\" class=\"mb15\">\r\n      <el-col :span=\"24\">\r\n        <br>\r\n        <el-link href=\"https://bitrix.bsi.local/knowledge/instrukcii/korportal/doverrennosti/\" target=\"_blank\"  type=\"danger\" icon=\"el-icon-reading\">Ознакомиться с инструкцией</el-link>\r\n      </el-col>\r\n    </el-row>\r\n    <div class=\"context-menu-wrapper\" v-if=\"functionsDetail.show\">\r\n      <div class=\"context-menu-element\" v-if=\"functionsDetail.note\"> <h4>Примечание</h4> {{functionsDetail.note}}</div>\r\n      <div class=\"context-menu-element\" v-if=\"functionsDetail.text\"> <h4>Описание  </h4> {{functionsDetail.text}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"requestEdit\",\r\n  data(){\r\n    return {\r\n      functionsDetail : {\r\n        show : false,\r\n        text : '',\r\n        note : '',\r\n      },\r\n      oldDocumentTypeValue     : '',\r\n      isMultipleUser           : false,\r\n      whoReceive               : '',\r\n      users                    : [],\r\n      usersSelected            : [],\r\n      company                  : [],\r\n      companySelected          : [],\r\n      functions                : [],\r\n      errors                   : {},\r\n\r\n      queryData       : {\r\n        document_name : '',\r\n        document_id   : '',\r\n        type          : '',\r\n        users         : null,\r\n        company       : '',\r\n        documentType  : '',\r\n        dateStart     : '',\r\n        dateFinal     : '',\r\n        functions     : [],\r\n        comment       : '',\r\n        file          : [],\r\n        file_save     : [],\r\n        file_exists   : [],\r\n        isFile        : false,\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    loading: {\r\n      get: function () {\r\n        return this.$store.getters.loading;\r\n      },\r\n      set: function (value) {\r\n        this.$store.commit('setLoading', value)\r\n      }\r\n    },\r\n    queryTypeDocument(){\r\n      return this.$store.getters.queryTypeDocument;\r\n    },\r\n    queryType (){\r\n      return this.$store.getters.queryType;\r\n    },\r\n    requestId() {\r\n      return this.$store.getters.requestId;\r\n    },\r\n    documentId(){\r\n      return this.$store.getters.documentId;\r\n    },\r\n    documentName(){\r\n      return this.$store.getters.documentName;\r\n    },\r\n    isRoot(){\r\n      return this.$store.getters.charters('root')\r\n    },\r\n  },\r\n  methods: {\r\n    mouseOnFunctionOptions(e,isShow, item){\r\n      if (isShow) {\r\n        this.functionsDetail.show = true;\r\n        this.functionsDetail.text = item.text;\r\n        this.functionsDetail.note = item.note;\r\n        this.$nextTick(() => {\r\n          let menu = document.querySelector('.context-menu-wrapper'),\r\n              clientClick = {\r\n                y : e.clientY,\r\n              };\r\n          menu.style.maxWidth = 45 + '%';\r\n          menu.style.position = 'relative';\r\n          menu.style.left = this.$refs.selectFunction.$el.offsetWidth  + 60 + 'px';\r\n          if (clientClick.y < this.$refs.selectFunction.$el.getBoundingClientRect().y)  menu.style.top =  - 426 - this.$refs.commentCol.$el.clientHeight + 68  - this.$refs.uploadCol.$el.clientHeight + 59 + 'px';\r\n          else  menu.style.top =  - 102 - this.$refs.commentCol.$el.clientHeight + 68 - this.$refs.uploadCol.$el.clientHeight + 59 + 'px';\r\n        });\r\n      } else {\r\n        this.functionsDetail.show = false;\r\n        this.functionsDetail.text = '';\r\n        this.functionsDetail.note = '';\r\n      }\r\n    },\r\n\r\n    clearSelectSearch(key) {\r\n      this.$refs[key].query = '';\r\n      this.$forceUpdate()\r\n    },\r\n    searchReceiveUser(query) {\r\n      if (query !== '')\r\n        this.search(query, 'receiveUser');\r\n    },\r\n    searchReceiveCompany(query) {\r\n      if (query !== '')\r\n        this.search(query, 'receiveCompany');\r\n    },\r\n    searchGiveCompany(query) {\r\n      if (query !== '')\r\n        this.search(query, 'giveCompany');\r\n    },\r\n    async search(query, key) {\r\n      let url, obj;\r\n      if (key == 'receiveUser') {\r\n        obj = 'users';\r\n        url = '/api/vicarious/user/search';\r\n      }\r\n      if (key == 'receiveCompany') {\r\n        obj = 'users';\r\n        url = '/api/vicarious/company/search';\r\n      }\r\n      if (key == 'giveCompany') {\r\n        obj = 'company';\r\n        url = '/api/vicarious/company/search';\r\n      }\r\n      let result = await this.$store.dispatch('query', {url: url, data: {q: query}});\r\n      if (result.status == 'success') {\r\n        this[obj] = result.data;\r\n        // ниже код чтоб добавить в лист выбранные ранее позиции\r\n        this[obj + 'Selected'].forEach(el => {\r\n          let notExists = true\r\n          this[obj].forEach(item => item.value == el.value ? notExists = false : '');\r\n          notExists ? this[obj].push(el) : '';\r\n        });\r\n      }\r\n    },\r\n\r\n    async getEditData() {\r\n      this.loading = true;\r\n      this.company = [];\r\n      let functions = await this.$store.dispatch('query', {url: '/api/vicarious/function/list', data: {}});\r\n      if (functions.status == 'success') {\r\n        this.functions = functions.data.map(el => {\r\n          return {value: el.id[0].value, label: el.name[0].value, text : el.text[0].value, note : el.note[0].value};\r\n        })\r\n      }\r\n      let result = await this.$store.dispatch('query', {\r\n        url   : '/api/vicarious/request/get-edit',\r\n        data  : {id: this.requestId}\r\n      });\r\n      if (result.status == 'success') {\r\n        result.data.receiver === 'individual' ? this.whoReceive = 'Пользователь' : this.whoReceive = 'Организация'\r\n        this.users = result.data.users;\r\n        this.company.push(result.data.company);\r\n        let currentUsers=null;\r\n        if (result.documentType === 'notarial' && result.type !== 'personal') {\r\n          this.isMultipleUser = true;\r\n          currentUsers = result.data.users.map(el => {return el.value});\r\n        } else {\r\n           this.isMultipleUser = false;\r\n           if (result.data.users.length > 0){\r\n             currentUsers = result.data.users[0].value\r\n           } else {currentUsers = ''};\r\n\r\n          }\r\n        this.queryData = {\r\n          id              : this.requestId,\r\n          type            : result.data.type,\r\n          document_name   : this.documentName,\r\n          document_id     : this.documentId,\r\n          company         : result.data.company.value,\r\n          documentType    : result.data.document_type,\r\n          users           : currentUsers,\r\n          dateStart       : result.data.date_start,\r\n          dateFinal       : result.data.date_final,\r\n          functions       : result.data.functions,\r\n          comment         : result.data.comment,\r\n          file_save       : result.data.files,\r\n          file_exists     : result.data.files,\r\n          file            : [],\r\n        }\r\n        //текущий статус для отображения в заголовках\r\n        let updateStatus;\r\n        this.$store.getters.statusList.forEach(el => {\r\n          if(el.value === result.data.status) updateStatus = el.label\r\n        })\r\n        this.$store.commit('setRequestState', {status : result.data.status, value : updateStatus});\r\n      } else\r\n          this.$store.commit('setMessage', {text: result.message, header: 'Возникла проблема!', type: 'error'});\r\n      this.loading = false;\r\n    },\r\n    async getPersonalData() {\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query', {url: '/api/vicarious/user/get-for-request', data: {}});\r\n      if (result.status == 'success') {\r\n        this.queryData.users = result.data.user.value;\r\n        this.users.push(result.data.user);\r\n        this.queryData.company = result.data.company.value;\r\n        this.company.push(result.data.company);\r\n      }\r\n      this.loading = false;\r\n    },\r\n\r\n    fileChange(file) {\r\n      this.queryData.file.push(file.raw);\r\n    },\r\n    fileRemove(file) {\r\n      this.queryData.file_save = this.queryData.file_save.filter(el => el.uid !== file.uid);\r\n      this.queryData.file = this.queryData.file.filter(el => el.uid !== file.uid);\r\n    },\r\n\r\n    async saveForm() {\r\n      if (this.$refs.upload.uploadFiles.length > 0)  this.queryData.isFile = true;\r\n      else this.queryData.isFile = false;\r\n\r\n      this.errors = await this.$store.dispatch('formIsValid', {queryData : this.queryData});\r\n\r\n      // проверка на всякий случай если отправят пустое имя документа\r\n      if (this.queryData.document_name === '') this.queryData.document_name = this.documentName;\r\n\r\n      if (Object.keys(this.errors).length===0) {\r\n        this.$confirm(`Вы точно уверены, что хотите сохранить изменения в заявке с ID - ${this.requestId} ?`).then(async () => {\r\n          let result;\r\n          this.loading = true;\r\n          if (this.queryData.file.length) {\r\n            let data = new FormData();\r\n            data.append('id',            this.queryData.id);\r\n            data.append('type',          this.queryData.type);\r\n            data.append('document_name', this.queryData.document_name);\r\n            data.append('document_id',   this.queryData.document_id);\r\n            data.append('documentType',  this.queryData.documentType);\r\n            data.append('dateStart',     this.queryData.dateStart);\r\n            data.append('dateFinal',     this.queryData.dateFinal);\r\n            data.append('comment',       this.queryData.comment);\r\n            data.append('company',       this.queryData.company);\r\n            this.whoReceive === 'Пользователь' ? data.append('receiver', 'individual') : data.append('receiver', 'entity');\r\n            for (let i = 0; i < this.queryData.file.length; i++) {\r\n              data.append('file[' + i + ']', this.queryData.file[i]);\r\n            }\r\n            for (let i = 0; i < this.queryData.file_save.length; i++) {\r\n              data.append('file_save[' + i + ']', this.queryData.file_save[i].id);\r\n            }\r\n            if (this.queryData.users instanceof Array) {\r\n              for (let i = 0; i < this.queryData.users.length; i++) {\r\n                data.append('users[' + i + ']', this.queryData.users[i]);\r\n              }\r\n            } else\r\n                data.append('users['+0+']', this.queryData.users);\r\n            for (let i = 0; i < this.queryData.functions.length; i++) {\r\n              data.append('functions[' + i + ']', this.queryData.functions[i]);\r\n            }\r\n            result = await this.$store.dispatch('query', {\r\n              url         : '/api/vicarious/request/set-edit',\r\n              data        : data,\r\n              type        : 'file'\r\n            });\r\n          } else {\r\n             this.queryData.file_save = this.queryData.file_save.map(el => el.id);\r\n             this.whoReceive === 'Пользователь' ? this.queryData.receiver = 'individual' : this.queryData.receiver = 'entity';\r\n             result = await this.$store.dispatch('query', {\r\n              url         : '/api/vicarious/request/set-edit',\r\n              data        : this.queryData,\r\n             });\r\n          }\r\n          if (result.status == 'success') {\r\n            await this.getEditData();\r\n            this.$store.commit('setMessage', {text: result.message, header: 'Успешно!', type: 'success'});\r\n          } else\r\n              this.$store.commit('setMessage', {text: result.message, header: 'Возникла проблема!', type: 'error'});\r\n          this.loading = false;\r\n          this.$store.commit('setComponent','detail');\r\n        }).catch(() => {});\r\n      }//if isValid\r\n    },\r\n    queryTypeChange(value){\r\n      if (value === 'complex' && this.queryData.documentType !== 'notarial') {\r\n        this.queryData.users     = '';\r\n        this.isMultipleUser      = false;\r\n        this.usersSelected       = [];\r\n        this.queryData.company   =  '';\r\n      }\r\n      if (value === 'complex' && this.queryData.documentType === 'notarial') {\r\n        this.queryData.users     = '';\r\n        setTimeout(() => {\r\n          this.queryData.users   = [];\r\n          this.isMultipleUser    = true\r\n        }, 0);\r\n        this.queryData.company = '';\r\n      }\r\n      if (value === 'personal') {\r\n        this.whoReceive         = 'Пользователь';\r\n        this.users              = [];\r\n        this.usersSelected      = [];\r\n        this.company            = [];\r\n        this.queryData.users    = '';\r\n        this.isMultipleUser     = false;\r\n        this.getPersonalData();\r\n      }\r\n    },\r\n    queryTypeDocumentChange(newValue){\r\n      let oldValue=this.oldDocumentTypeValue;\r\n      if (newValue === 'notarial' && this.queryData.type !== 'personal') {\r\n        let old = this.queryData.users;\r\n        this.queryData.users = '';\r\n        setTimeout(() => {\r\n          old ? this.queryData.users = [old] : this.queryData.users = [];\r\n          this.isMultipleUser = true\r\n        }, 0);\r\n        old ? this.usersSelected = [old] : ''\r\n      }\r\n      if (oldValue === 'notarial' && this.queryData.type !== 'personal') {\r\n        let old;\r\n        this.queryData.users[0] ? old = this.queryData.users[0] : '';\r\n        this.queryData.users    = [];\r\n        setTimeout(() => {\r\n          this.isMultipleUser   = false;\r\n          this.queryData.users  = old;\r\n        }, 0)\r\n        this.usersSelected      = [old];\r\n      }\r\n    },\r\n    whoReceiveChange(){\r\n      this.queryData.users      = null;\r\n      this.users                = [];\r\n      this.usersSelected        = [];\r\n      this.errors.functions     = null;\r\n\r\n    },\r\n  },\r\n  created() {\r\n    this.getEditData();\r\n  },\r\n// при создании формы идет получение данных и меняются значения перменных и это приводит к ненужной сработке вотчеров.\r\n// поэтому вместо вотчеров были использованы методы change у этих selectов.\r\n  watch: {\r\n\r\n    'queryData.documentType': function (oldValue) {\r\n      this.oldDocumentTypeValue = oldValue; // старое значение нужно чтоб потом правильно принимать решение в методе change у этого selecta\r\n      this.errors.documentType  = null;\r\n    },\r\n    'queryData.users': function (value) {\r\n        this.errors.users = null;\r\n        if (value instanceof Array) {\r\n          // ниже чтоб добавить в userSelected то что выбрано в элементе ввода и проверить что их не было ранее добавлено\r\n          this.users.forEach(el => {\r\n            if (value.indexOf(el.value) >= 0) {\r\n              let notExists = true;\r\n              this.usersSelected.forEach(item => item.value === el.value ? notExists = false : '');\r\n              notExists ? this.usersSelected.push(el) : '';\r\n            }\r\n          });\r\n          //ниже чтоб убрать из userSelected тех кого удалили в элементе ввода\r\n          let arr = [];\r\n          this.usersSelected.forEach(el => value.indexOf(el.value) >= 0 ? arr.push(el) : '');\r\n          this.usersSelected = arr;\r\n        }\r\n    },\r\n    'queryData.company': function (value) {\r\n      this.errors.company = null;\r\n      value ? this.companySelected.push(value) : '';\r\n    },\r\n    'queryData.functions': function () {\r\n      this.errors.functions = null;\r\n    },\r\n    'queryData.comment' : function(){\r\n      this.errors.functions = null;\r\n    },\r\n    'queryData.dateStart': function () {\r\n      this.errors.date      = null;\r\n      this.errors.dateStart = null;\r\n    },\r\n    'queryData.dateFinal': function () {\r\n      this.errors.date      = null;\r\n      this.errors.dateFinal = null;\r\n    },\r\n  },\r\n\r\n}\r\n</script>\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=757a732e&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"body-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"type\":\"info\",\"icon\":\"el-icon-back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$store.commit('setComponent','list')}}},[_vm._v(\" Вернуться к списку \")]),_c('el-tabs',{staticClass:\"component-wrapper\",attrs:{\"type\":\"border-card\"},on:{\"tab-click\":_vm.setActiveMenu},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}},[_vm._l((_vm.menu),function(item,key){return _c('el-tab-pane',{key:key,attrs:{\"label\":item,\"name\":key}})}),(_vm.page === 'show')?_c('Show'):_vm._e(),(_vm.page === 'business')?_c('Business',{on:{\"toShowPage\":function($event){_vm.page='show'}}}):_vm._e(),(_vm.page === 'comments')?_c('Comments',{on:{\"toShowPage\":function($event){_vm.page='show'}}}):_vm._e(),(_vm.page === 'history')?_c('History',{on:{\"toShowPage\":function($event){_vm.page='show'}}}):_vm._e()],2),_c('div',{staticClass:\"component-wrapper\"},[_c('br'),_c('el-link',{attrs:{\"href\":\"https://bitrix.bsi.local/knowledge/instrukcii/korportal/doverrennosti/\",\"target\":\"_blank\",\"type\":\"danger\",\"icon\":\"el-icon-reading\"}},[_vm._v(\"Ознакомиться с инструкцией\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":18}},[_c('h2',[_vm._v(\" Заявка № \"+_vm._s(_vm.requestId))]),_c('h3',[_vm._v(\"Статус заявки - \"+_vm._s(_vm.requestStatus.value)+\" \"+_vm._s(_vm.signature ? ', на подписании' : '')+\" \"+_vm._s(_vm.requestStatus.status==='rejected' ? '(доп. информация в истории согласования)' : ''))])]),_c('el-col',{attrs:{\"span\":6}},[(_vm.isManageRequest && _vm.gen_document)?_c('div',{staticClass:\"component-wrapper\"},[_c('el-button',{staticStyle:{\"white-space\":\"normal !important\"},attrs:{\"size\":\"medium\",\"icon\":\"el-icon-document \",\"type\":\"info\"},on:{\"click\":_vm.goToDocument}},[_vm._v(\" Перейти к документу № \"+_vm._s(_vm.documentName)+\" \")])],1):_vm._e()])],1),(!_vm.loading)?_c('ShowInfo',{attrs:{\"show\":_vm.show}}):_vm._e(),(_vm.requestStatus.status==='completed' &&  !_vm.reject)?_c('div',{staticClass:\"body-button-container\"},[_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-plus\",\"type\":\"info\"},on:{\"click\":_vm.addByExist}},[_vm._v(\" Копировать заявку \")])],1):_vm._e(),(_vm.requestStatus.status!=='completed' && _vm.requestStatus.status!=='deleted' &&  !_vm.reject)?_c('div',{staticClass:\"body-button-container\"},[(_vm.isCreator || _vm.isResponsible || _vm.isRoot)?_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-edit\",\"type\":\"info\",\"disabled\":_vm.notPossibleEdit},on:{\"click\":_vm.editRequest}},[_vm._v(\" Редактировать заявку \")]):_vm._e(),((_vm.isCreator || _vm.isDeleteRejected) && _vm.requestStatus.status!=='deleted')?_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-delete\",\"type\":\"danger\",\"disabled\":_vm.notPossibleDelete},on:{\"click\":_vm.deleteRequest}},[_vm._v(\" Удалить заявку \")]):_vm._e(),(_vm.isManageRequest && _vm.requestStatus.status==='created')?_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-check\",\"type\":\"info\",\"disabled\":_vm.requestStatus.status!=='created'},on:{\"click\":_vm.performRequest}},[_vm._v(\" Принять заявку \")]):_vm._e(),((_vm.isResponsible || _vm.isRoot) && _vm.requestStatus.status === 'performed')?_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-close\",\"type\":\"info\"},on:{\"click\":_vm.rejectRequest}},[_vm._v(\" Отклонить заявку \")]):_vm._e()],1):_vm._e(),(_vm.reject)?_c('div',{staticClass:\"component-wrapper\"},[_vm._m(0),_c('el-input',{class:_vm.errors.comment ? 'invalid' : '',attrs:{\"type\":\"textarea\",\"rows\":\"4\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}}),(_vm.errors.comment)?_c('small',[_vm._v(_vm._s(_vm.errors.comment))]):_vm._e(),_c('div',{staticClass:\"component-wrapper\"},[_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-back\",\"type\":\"info\"},on:{\"click\":_vm.cancelRejectRequest}},[_vm._v(\" Назад \")]),_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-check\",\"type\":\"info\"},on:{\"click\":_vm.confirmRejectRequest}},[_vm._v(\" Отклонить \")])],1)],1):_vm._e(),(_vm.requestStatus.status!=='completed' && !_vm.isCreator && !_vm.isManageRequest&& !_vm.isDeleteRejected)?_c('div',{staticClass:\"component-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-back\",\"plain\":\"\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.$store.commit('setComponent', 'list')}}},[_vm._v(\" Вернуться к списку \")])],1):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',[_c('b',[_vm._v(\"Причина отклонения заявки\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticClass:\"tableWithOutHeader\",attrs:{\"data\":_vm.show.table_1}},[_c('el-table-column',{attrs:{\"prop\":\"label_1\",\"width\":\"350\"}}),_c('el-table-column',{attrs:{\"width\":\"350\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return _vm._l((props.row.value_1),function(item){return _c('p',{staticStyle:{\"margin\":\"0px\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(item)}})])})}}])}),_c('el-table-column',{attrs:{\"prop\":\"label_2\",\"width\":\"350\"}}),_c('el-table-column',{scopedSlots:_vm._u([{key:\"default\",fn:function(props){return _vm._l((props.row.value_2),function(item){return _c('p',{staticStyle:{\"margin\":\"0px\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(item)}})])})}}])})],1),_c('el-table',{attrs:{\"data\":_vm.show.table_2}},[_c('el-table-column',{attrs:{\"prop\":\"label\",\"width\":\"350\"}}),_c('el-table-column',{scopedSlots:_vm._u([{key:\"default\",fn:function(props){return _vm._l((props.row.value),function(item){return _c('p',{staticStyle:{\"margin\":\"0px\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(item)}})])})}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-table\r\n        class=\"tableWithOutHeader\"\r\n        :data=\"show.table_1\">\r\n      <el-table-column\r\n          prop=\"label_1\"\r\n          width = \"350\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          width = \"350\"\r\n      >\r\n          <template slot-scope=\"props\">\r\n            <p  v-for=\"item in props.row.value_1\" style=\"margin: 0px\">\r\n              <span v-html=\"item\"></span>\r\n            </p>\r\n          </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"label_2\"\r\n          width = \"350\">\r\n      </el-table-column>\r\n      <el-table-column>\r\n        <template slot-scope=\"props\">\r\n          <p  v-for=\"item in props.row.value_2\" style=\"margin: 0px\">\r\n            <span v-html=\"item\"></span>\r\n          </p>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-table\r\n        :data=\"show.table_2\">\r\n      <el-table-column\r\n          prop=\"label\"\r\n          width = \"350\">\r\n      </el-table-column>\r\n      <el-table-column>\r\n        <template slot-scope=\"props\">\r\n          <p  v-for=\"item in props.row.value\" style=\"margin: 0px\">\r\n            <span v-html=\"item\" ></span>\r\n          </p>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name  : \"requestDetailShowInfo\",\r\n  props : ['show'],\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./showInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./showInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./showInfo.vue?vue&type=template&id=35fd91fc&\"\nimport script from \"./showInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./showInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n    <el-row :gutter=\"24\" class=\"mb15\">\r\n      <el-col :span=\"18\">\r\n        <h2> Заявка № {{requestId}}</h2>\r\n        <h3>Статус заявки - {{requestStatus.value}} {{signature ? ', на подписании' : ''}} {{requestStatus.status==='rejected' ?  '(доп. информация в истории согласования)' : ''}}</h3>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <div class=\"component-wrapper\" v-if=\"isManageRequest && gen_document\">\r\n          <el-button\r\n              size=\"medium\"\r\n              icon=\"el-icon-document \"\r\n              type=\"info\"\r\n              @click=\"goToDocument\"\r\n              style=\"white-space: normal !important;\">\r\n            Перейти к документу № {{documentName}}\r\n          </el-button>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <ShowInfo :show=\"show\" v-if=\"!loading\"/>\r\n    <div class=\"body-button-container\" v-if=\"requestStatus.status==='completed' &&  !reject\">\r\n      <el-button\r\n          @click=\"addByExist\"\r\n          size=\"medium\"\r\n          icon=\"el-icon-plus\"\r\n          class=\"body-button\"\r\n          type=\"info\" >\r\n        Копировать заявку\r\n      </el-button>\r\n    </div>\r\n    <div class=\"body-button-container\" v-if=\"requestStatus.status!=='completed' && requestStatus.status!=='deleted' &&  !reject\" >\r\n      <el-button\r\n          v-if=\"isCreator || isResponsible || isRoot\"\r\n          @click=\"editRequest\"\r\n          size=\"medium\"\r\n          icon=\"el-icon-edit\"\r\n          class=\"body-button\"\r\n          type=\"info\"\r\n          :disabled=\"notPossibleEdit\">\r\n        Редактировать заявку\r\n      </el-button>\r\n      <el-button\r\n          v-if=\"(isCreator || isDeleteRejected) && requestStatus.status!=='deleted'\"\r\n          @click=\"deleteRequest\"\r\n          size=\"medium\"\r\n          icon=\"el-icon-delete\"\r\n          class=\"body-button\"\r\n          type=\"danger\"\r\n          :disabled=\"notPossibleDelete\">\r\n        Удалить заявку\r\n      </el-button>\r\n      <el-button\r\n          v-if=\"isManageRequest && requestStatus.status==='created'\"\r\n          @click=\"performRequest\"\r\n          size=\"medium\"\r\n          icon=\"el-icon-check\"\r\n          class=\"body-button\"\r\n          type=\"info\"\r\n          :disabled=\"requestStatus.status!=='created'\">\r\n        Принять заявку\r\n      </el-button>\r\n      <el-button\r\n          v-if=\"(isResponsible || isRoot) && requestStatus.status === 'performed'\"\r\n          @click=\"rejectRequest\"\r\n          size=\"medium\"\r\n          icon=\"el-icon-close\"\r\n          class=\"body-button\"\r\n          type=\"info\">\r\n        Отклонить заявку\r\n      </el-button>\r\n    </div>\r\n    <div class=\"component-wrapper\"     v-if=\"reject\" >\r\n      <label><b>Причина отклонения заявки</b></label>\r\n      <el-input\r\n          type=\"textarea\"\r\n          rows=\"4\"\r\n          v-model=\"comment\"\r\n          :class=\"errors.comment ? 'invalid' : ''\"\r\n          >\r\n      </el-input>\r\n      <small v-if=\"errors.comment\">{{errors.comment}}</small>\r\n      <div class=\"component-wrapper\">\r\n        <el-button\r\n            size=\"medium\"\r\n            class=\"body-button\"\r\n            icon=\"el-icon-back\"\r\n            type=\"info\"\r\n            @click=\"cancelRejectRequest\">\r\n          Назад\r\n        </el-button>\r\n        <el-button\r\n            size=\"medium\"\r\n            class=\"body-button\"\r\n            icon=\"el-icon-check\"\r\n            type=\"info\"\r\n            @click=\"confirmRejectRequest\">\r\n          Отклонить\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"component-wrapper\" v-if=\"requestStatus.status!=='completed' && !isCreator && !isManageRequest&& !isDeleteRejected\">\r\n      <el-button\r\n          size=\"medium\"\r\n          class=\"body-button body-button-color\"\r\n          @click=\"$store.commit('setComponent', 'list')\"\r\n          icon=\"el-icon-back\"\r\n          plain\r\n          type=\"info\">\r\n        Вернуться к списку\r\n      </el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ShowInfo from './showInfo'\r\nexport default {\r\n  name       : \"requestDetailShow\",\r\n  components : {ShowInfo},\r\n  data(){\r\n    return {\r\n      comment           : '',\r\n      show              : {\r\n        table_1  : [],\r\n        table_2  : [],\r\n      },\r\n      functions         : [],\r\n      reject            : false,\r\n\r\n      map               : {},\r\n      errors            : {\r\n        comment         : '',\r\n      }\r\n    }\r\n  },\r\n  computed : {\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n\r\n    notPossibleEdit (){\r\n      if (this.isManageRequest)\r\n        return (this.requestStatus.status === 'created' || this.requestStatus.status === 'rejected' || this.requestStatus.status === 'performed') ? false : true;\r\n      if (this.isCreator)\r\n        return (this.requestStatus.status === 'created' || this.requestStatus.status === 'rejected') ? false : true;\r\n    },\r\n    notPossibleDelete (){\r\n      return ( (this.requestStatus.status === 'created' || this.requestStatus.status === 'rejected') && this.isCreator || this.requestStatus.status === 'rejected' && this.isDeleteRejected) ? false : true;\r\n    },\r\n\r\n    requestId() {\r\n      return this.$store.getters.requestId;\r\n    },\r\n    requestStatus(){\r\n      return this.$store.getters.requestState\r\n    },\r\n\r\n    gen_document(){\r\n      return this.$store.getters.genDocument;\r\n    },\r\n    signature(){\r\n      return this.$store.getters.signature;\r\n    },\r\n    documentId(){\r\n      return this.$store.getters.documentId;\r\n    },\r\n    documentName(){\r\n      return this.$store.getters.documentName\r\n    },\r\n    user_id() {\r\n      return this.$store.getters.userId\r\n    },\r\n    isCreator(){\r\n      return this.$store.getters.isCreator;\r\n    },\r\n    isResponsible(){\r\n      return this.$store.getters.isResponsible;\r\n    },\r\n    isManageRequest(){\r\n      return this.$store.getters.charters('manageRequest')\r\n    },\r\n    isRoot(){\r\n      return this.$store.getters.charters('root')\r\n    },\r\n    isDeleteRejected(){\r\n      this.$store.getters.charters('deleteRejected')\r\n    },\r\n  },\r\n  methods : {\r\n    goToDocument(){\r\n      this.$store.commit('setPage', 'document');\r\n      this.$store.commit('setComponent', 'detail');\r\n    },\r\n    addByExist(){\r\n      this.$confirm(`Вы уверены, что хотите создать новую заявку на основе данных заявки с ID - ${this.requestId} ?`).then(() => {\r\n        this.$store.commit('setPage', 'request');\r\n        this.$store.commit('setComponent', 'addByExist');\r\n      }).catch(() => {});\r\n    },\r\n    editRequest() {\r\n        this.$confirm(`Вы уверены, что хотите Редактировать заявку с ID - ${this.requestId} ?`).then(() => {\r\n          this.$store.commit('setComponent', 'edit')\r\n        }).catch(() => {});\r\n    },\r\n    deleteRequest() {\r\n      if (this.requestStatus.status === 'created' || this.requestStatus.status === 'rejected'){\r\n        this.$confirm(`Вы уверены, что хотите удалить заявку с ID - ${this.requestId} ?`).then(async() => {\r\n          this.loading = true;\r\n          let result = await this.$store.dispatch('query', {\r\n            url: '/api/vicarious/request/delete',\r\n            data: {\r\n              id : this.requestId,\r\n            }\r\n          });\r\n          if (result.status == 'success') {\r\n            this.$store.commit('setComponentParams',{});\r\n            this.$store.commit('setRequestState',   {});\r\n            this.$store.commit('setGenDocument',    false);\r\n            this.$store.commit('setCreatorId',      null);\r\n            this.$store.commit('setResponsibleId',  null);\r\n            this.$store.commit('setComponent',      'list')\r\n            this.$store.commit('setMessage',        {text: result.message, header: 'Успешно!', type: 'success'});\r\n          } else\r\n            this.$store.commit('setMessage',        {text: result.message, header: 'Возникла проблема!', type: 'error'});\r\n          this.loading = false;\r\n        }).catch(() => {});\r\n      } else\r\n        this.$store.commit('setMessage',{header : `Текущий статус заявки - ${this.requestStatus.value}.`, text: 'Удалить возможно только заявку со статусом - \"Заявка создана\" или \"Заявка отклонена\"  !', type : 'warning'});\r\n    },\r\n    performRequest() {\r\n      if (this.requestStatus.status === 'created'){\r\n        this.$confirm(`Вы уверены, что хотите Принять в работу заявку с ID - ${this.requestId} ?`).then(async() => {\r\n          this.loading = true;\r\n          let result = await this.$store.dispatch('query',{\r\n            url   : '/api/vicarious/request/set-work',\r\n            data  : {\r\n              id  : this.requestId,\r\n            }\r\n          });\r\n          if(result.status == 'success') {\r\n            this.$store.commit('setMessage', {text: result.message, header: 'Успешно!', type: 'success'});\r\n            this.$store.commit('setResponsibleId', this.user_id);\r\n            await this.getData();\r\n            this.$store.commit('setRequestState', {status : result.request_status.en, value : result.request_status.rus});\r\n          }else\r\n            this.$store.commit('setMessage',{text : result.message,header : 'Возникла проблема!', type: 'error'});\r\n          this.loading = false;\r\n        }).catch(() => {});\r\n      }else\r\n        this.$store.commit('setMessage',{header : `Текущий статус заявки - ${this.requestStatus.value}.`, text: 'Принять в работу возможно только заявку со статусом - \"Заявка создана\" !', type : 'warning'});\r\n    },\r\n    rejectRequest() {\r\n      this.reject = true;\r\n      setTimeout(() => {window.scrollTo(0,15000)},0)\r\n    },\r\n    confirmRejectRequest() {\r\n      if (this.comment) {\r\n        this.$confirm(`Вы уверены, что хотите Отклонить заявку с ID - ${this.requestId} ?`).then(async () => {\r\n          this.loading = true;\r\n          let first_result = await this.$store.dispatch('query',{\r\n            url    :  '/api/vicarious/request/set-reject',\r\n            data   :   {\r\n              id             : this.requestId,\r\n              document_id    : this.documentId,\r\n              solution       : false,\r\n              reason         : this.comment,\r\n            }\r\n          });\r\n          if (first_result.status == 'success') {\r\n            this.$store.commit('setMessage', {text: first_result.message, header: 'Успешно!', type: 'success'});\r\n            await this.getData();\r\n            this.$store.commit('setRequestState', {status : first_result.request_status.en, value : first_result.request_status.rus});\r\n            this.$store.commit('setSignature', 0);\r\n          } else\r\n            this.$store.commit('setMessage', {text: first_result.message, header: 'Возникла проблема с отклонением заявки!', type: 'error'});\r\n          this.comment = '';\r\n          this.reject  = false;\r\n          this.loading = false;\r\n        }).catch(() => {});\r\n      } else this.errors.comment = 'Необходимо указать причину!'\r\n    },\r\n    cancelRejectRequest(){\r\n      this.comment = '';\r\n      this.reject  = false;\r\n    },\r\n    async getData() {\r\n      this.loading = true;\r\n\r\n      // ниже заполняем маппинг - перевод ангийских слов в русские\r\n      this.$store.getters.queryType.forEach(el => {this.map[el.value] = el.label});\r\n      this.$store.getters.queryTypeDocument.forEach(el => {this.map[el.value] = el.label});\r\n      this.$store.getters.statusList.forEach(el => {this.map[el.value] = el.label});\r\n\r\n      // список всех существующих функций\r\n      let functions = await this.$store.dispatch('query',{url : '/api/vicarious/function/list',data : {}});\r\n      if (functions.status == 'success'){\r\n        this.functions = functions.data.map(el => {\r\n          return {value : el.id[0].value, label : el.name[0].value};\r\n        })\r\n      }\r\n\r\n      // ниже получаем ВСЮ информацию о заявке, зная ее ID\r\n      let result = await this.$store.dispatch('query',{url : '/api/vicarious/request/get-edit',data : {id : this.requestId}});\r\n\r\n      if(result.status == 'success') {\r\n\r\n        // ниже закинуть в store  ID и имя документа,  documentStorageId\r\n        if (result.data.document.length > 0 ) {\r\n          this.$store.commit(\"setDocumentId\", result.data.document[0].id);\r\n          this.$store.commit(\"setDocumentName\", result.data.document[0].name);\r\n          this.$store.commit('setDocumentStorage', result.data.document[0].storage)\r\n        } else {\r\n          this.$store.commit(\"setDocumentId\",null);\r\n          this.$store.commit(\"setDocumentName\",null);\r\n          this.$store.commit('setDocumentStorage', null)\r\n        }\r\n\r\n        // ниже статус заявки, там ключи: status -английский вариант и value - русский вариант\r\n        this.$store.commit('setRequestState', result.data.status[0]);\r\n\r\n        // ниже метка того формировался ли проект документа в word\r\n        this.$store.commit('setGenDocument', result.data.gen_document)\r\n\r\n        // ниже метка того загружался ли в систему проект документа в word\r\n        this.$store.commit(\"document_project\", result.data.document_project);\r\n\r\n        // ниже сам файл проекта документа - объект со всеми данными\r\n        if(result.data.document_project)\r\n            this.$store.commit('projectFile', result.data.project_files[0].value);\r\n          else  this.$store.commit('projectFile', {});\r\n\r\n        // ниже метка того на подписи заявка или нет\r\n        this.$store.commit('setSignature', result.data.signature)\r\n\r\n        // ниже кто создатель заявки и кто по ней ответственный\r\n        this.$store.commit('setCreatorId', result.data.creator[0].value);\r\n        if (result.data.responsible.length > 0) this.$store.commit('setResponsibleId', result.data.responsible[0].key);\r\n\r\n        // ниже готовим данные для таблицы компонента showInfo\r\n\r\n       // ниже функционал заявки\r\n        let functions = [];\r\n        result.data.functions.length > 0 ?\r\n          result.data.functions.forEach(el => {this.functions.forEach(item => {item.value === el ? functions.push(item.label) : ''})}) :\r\n          functions.push('Нет данных') ;\r\n\r\n        //ниже причины отклонения или аннулирования документа\r\n        let reason = '';\r\n        if (this.requestStatus.status === 'rejected') reason = result.data.date_cancel + ', ' + result.data.who_cancel + ', ' + ' причина - '+ result.data.reason; else reason = '';\r\n\r\n        // доп файлы у заявки\r\n        let files = [];\r\n        result.data.files.length > 0 ? files = result.data.files.map(el => {return el.value}) : files.push('Нет данных');\r\n        //значение ключа value всегда должно быть массивом, иначе при отрисовки таблице в компаненте showInfo будет столько строк сколько букв в слове\r\n\r\n        // ниже формируем сами таблицы для деталки\r\n        this.show.table_1 = [\r\n          {label_1 : 'Тип заявки',       value_1 : [this.map[result.data.type]],          label_2 : 'Дата создания заявки', value_2 : [result.data.created_at]},\r\n          {label_1 : 'Тип доверенности', value_1 : [this.map[result.data.document_type]], label_2 : 'Дата принятия заявки', value_2 : [result.data.responsible_date]},\r\n        ];\r\n\r\n        // ниже доверенные лица\r\n        let usersToShow = [], whoReceive ='';\r\n        whoReceive = result.data.receiver;\r\n\r\n        if (whoReceive === 'individual'){\r\n          if (result.data.users.length > 0){\r\n            for (let i = 0; i < result.data.users.length; i++) {\r\n              usersToShow.push(result.data.users[i].href + ', ' + result.data.users[i].department + ', ' +result.data.users[i].position)\r\n              if (result.data.users[i].org instanceof Array) {\r\n                for (let j = 0; j < result.data.users[i].org.length; j++) { usersToShow.push('( ' + result.data.users[i].org[j].name + ', ' + result.data.users[i].org[j].position + ' )' )}\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          if (result.data.users.length > 0){\r\n            usersToShow.push(result.data.users[0].label)\r\n          }\r\n        }\r\n\r\n        this.show.table_2 =[\r\n          {label : 'Заказчик',                           value : result.data.creator.map(el => {return  el.label +', ' + el.department +', ' + el.position})},\r\n          {label : whoReceive === 'individual' ? 'Доверенное лицо' : 'Доверенная организация', value : usersToShow},\r\n          {label : 'Ответственный',                      value : [result.data.responsible[0].value]},\r\n          {label : 'Организация',                        value : [result.data.company.label]},\r\n          {label : 'Функционал',                         value : functions},\r\n          {label : 'Дата начала действия документа',     value : [result.data.date_start]},\r\n          {label : 'Дата окончания действия документа',  value : [result.data.date_final]},\r\n          {label : 'Причина отклонения / аннулирования', value : [reason]},\r\n          {label : 'Комментарии',                        value : [result.data.comment]},\r\n          {label : 'Дополнительные файлы (прошлые доверенности НЕ прикладывать)', value : files},\r\n        ];\r\n        //if (this.requestStatus.status === 'rejected'){this.show.table_2.splice(7,0, {label : 'Причина отклонения / аннулирования', value : [reason]});}\r\n\r\n      } else\r\n         this.$store.commit('setMessage', {text: result.message, header: 'Возникла проблема!', type: 'error'});\r\n      this.loading = false;\r\n      setTimeout(() => {window.scrollTo(0,15000)},0)\r\n    },\r\n  },\r\n  created() {\r\n    window.vicariousLoadFile = async function(id, fileName,type){\r\n      try {\r\n        let result = await this.$store.dispatch('query', {\r\n          url             : '/api/vicarious/request/load-file',\r\n          downloadRequest : true,\r\n          data            : {id : id, type : type},\r\n        });\r\n        let blob      = await result.blob();\r\n        let url       = URL.createObjectURL(blob);\r\n        let link      = document.createElement('a');\r\n        link.href     = url;\r\n        link.download = fileName;\r\n        link.click();\r\n        URL.revokeObjectURL(link.href);\r\n      }catch(e){\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!', type: 'error'});\r\n      }\r\n      return false;\r\n    }.bind(this);\r\n    this.getData();\r\n  },\r\n  watch :{\r\n    'comment' : function(){\r\n      this.errors.comment = null;\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style>\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./show.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./show.vue?vue&type=template&id=1488299a&\"\nimport script from \"./show.vue?vue&type=script&lang=js&\"\nexport * from \"./show.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"body-wrapper\"},[_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":18}},[_c('h2',[_vm._v(\" Заявка № \"+_vm._s(_vm.requestId))]),_c('h3',[_vm._v(\"Статус заявки - \"+_vm._s(_vm.requestStatus.value)+\" \"+_vm._s(_vm.signature ? ', на подписании' : '')+\" \"+_vm._s(_vm.requestStatus.status==='rejected' ? '(доп. информация в истории согласования)' : ''))])]),_c('el-col',{attrs:{\"span\":6}},[((_vm.isResponsible || _vm.isRoot) && (_vm.requestStatus.status === 'completed' || _vm.requestStatus.status === 'agree' || _vm.requestStatus.status === 'deleted'))?_c('div',{staticClass:\"component-wrapper\"},[_c('el-button',{attrs:{\"size\":\"medium\",\"icon\":\"el-icon-refresh-left\",\"type\":\"danger\"},on:{\"click\":_vm.returnToWork}},[_vm._v(\" Вернуть заявку в работу \")])],1):_vm._e(),((_vm.isResponsible || _vm.isRoot) && (_vm.requestStatus.status === 'performed' || _vm.requestStatus.status === 'rejected'))?_c('div',{staticClass:\"component-wrapper\"},[_c('el-button',{attrs:{\"size\":\"medium\",\"icon\":\"el-icon-refresh-left\",\"type\":\"danger\"},on:{\"click\":_vm.returnToCreated}},[_vm._v(\" Вернуть на \\\"Заявка создана\\\" \")])],1):_vm._e()])],1),_c('el-container',[_c('el-aside',{class:['label-color-grey', {'label-color-green' : _vm.requestStatus.status === 'agree' || _vm.requestStatus.status === 'completed'}, {'label-color-red' : _vm.requestStatus.status === 'rejected' || _vm.requestStatus.status === 'deleted'}],attrs:{\"width\":\"20px\"}}),_c('el-main',[(_vm.requestStatus.status === 'deleted')?_c('label',[_vm._v(\" Заявка была удалена \")]):_vm._e(),(_vm.requestStatus.status === 'created')?_c('label',[_vm._v(\" Заявка ожидает обработки \")]):_vm._e(),(_vm.requestStatus.status === 'performed' && !_vm.isApproving)?_c('label',[_vm._v(\" Заявка принята в работу \"),(_vm.signature)?_c('span',[_vm._v(\", на подписании\")]):_vm._e()]):_vm._e(),(_vm.requestStatus.status === 'performed' && _vm.isApproving)?_c('label',[_vm._v(\" Создание листа согласования заявки \")]):_vm._e(),(_vm.requestStatus.status === 'pending_agree')?_c('label',[_vm._v(\" Заявка в процессе согласования. Подробнее во вкладке \\\"История согласования\\\" \")]):_vm._e(),(_vm.requestStatus.status === 'agree')?_c('label',[_vm._v(\" Заявка согласована. Подробнее во вкладке \\\"История согласования\\\" \")]):_vm._e(),(_vm.requestStatus.status === 'completed')?_c('label',[_vm._v(\" Заявка выполнена \")]):_vm._e(),(_vm.requestStatus.status === 'rejected')?_c('label',[_vm._v(\" Заявка отклонена \")]):_vm._e()])],1),(_vm.documentId)?_c('p',[_vm._v(\"Документ - № \"+_vm._s(_vm.documentName))]):_vm._e(),(_vm.document_project)?_c('p',[_vm._v(\" Проект документа - \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.project_file)}})]):_vm._e(),(_vm.documentStorage)?_c('p',[_vm._v(\"Место хранения оригинала документа - \"+_vm._s(_vm.queryData.storageName))]):_vm._e(),_c('hr'),((_vm.isResponsible || _vm.isRoot) && !_vm.isApproving)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[(_vm.requestStatus.status === 'performed' || _vm.requestStatus.status === 'agree')?_c('el-row',{staticClass:\"component-wrapper\"},[_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-download\",\"type\":\"info\"},on:{\"click\":_vm.getDocument}},[_vm._v(\" Сформировать проект документа \")])],1):_vm._e(),(_vm.requestStatus.status === 'performed' && _vm.gen_document )?_c('el-row',{staticClass:\"component-wrapper\"},[_c('el-upload',{ref:\"uploadProject\",staticClass:\"body-button \",attrs:{\"action\":\"\",\"auto-upload\":false,\"on-change\":_vm.fileChange}},[_c('el-button',{attrs:{\"size\":\"medium\",\"icon\":\"el-icon-document\",\"type\":\"info\"}},[_vm._v(\" Загрузить проект документа \")])],1)],1):_vm._e(),(_vm.requestStatus.status === 'performed' && _vm.document_project )?_c('el-row',{staticClass:\"component-wrapper\"},[_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-coordinate\",\"type\":\"info\"},on:{\"click\":function($event){_vm.isApproving=true}}},[_vm._v(\" Согласовать заявку \")])],1):_vm._e(),((_vm.requestStatus.status === 'performed' || _vm.requestStatus.status === 'agree') && _vm.document_project)?_c('el-row',{staticClass:\"component-wrapper\"},[_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-edit-outline\",\"type\":\"info\"},on:{\"click\":_vm.toSignature}},[_vm._v(\" \"+_vm._s(_vm.signature ? 'Отозвать с подписания' : 'Отдать на подписание')+\" \")]),_c('div',{staticClass:\"body-button-container\"},[_c('span',{staticClass:\"body-button\"},[_c('label',[_vm._v(\"Хранение оригинала\")]),_c('el-select',{class:_vm.errors.storage ? 'invalid' : '',attrs:{\"placeholder\":\"Хранение оригинала\"},model:{value:(_vm.queryData.storageId),callback:function ($$v) {_vm.$set(_vm.queryData, \"storageId\", $$v)},expression:\"queryData.storageId\"}},_vm._l((_vm.storages),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-button',{attrs:{\"size\":\"medium\",\"icon\":\"el-icon-check\",\"type\":\"primary\"},on:{\"click\":_vm.saveStorage}})],1)],1):_vm._e(),((_vm.requestStatus.status === 'performed' || _vm.requestStatus.status === 'agree') && _vm.documentStorage)?_c('el-row',{staticClass:\"component-wrapper\"},[_c('el-upload',{ref:\"uploadScan\",staticClass:\"body-button\",attrs:{\"action\":\"\",\"auto-upload\":false,\"on-change\":_vm.completedRequest,\"multiple\":false}},[_c('el-button',{attrs:{\"size\":\"medium\",\"icon\":\"el-icon-upload2\",\"type\":\"info\"}},[_vm._v(\" Загрузить подписанный документ \")])],1)],1):_vm._e()],1):_vm._e(),(_vm.isApproving)?_c('div',[(_vm.requestStatus.status === 'performed')?_c('Add',{staticClass:\"component-wrapper\"}):_vm._e(),(_vm.requestStatus.status === 'pending_agree')?_c('Pending',{staticClass:\"component-wrapper\"}):_vm._e(),(_vm.requestStatus.status === 'pending_agree' && (_vm.isResponsible || _vm.isRoot))?_c('el-row',{staticClass:\"component-wrapper\"},[_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-back\",\"type\":\"info\"},on:{\"click\":_vm.backToShow}},[_vm._v(\" Вернуться к информации о заявке \")]),_c('el-button',{staticClass:\"body-button\",attrs:{\"icon\":\"el-icon-close\",\"type\":\"danger\"},on:{\"click\":_vm.cancelApprove}},[_vm._v(\" Остановить согласование \")])],1):_vm._e(),_c('div',{staticClass:\"component-wrapper\"},[(_vm.requestStatus.status === 'performed' && (_vm.isResponsible || _vm.isRoot))?_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-back\",\"type\":\"info\"},on:{\"click\":function($event){_vm.isApproving=false}}},[_vm._v(\" Назад \")]):_vm._e()],1)],1):_vm._e(),((_vm.isResponsible || _vm.isRoot) && _vm.requestStatus.status === 'completed')?_c('el-row',{staticClass:\"component-wrapper\"},[_c('el-button',{staticClass:\"body-button\",staticStyle:{\"white-space\":\"normal !important\"},attrs:{\"size\":\"medium\",\"icon\":\"el-icon-document\",\"type\":\"info\"},on:{\"click\":_vm.goToDocument}},[_vm._v(\" Перейти к документу № \"+_vm._s(_vm.documentName)+\" \")])],1):_vm._e(),(!_vm.isApproving)?_c('el-row',{staticClass:\"component-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-back\",\"type\":\"info\"},on:{\"click\":_vm.backToShow}},[_vm._v(\" Вернуться к информации о заявке \")])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('div',[_c('h3',[_vm._v(\"Согласование заявки\")]),_vm._m(0),_c('el-select',{attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":'Укажите согласующего',\"remote-method\":_vm.searchApprover,\"loading\":_vm.loading},on:{\"change\":_vm.addApprover},model:{value:(_vm.approver),callback:function ($$v) {_vm.approver=$$v},expression:\"approver\"}},_vm._l((_vm.approverFromSearch),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"15px\"},attrs:{\"data\":_vm.showTable}},[_c('el-table-column',{attrs:{\"prop\":\"label\"}}),_c('el-table-column',{attrs:{\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"danger\",\"icon\":\"el-icon-remove\"},on:{\"click\":function($event){return _vm.removeApprover(scope.$index)}}},[_vm._v(\"Удалить\")])]}}])})],1),_c('div',{attrs:{\"align\":\"right\"}},[(_vm.showTable.length > 0)?_c('el-button',{staticClass:\"body-button\",attrs:{\"icon\":\"el-icon-check\",\"type\":\"info\"},on:{\"click\":_vm.sendToApprove}},[_vm._v(\" Отправить на согласование \")]):_vm._e()],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b',[_c('label',[_vm._v(\"Добавление согласующих:\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-loading=\"loading\">\r\n    <div >\r\n      <h3>Согласование заявки</h3>\r\n\r\n<!--      <el-row :gutter=\"24\" class=\"mb15\">-->\r\n<!--        <el-col :span=\"6\" ref=\"uploadCol\">-->\r\n<!--          <label>Дополнительные файлы</label>-->\r\n<!--          <el-upload action=\"\" ref=\"upload\" :auto-upload=\"false\" >-->\r\n<!--            <el-button size=\"medium\" icon=\"el-icon-download\" :class=\"'fluid-button'\" type=\"info\"> Добавить файл</el-button>-->\r\n<!--          </el-upload>-->\r\n<!--        </el-col>-->\r\n<!--        <el-col :span=\"18\" ref=\"commentCol\">-->\r\n<!--          <label>Комментарий</label>-->\r\n<!--          <el-input type=\"textarea\" rows=\"4\" v-model=\"queryData.comment\" ></el-input>-->\r\n<!--        </el-col>-->\r\n<!--      </el-row>-->\r\n\r\n      <b><label>Добавление согласующих:</label></b>\r\n      <el-select\r\n          v-model=\"approver\"\r\n          filterable\r\n          remote\r\n          reserve-keyword\r\n          :placeholder=\"'Укажите согласующего'\"\r\n          :remote-method=\"searchApprover\"\r\n          :loading=\"loading\"\r\n          @change=\"addApprover\"\r\n      >\r\n        <el-option\r\n            v-for=\"item in approverFromSearch\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n        >\r\n        </el-option>\r\n      </el-select>\r\n\r\n      <el-table\r\n          :data=\"showTable\"\r\n          style=\"width: 100%; margin-bottom: 15px\">\r\n        <el-table-column\r\n            prop=\"label\">\r\n        </el-table-column>\r\n        <el-table-column align=\"right\">\r\n          <template #default=\"scope\">\r\n            <el-button\r\n                size=\"medium\"\r\n                type=\"danger\"\r\n                icon=\"el-icon-remove\"\r\n                @click=\"removeApprover(scope.$index)\">Удалить</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div align=\"right\">\r\n        <el-button\r\n            class=\"body-button\"\r\n            v-if=\"showTable.length > 0\"\r\n            @click=\"sendToApprove\"\r\n            icon=\"el-icon-check\"\r\n            type=\"info\" >\r\n          Отправить на согласование\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"requestDetailBusinessApproveAdd\",\r\n  data: function () {\r\n    return {\r\n      approver: {},\r\n      approverFromSearch: [],\r\n      showTable: [],\r\n      queryData: {\r\n        approver: [],\r\n        comment: '',\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    loading: {\r\n      get: function () {\r\n        return this.$store.getters.loading;\r\n      },\r\n      set: function (value) {\r\n        this.$store.commit('setLoading', value)\r\n      }\r\n    },\r\n    requestId() {\r\n      return this.$store.getters.requestId\r\n    },\r\n  },\r\n  methods: {\r\n    addApprover() {\r\n      if (this.queryData.approver.indexOf(this.approver) < 0) {\r\n        this.queryData.approver.push(this.approver)\r\n        this.approverFromSearch.forEach(el => {\r\n          el.value === this.approver ? this.showTable.push({'label': el.label}) : ''\r\n        })\r\n      } else this.$store.commit('setMessage', {text: 'Выбранный согласующий был добавлен ранее! ', type: 'warning'});\r\n      this.approver = '';\r\n      this.approverFromSearch = [];\r\n    },\r\n    async searchApprover(query) {\r\n      let url = '/api/vicarious/user/search';\r\n      let result = await this.$store.dispatch('query', {url: url, data: {q: query}});\r\n      if (result.status == 'success') {\r\n        this.approverFromSearch = result.data;\r\n      }\r\n    },\r\n    removeApprover(index) {\r\n      this.showTable.splice(index, 1);\r\n      this.queryData.approver.splice(index, 1);\r\n    },\r\n    async sendToApprove() {\r\n      this.loading = true;\r\n      let data = new FormData();\r\n      data.append('request_id', this.requestId);\r\n      data.append('coordinator_id', this.queryData.approver,);\r\n      data.append('commment', this.queryData.comment,);\r\n      // data.append('name', this.$store.getters.documentName + '_' + new Date().toLocaleDateString().split('.').join('_'));\r\n      data.append('file[0]', this.$refs.upload.uploadFiles[0].raw);\r\n\r\n      let result = await this.$store.dispatch('query', {\r\n        url: '/api/vicarious/request/coordination-add',\r\n        data: data,\r\n        type: 'file'\r\n      });\r\n\r\n      if (result.status == 'success') {\r\n        this.$store.commit('setMessage', {text: result.message, type: 'success'});\r\n        this.$store.commit('setRequestState', {status: 'pending_agree', value: 'На согласовании'});\r\n        this.$refs.upload.clearFiles();\r\n      } else\r\n        this.$store.commit('setMessage', {text: result.message, type: 'error'});\r\n      this.loading = false;\r\n\r\n    },\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=18935dbb&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.showTable}},[_c('el-table-column',{attrs:{\"align\":\"left\",\"prop\":\"label\",\"label\":\"Согласующие заявку\"}}),_c('el-table-column',{attrs:{\"align\":\"left\",\"prop\":\"solution\",\"label\":\"Решение по заявке\"}})],1),(_vm.currentApproverId === _vm.user_id)?_c('div',{staticClass:\"component-wrapper\"},[_c('label',[_vm._v(\"Комментарий\")]),_c('el-input',{class:_vm.errors.comment ? 'invalid' : '',attrs:{\"type\":\"textarea\",\"rows\":\"4\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}}),(_vm.errors.comment)?_c('small',[_vm._v(_vm._s(_vm.errors.comment))]):_vm._e(),_c('div',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"align\":\"right\"}},[_c('el-button',{staticClass:\"body-button\",attrs:{\"icon\":\"el-icon-check\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.requestDecision(true)}}},[_vm._v(\" Утвердить \")]),_c('el-button',{staticClass:\"body-button\",attrs:{\"icon\":\"el-icon-close\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.requestDecision(false)}}},[_vm._v(\" Отклонить \")])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div  v-loading=\"loading\">\r\n    <el-table\r\n        :data=\"showTable\"\r\n        style=\"width: 100%\">\r\n      <el-table-column\r\n          align=\"left\"\r\n          prop=\"label\"\r\n          label=\"Согласующие заявку\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          align=\"left\"\r\n          prop=\"solution\"\r\n          label=\"Решение по заявке\">\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"component-wrapper\" v-if=\"currentApproverId === user_id\">\r\n      <label>Комментарий</label>\r\n      <el-input\r\n          type=\"textarea\"\r\n          rows=\"4\"\r\n          v-model=\"comment\"\r\n          :class=\"errors.comment ? 'invalid' : ''\"\r\n          >\r\n      </el-input>\r\n      <small v-if=\"errors.comment\">{{ errors.comment}}</small>\r\n      <div style=\"margin-top: 15px\" align=\"right\">\r\n        <el-button\r\n            class=\"body-button\"\r\n            icon=\"el-icon-check\"\r\n            type=\"success\"\r\n            @click=\"requestDecision(true)\">\r\n          Утвердить\r\n        </el-button>\r\n        <el-button\r\n            class=\"body-button\"\r\n            icon=\"el-icon-close\"\r\n            type=\"danger\"\r\n            @click=\"requestDecision(false)\">\r\n          Отклонить\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"requestDetailBusinessApprovePending\",\r\n  data(){\r\n    return {\r\n      currentApproverId     : null,\r\n      currentApproverKey    : null,\r\n      comment               : '',\r\n      showTable             : [],\r\n\r\n      errors                : {\r\n        comment             : null,\r\n      },\r\n    }\r\n  },\r\n  computed :{\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n    requestId() {\r\n      return this.$store.getters.requestId\r\n    },\r\n    user_id() {\r\n      return this.$store.getters.userId\r\n    },\r\n\r\n  },\r\n  methods : {\r\n    async getData(){\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query',{\r\n        url                  : '/api/vicarious/request/coordination-list',\r\n        data                 : {\r\n        request_id           : this.requestId,\r\n        }\r\n      });\r\n      if(result.status == 'success') {\r\n        if(result.data instanceof Array){\r\n          let solution = null, firstNull = true;\r\n          result.data.forEach(el => {\r\n            if (el.solution === 1) solution='Согласовано';\r\n            if (el.solution === 0) {\r\n              solution = 'Отказ согласования';\r\n              firstNull = false;// если был отказ то кнопки согласования никогда не покажутся\r\n            }\r\n            if (el.solution === null) solution='В очереди';\r\n            if (el.solution === null && firstNull){\r\n              this.currentApproverId = el.value;\r\n              this.currentApproverKey = el.key;\r\n              solution = 'На согласовании';\r\n              firstNull = false;\r\n            }\r\n            this.showTable.push(\r\n                {\r\n                  label       : el.label ,//+' ( id -'+el.value+')',\r\n                  solution    : solution,\r\n                })\r\n          })\r\n        } else {\r\n           result.request_status === 'agree'    ? this.$store.commit('setRequestState', {status: result.request_status, value: 'Согласована'}) : '';\r\n           result.request_status === 'rejected' ? this.$store.commit('setRequestState', {status: result.request_status, value: 'Заявка отклонена'}) : '';\r\n        }\r\n      }else\r\n         this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n      this.loading = false;\r\n    },\r\n    async requestDecision(decision){\r\n      if (!decision && !this.comment){\r\n        this.errors.comment = 'Необходимо указать причину!';\r\n        return;\r\n      } else {\r\n          this.loading = true;\r\n          let result = await this.$store.dispatch('query',{\r\n            url    :  '/api/vicarious/request/coordination-solution',\r\n            data   :   {\r\n              request_id       : this.requestId,\r\n              user_id          : this.user_id,\r\n              id               : this.currentApproverKey,\r\n              solution         : decision,\r\n              reason           : this.comment,\r\n            }\r\n          });\r\n          if(result.status == 'success') {\r\n            this.$store.commit('setMessage', {text: result.message,type : 'success'});\r\n          } else\r\n              this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n          this.loading = false;\r\n          this.showTable = [];\r\n          this.getData();\r\n        }\r\n    },\r\n  },\r\n  created() {\r\n    this.getData();\r\n  },\r\n  watch :{\r\n    'comment' : function(){\r\n      this.errors.comment = null;\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n.body-button{\r\n  width: 15%;\r\n}\r\n.el-col small {\r\n  color: #ff2400;\r\n}\r\n.invalid {\r\n  border:solid 1px;\r\n  border-color: #ff7f50;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pending.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pending.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pending.vue?vue&type=template&id=1bcac3a0&scoped=true&\"\nimport script from \"./pending.vue?vue&type=script&lang=js&\"\nexport * from \"./pending.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pending.vue?vue&type=style&index=0&id=1bcac3a0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bcac3a0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n  <div class=\"body-wrapper\">\r\n    <el-row :gutter=\"24\" class=\"mb15\">\r\n      <el-col :span=\"18\">\r\n        <h2> Заявка № {{requestId}}</h2>\r\n        <h3>Статус заявки - {{requestStatus.value}} {{signature ? ', на подписании' : ''}} {{requestStatus.status==='rejected' ?  '(доп. информация в истории согласования)' : ''}}</h3>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <div class=\"component-wrapper\" v-if=\"(isResponsible || isRoot) && (requestStatus.status === 'completed' || requestStatus.status === 'agree' || requestStatus.status === 'deleted')\">\r\n          <el-button\r\n              size=\"medium\"\r\n              icon=\"el-icon-refresh-left\"\r\n              type=\"danger\"\r\n              @click=\"returnToWork\">\r\n            Вернуть заявку в работу\r\n          </el-button>\r\n        </div>\r\n        <div class=\"component-wrapper\" v-if=\"(isResponsible || isRoot) && (requestStatus.status === 'performed' || requestStatus.status === 'rejected')\">\r\n          <el-button\r\n              size=\"medium\"\r\n              icon=\"el-icon-refresh-left\"\r\n              type=\"danger\"\r\n              @click=\"returnToCreated\">\r\n            Вернуть на \"Заявка создана\"\r\n          </el-button>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <el-container >\r\n      <el-aside width=\"20px\" :class=\"['label-color-grey', {'label-color-green' : requestStatus.status === 'agree' || requestStatus.status === 'completed'}, {'label-color-red' : requestStatus.status === 'rejected' || requestStatus.status === 'deleted'}]\"></el-aside>\r\n      <el-main>\r\n        <label v-if=\"requestStatus.status === 'deleted'\">\r\n          Заявка была удалена\r\n        </label>\r\n        <label v-if=\"requestStatus.status === 'created'\">\r\n          Заявка ожидает обработки\r\n        </label>\r\n        <label v-if=\"requestStatus.status === 'performed' && !isApproving\">\r\n          Заявка принята в работу <span v-if=\"signature\">, на подписании</span>\r\n        </label>\r\n        <label v-if=\"requestStatus.status === 'performed' && isApproving\">\r\n          Создание листа согласования заявки\r\n        </label>\r\n        <label v-if=\"requestStatus.status === 'pending_agree'\">\r\n          Заявка в процессе согласования. Подробнее во вкладке \"История согласования\"\r\n        </label>\r\n        <label v-if=\"requestStatus.status === 'agree'\">\r\n          Заявка согласована. Подробнее во вкладке \"История согласования\"\r\n        </label>\r\n        <label v-if=\"requestStatus.status === 'completed'\">\r\n          Заявка выполнена\r\n        </label>\r\n        <label v-if=\"requestStatus.status === 'rejected'\">\r\n          Заявка отклонена\r\n        </label>\r\n      </el-main>\r\n    </el-container>\r\n    <p v-if=\"documentId\">Документ - № {{documentName}}</p>\r\n    <p v-if=\"document_project\"> Проект документа - <span v-html=\"project_file\"></span></p>\r\n    <p v-if=\"documentStorage\">Место хранения оригинала документа - {{queryData.storageName}}</p>\r\n\r\n    <hr/>\r\n\r\n    <div  v-if=\"(isResponsible || isRoot) && !isApproving\" v-loading=\"loading\">\r\n      <el-row class=\"component-wrapper\"  v-if=\"requestStatus.status === 'performed' || requestStatus.status === 'agree'\">\r\n        <el-button\r\n            size=\"medium\"\r\n            icon=\"el-icon-download\"\r\n            type=\"info\"\r\n            class=\"body-button\"\r\n            @click=\"getDocument\">\r\n          Сформировать проект документа\r\n        </el-button>\r\n      </el-row>\r\n\r\n      <el-row class=\"component-wrapper\" v-if=\"requestStatus.status === 'performed' && gen_document \">\r\n        <el-upload\r\n            action=\"\"\r\n            ref=\"uploadProject\"\r\n            class=\"body-button \"\r\n            :auto-upload=\"false\"\r\n            :on-change=\"fileChange\">\r\n          <el-button\r\n              size=\"medium\"\r\n              icon=\"el-icon-document\"\r\n              type=\"info\">\r\n            Загрузить проект документа\r\n          </el-button>\r\n        </el-upload>\r\n      </el-row>\r\n      <el-row class=\"component-wrapper\" v-if=\"requestStatus.status === 'performed' && document_project \">\r\n        <el-button\r\n            size=\"medium\"\r\n            icon=\"el-icon-coordinate\"\r\n            type=\"info\"\r\n            class=\"body-button\"\r\n            @click=\"isApproving=true\">\r\n          Согласовать заявку\r\n        </el-button>\r\n      </el-row>\r\n      <el-row class=\"component-wrapper\" v-if=\"(requestStatus.status === 'performed' || requestStatus.status === 'agree') && document_project\">\r\n      <el-button\r\n            size=\"medium\"\r\n            icon=\"el-icon-edit-outline\"\r\n            type=\"info\"\r\n            class=\"body-button\"\r\n            @click=\"toSignature\">\r\n          {{signature ? 'Отозвать с подписания' : 'Отдать на подписание'}}\r\n        </el-button>\r\n\r\n        <div class=\"body-button-container\" >\r\n          <span class=\"body-button\" >\r\n            <label>Хранение оригинала</label>\r\n            <el-select\r\n                :class=\"errors.storage ? 'invalid' : ''\"\r\n                v-model=\"queryData.storageId\"\r\n                placeholder=\"Хранение оригинала\"\r\n            >\r\n            <el-option\r\n                v-for=\"item in storages\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n          </span>\r\n          <el-button\r\n              @click=\"saveStorage\"\r\n              size=\"medium\"\r\n              icon=\"el-icon-check\"\r\n              type=\"primary\"\r\n          >\r\n          </el-button>\r\n        </div>\r\n      </el-row>\r\n      <el-row class=\"component-wrapper\" v-if=\"(requestStatus.status === 'performed' || requestStatus.status === 'agree') && documentStorage\">\r\n        <el-upload\r\n            class=\"body-button\"\r\n            action=\"\"\r\n            ref=\"uploadScan\"\r\n            :auto-upload=\"false\"\r\n            :on-change=\"completedRequest\"\r\n            :multiple=\"false\">\r\n          <el-button\r\n              size=\"medium\"\r\n              icon=\"el-icon-upload2\"\r\n              type=\"info\">\r\n            Загрузить подписанный документ\r\n          </el-button>\r\n        </el-upload>\r\n      </el-row>\r\n    </div>\r\n    <div v-if=\"isApproving\">\r\n      <Add class=\"component-wrapper\"     v-if=\"requestStatus.status === 'performed'\"/>\r\n      <Pending class=\"component-wrapper\" v-if=\"requestStatus.status === 'pending_agree'\"/>\r\n      <el-row class=\"component-wrapper\"  v-if=\"requestStatus.status === 'pending_agree' && (isResponsible || isRoot)\">\r\n        <el-button\r\n            class=\"body-button\"\r\n            size=\"medium\"\r\n            icon=\"el-icon-back\"\r\n            type=\"info\"\r\n            @click=\"backToShow\">\r\n          Вернуться к информации о заявке\r\n        </el-button>\r\n        <el-button\r\n            class=\"body-button\"\r\n            icon=\"el-icon-close\"\r\n            type=\"danger\"\r\n            @click=\"cancelApprove\">\r\n          Остановить согласование\r\n        </el-button>\r\n      </el-row>\r\n      <div class=\"component-wrapper\">\r\n        <el-button\r\n            v-if=\"requestStatus.status === 'performed' && (isResponsible || isRoot)\"\r\n            size=\"medium\"\r\n            class=\"body-button\"\r\n            icon=\"el-icon-back\"\r\n            type=\"info\"\r\n            @click=\"isApproving=false\">\r\n          Назад\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n    <el-row class=\"component-wrapper\" v-if=\"(isResponsible || isRoot) && requestStatus.status === 'completed'\">\r\n        <el-button\r\n            class=\"body-button\"\r\n            size=\"medium\"\r\n            icon=\"el-icon-document\"\r\n            type=\"info\"\r\n            @click=\"goToDocument\"\r\n            style=\"white-space: normal !important;\">\r\n          Перейти к документу № {{documentName}}\r\n        </el-button>\r\n      </el-row>\r\n    <el-row class=\"component-wrapper\" v-if=\"!isApproving\">\r\n        <el-button\r\n            class=\"body-button body-button-color\"\r\n            size=\"medium\"\r\n            icon=\"el-icon-back\"\r\n            type=\"info\"\r\n            @click=\"backToShow\">\r\n          Вернуться к информации о заявке\r\n        </el-button>\r\n      </el-row>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Add from './approve/add'\r\nimport Pending from './approve/pending'\r\nexport default {\r\n  name       : \"requestDetailBusiness\",\r\n  components : {Add, Pending},\r\n  emits      : [\"toShowPage\"],\r\n  data(){\r\n    return {\r\n      storages    : [],\r\n      isApproving : false,\r\n\r\n      queryData   : {\r\n        id          : '',\r\n        storageId   : '',\r\n        storageName : '',\r\n      },\r\n\r\n      errors      : {\r\n        storage : null,\r\n      },\r\n    }\r\n  },\r\n  computed :{\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value);\r\n      }\r\n    },\r\n    requestId(){\r\n      return this.$store.getters.requestId;\r\n    },\r\n    requestStatus() {\r\n      return this.$store.getters.requestState;\r\n    },\r\n    isRoot(){\r\n      return this.$store.getters.charters('root')\r\n    },\r\n    isResponsible(){\r\n      return this.$store.getters.isResponsible;\r\n    },\r\n    gen_document(){\r\n      return this.$store.getters.genDocument;\r\n    },\r\n    document_project(){\r\n      return this.$store.getters.document_project;\r\n    },\r\n    project_file(){\r\n      return this.$store.getters.projectFile;\r\n    },\r\n    signature(){\r\n      return this.$store.getters.signature;\r\n    },\r\n    documentId(){\r\n      return this.$store.getters.documentId;\r\n    },\r\n    documentName(){\r\n      return this.$store.getters.documentName;\r\n    },\r\n    documentStorage(){\r\n      return this.$store.getters.documentStorage\r\n    },\r\n  },\r\n  methods :{\r\n    backToShow(){\r\n      this.$emit(\"toShowPage\");\r\n    },\r\n    async fileChange(file) {\r\n      this.loading = true;\r\n      let data = new FormData();\r\n      data.append('document_id', this.documentId);\r\n      data.append('name', this.$store.getters.documentName + '_' + new Date().toLocaleDateString().split('.').join('_'));\r\n      data.append('file[0]', this.$refs.uploadProject.uploadFiles[0].raw);\r\n      let result = await this.$store.dispatch('query', {\r\n        url   : '/api/vicarious/request/upload-project',\r\n        data  : data,\r\n        type  : 'file'\r\n      });\r\n      this.$refs.uploadProject.clearFiles();\r\n      if (result.status == 'success') {\r\n        // ниже метка того загружался ли в систему проект документа в word\r\n        this.$store.commit(\"document_project\", true);\r\n        // ниже сам файл проекта документа - объект со всеми данными\r\n        this.$store.commit('projectFile', result.href.value)\r\n\r\n        this.$store.commit('setMessage', {text: result.message, header: 'Успешно!', type: 'success'});\r\n      } else\r\n        this.$store.commit('setMessage', {text: result.message, header: 'Возникла проблема!', type: 'error'});\r\n      this.loading = false;\r\n    },\r\n    goToDocument(){\r\n      this.$store.commit('setPage', 'document');\r\n      this.$store.commit('setComponent', 'detail');\r\n    },\r\n    returnToWork(){\r\n      this.$confirm(`Вы уверены, что хотите Вернуть заявку с ID - ${this.requestId} в работу ? Связанный с этой заявкой документ, при наличии, будет удален!`).then(async() => {\r\n        let result = await this.$store.dispatch('query',{ url : '/api/vicarious/request/update-status', data : {id : this.requestId, type : 'performed' } });\r\n\r\n        if (result.status === 'success' ){\r\n          this.$store.commit('setRequestState', {status : 'performed', value : 'Принята в работу' });\r\n          this.$store.commit('setGenDocument', 0);\r\n          this.queryData.storageId = '';\r\n          this.queryData.storageName = '';\r\n          this.$store.commit('setDocumentId', null);\r\n          this.$store.commit('setDocumentName', null);\r\n          this.$store.commit('document_project', null);\r\n          this.$store.commit('projectFile', null);\r\n          this.$store.commit('setDocumentStorage', null);\r\n          this.$store.commit('setMessage',{text : result.msg,type : 'success'});\r\n        } else this.$store.commit('setMessage',{text : 'Возникла проблема!',type : 'error'});\r\n      }).catch(() => {});\r\n    },\r\n    returnToCreated(){\r\n      this.$confirm(`Вы уверены, что хотите Вернуть заявку с ID - ${this.requestId} в \"Заявка создана\" ? Связанный с этой заявкой документ, при наличии, будет удален!`).then(async() => {\r\n        let result = await this.$store.dispatch('query',{ url : '/api/vicarious/request/update-status', data : {id : this.requestId, type : 'created' } });\r\n\r\n        if (result.status === 'success' ){\r\n          this.$store.commit('setRequestState', {status : 'created', value : 'Заявка создана' });\r\n          this.$store.commit('setGenDocument', 0);\r\n          this.queryData.storageId = '';\r\n          this.queryData.storageName = '';\r\n          this.$store.commit('setDocumentId', null);\r\n          this.$store.commit('setDocumentName', null);\r\n          this.$store.commit('document_project', null);\r\n          this.$store.commit('projectFile', null);\r\n          this.$store.commit('setDocumentStorage', null);\r\n          this.$store.commit('setMessage',{text : result.msg,type : 'success'});\r\n        } else this.$store.commit('setMessage',{text : 'Возникла проблема!',type : 'error'});\r\n      }).catch(() => {});\r\n    },\r\n    async toSignature(){\r\n      this.loading = true;\r\n      let changeSignature;\r\n      this.signature ? changeSignature = 0 : changeSignature =1;\r\n      let result = await this.$store.dispatch('query',{\r\n        url                  : '/api/vicarious/request/signature',\r\n        data                 : {\r\n          id        : this.requestId,\r\n          signature : changeSignature,\r\n        }\r\n      });\r\n      if (result.status == 'success') {\r\n        this.$store.commit('setSignature', changeSignature);\r\n        this.$store.commit('setMessage', {text: 'Успешно', header: 'Успешно!', type: 'success'});\r\n      } else\r\n        this.$store.commit('setMessage', {text: 'Не успешно', header: 'Возникла проблема!', type: 'error'});\r\n      this.loading = false;\r\n    },\r\n    cancelApprove(){\r\n      this.$confirm(`Вы уверены, что хотите прервать процесс согласования заявки с ID - ${this.requestId} ?`).then(async () => {\r\n        this.loading = true;\r\n        let result = await this.$store.dispatch('query',{\r\n          url                  : '/api/vicarious/request/coordination-stop',\r\n          data                 : {\r\n            id : this.requestId,\r\n          }\r\n        });\r\n        if (result.status == 'success') {\r\n          this.$store.commit('setRequestState', {status: result.request_status, value: 'Принята в работу'});\r\n          this.$store.commit('setMessage', {text: result.message, header: 'Успешно!', type: 'success'});\r\n        } else\r\n          this.$store.commit('setMessage', {text: result.message, header: 'Возникла проблема!', type: 'error'});\r\n        this.loading = false;\r\n      }).catch(() => {});\r\n    },\r\n    async getDocument(){\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query', {\r\n        url         : '/api/vicarious/request/gen-document',\r\n        data        : {\r\n          id        : this.requestId,\r\n          name      : true,\r\n        },\r\n      });\r\n      if (result.status === 'success') {\r\n        let fileName = 'Текущая заявка';\r\n        if (result.name) fileName = result.name;\r\n        this.$store.commit('setDocumentName', fileName.match(/.*\\./i)[0].slice(0,-1));\r\n\r\n        result = await this.$store.dispatch('query', {\r\n          url               : '/api/vicarious/request/gen-document',\r\n          data              : {id : this.requestId},\r\n          downloadRequest   : true,\r\n        });\r\n        if (result.status === 200) {\r\n          let blob       = await result.blob();\r\n          let link       = document.createElement('a');\r\n          link.href      = URL.createObjectURL(blob);\r\n          link.download  = fileName;\r\n          link.click();\r\n          URL.revokeObjectURL(link.href);\r\n          this.$store.commit('setGenDocument', 1);\r\n          result = await this.$store.dispatch('query', {\r\n            url  : '/api/vicarious/request/gen-document',\r\n            data : {\r\n              id     : this.requestId,\r\n              doc_id : true\r\n            },\r\n          });\r\n          if (result.length > 0 ) this.$store.commit('setDocumentId', result[0]); else this.$store.commit('setDocumentId', null)\r\n        } else this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n      } else\r\n        this.$store.commit('setMessage', {text: result.message, type: 'error'});\r\n      this.loading = false;\r\n    },\r\n    async saveStorage(){\r\n      if (this.queryData.storageId === '') {this.errors.storage = 'Необходимо выбрать место!'; return};\r\n      this.queryData.id = this.$store.getters.documentId;\r\n      let result = await this.$store.dispatch('query', {\r\n        url   : '/api/vicarious/storage/set-storage',\r\n        data  : {id : this.queryData.id, storage : this.queryData.storageId}\r\n      });\r\n      if (result.status == 'success') {\r\n        this.$store.commit('setDocumentStorage', this.queryData.storageId);\r\n        this.storages.forEach(el => {if (el.value==this.queryData.storageId) {this.queryData.storageName = el.label; return}});\r\n        this.$store.commit('setMessage', {text: result.message,type : 'success'});\r\n      } else\r\n        this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n    },\r\n    async completedRequest(){\r\n\r\n      let typeFile = this.$refs.uploadScan.uploadFiles[0].raw.type;\r\n      if ( typeFile == 'application/pdf' || typeFile == 'image/jpeg') {\r\n         this.loading = true;\r\n         let data = new FormData();\r\n         data.append('id', this.requestId);\r\n         data.append('name', this.$store.getters.documentName + '_' + new Date().toLocaleDateString().split('.').join('_'));\r\n         data.append('file[0]', this.$refs.uploadScan.uploadFiles[0].raw);\r\n         let result = await this.$store.dispatch('query',{url : '/api/vicarious/request/upload-scan', data : data, type : 'file'});\r\n         if (result.status == 'success') {\r\n           this.$store.commit('setMessage', {text: result.message, type : 'success'});\r\n           if (result.request_status === 'completed') {\r\n                this.$store.commit('setRequestState', {status: result.request_status, value: 'Выполнена'});\r\n             this.$store.commit('setSignature', 0);\r\n            };\r\n         }else\r\n            this.$store.commit('setMessage',{text : result.message, type : 'error'});\r\n         this.$refs.uploadScan.clearFiles();\r\n        this.loading = false;\r\n      } else {\r\n          this.$store.commit('setMessage', {text: 'Необходимо прикрепить файл в формате PDF или JPEG или JPG', header: 'Не верный формат файла', type: 'error'});\r\n          this.$refs.uploadScan.clearFiles();\r\n        }\r\n     },\r\n    async getData(){\r\n      // ниже получаем список всех возможных мест хранения оригинала\r\n      let result = await this.$store.dispatch('query',{ url : '/api/vicarious/storage/list' });\r\n      if (result.status == 'success') {\r\n        this.storages = result.data.map(el => {\r\n          return {value : el.id, label : el.name};\r\n        })\r\n      }\r\n      this.queryData.storageId = this.documentStorage;\r\n      this.storages.forEach(el => {if (el.value === this.documentStorage) {this.queryData.storageName = el.label; return}});\r\n    },\r\n  },\r\n  created(){\r\n    this.requestStatus.status === 'pending_agree' ? this.isApproving = true : this.isApproving = false;\r\n    this.getData();\r\n    window.vicariousLoadFile = async function(id,fileName,type){\r\n      try {\r\n        let result = await this.$store.dispatch('query', {\r\n          url             : '/api/vicarious/request/load-file',\r\n          downloadRequest : true,\r\n          data            : {document_project_id : id, type : type},\r\n        });\r\n        let blob      = await result.blob();\r\n        let url       = URL.createObjectURL(blob);\r\n        let link      = document.createElement('a');\r\n        link.href     = url;\r\n        link.download = fileName;\r\n        link.click();\r\n        URL.revokeObjectURL(link.href);\r\n      }catch(e){\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!', type: 'error'});\r\n      }\r\n      return false;\r\n    }.bind(this);\r\n\r\n\r\n  },\r\n  watch :{\r\n    'requestStatus.status' : function (){\r\n        this.requestStatus.status === 'pending_agree' ? this.isApproving = true : this.isApproving = false;\r\n        this.getData();\r\n    },\r\n    'queryData.storageId'  : function(){\r\n      this.errors.storage = null;\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./business.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./business.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./business.vue?vue&type=template&id=107e22ff&\"\nimport script from \"./business.vue?vue&type=script&lang=js&\"\nexport * from \"./business.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('h2',[_vm._v(\" Заявка № \"+_vm._s(_vm.requestId))]),_c('h3',[_vm._v(\"Статус заявки - \"+_vm._s(_vm.requestStatus.value)+\" \"+_vm._s(_vm.signature ? ', на подписании' : ''))]),_c('hr'),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.showTable}},[_c('el-table-column',{attrs:{\"align\":\"left\",\"prop\":\"label\",\"label\":\"Решение принял\"}}),_c('el-table-column',{attrs:{\"align\":\"left\",\"prop\":\"solution\",\"label\":\"Состояние\"}}),_c('el-table-column',{attrs:{\"align\":\"left\",\"prop\":\"comment\",\"label\":\"Комментарий\"}}),_c('el-table-column',{attrs:{\"align\":\"left\",\"prop\":\"date\",\"label\":\"Дата\"}})],1),_c('div',{staticClass:\"body-button-container\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-back\",\"type\":\"info\"},on:{\"click\":_vm.backToShow}},[_vm._v(\" Вернуться к информации о заявке \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n\r\n    <h2> Заявка № {{requestId}}</h2>\r\n    <h3>Статус заявки - {{requestStatus.value}} {{signature ? ', на подписании' : ''}}</h3>\r\n    <hr/>\r\n    <el-table\r\n        :data=\"showTable\"\r\n        style=\"width: 100%\">\r\n      <el-table-column\r\n          align=\"left\"\r\n          prop=\"label\"\r\n          label=\"Решение принял\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          align=\"left\"\r\n          prop=\"solution\"\r\n          label=\"Состояние\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          align=\"left\"\r\n          prop=\"comment\"\r\n          label=\"Комментарий\">\r\n      </el-table-column>\r\n      <el-table-column\r\n          align=\"left\"\r\n          prop=\"date\"\r\n          label=\"Дата\">\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"body-button-container\">\r\n      <el-button\r\n          class=\"body-button body-button-color\"\r\n          size=\"medium\"\r\n          icon=\"el-icon-back\"\r\n          type=\"info\"\r\n          @click=\"backToShow\">\r\n        Вернуться к информации о заявке\r\n      </el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\n  name    : \"requestDetailComments\",\r\n  emits   : [\"backToShow\"],\r\n  data(){\r\n    return {\r\n      showTable : [],\r\n    }\r\n  },\r\n  computed :{\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n    requestId() {\r\n      return this.$store.getters.requestId;\r\n    },\r\n    requestStatus(){\r\n      return this.$store.getters.requestState;\r\n    },\r\n    signature(){\r\n      return this.$store.getters.signature;\r\n    },\r\n\r\n  },\r\n  methods : {\r\n    backToShow(){\r\n      this.$emit(\"toShowPage\")\r\n    },\r\n    async getData(){\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query',{\r\n        url    :  '/api/vicarious/request/solution-list',\r\n        data   :   {\r\n          request_id  : this.requestId,\r\n        }\r\n      });\r\n      if(result.status == 'success') {\r\n        if(result.data instanceof Array){\r\n          let solution = null, firstNull = true;\r\n          result.data.forEach(el => {\r\n            if (el.solution === 1) solution = 'Согласовано';\r\n            if (el.solution === 0) {\r\n              solution  = 'Заявка отклонена';\r\n              firstNull = false;\r\n            }\r\n            if (el.solution === null) solution = '-';\r\n            if (el.solution === null && firstNull){\r\n              solution  = 'На согласовании';\r\n              firstNull = false;\r\n            }\r\n            this.showTable.push(\r\n                {\r\n                  'label'       : el.label,\r\n                  'solution'    : solution,\r\n                  'comment'     : el.comment,\r\n                  'date'        : el.date,\r\n                })\r\n          })\r\n          if (result.data.length <= 0){\r\n            this.showTable.push(\r\n                {\r\n                  'label'       : 'Процесс согласования не запускался',\r\n                  'solution'    : '-',\r\n                  'comment'     : '-',\r\n                  'date'        : '-',\r\n            })\r\n          } // если не было процесса согласования\r\n        }// если data это массив\r\n      }else\r\n        this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n      this.loading = false;\r\n    },\r\n  },\r\n  created() {\r\n    this.getData();\r\n  }\r\n}\r\n</script>\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comments.vue?vue&type=template&id=23d30800&\"\nimport script from \"./comments.vue?vue&type=script&lang=js&\"\nexport * from \"./comments.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('h2',[_vm._v(\" Заявка № \"+_vm._s(_vm.requestId))]),_c('h3',[_vm._v(\"Статус заявки - \"+_vm._s(_vm.requestStatus.value)+\" \"+_vm._s(_vm.signature ? ', на подписании' : '')+\" \")]),_c('hr'),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.showTable}},[_c('el-table-column',{attrs:{\"align\":\"left\",\"prop\":\"date_update\",\"label\":\"Дата изменения\"}}),_c('el-table-column',{attrs:{\"align\":\"left\",\"prop\":\"who_change\",\"label\":\"Исполнитель\"}}),_c('el-table-column',{attrs:{\"align\":\"left\",\"prop\":\"modification\",\"label\":\"Изменение\"}}),_c('el-table-column',{attrs:{\"align\":\"left\",\"prop\":\"previous_value\",\"label\":\"Предыдущее значение\"}}),_c('el-table-column',{attrs:{\"align\":\"left\",\"prop\":\"new_value\",\"label\":\"Новое значение\"}})],1),_c('div',{staticClass:\"body-button-container\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-back\",\"type\":\"info\"},on:{\"click\":_vm.backToShow}},[_vm._v(\" Вернуться к информации о заявке \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n    <h2> Заявка № {{requestId}}</h2>\r\n    <h3>Статус заявки - {{requestStatus.value}} {{signature ? ', на подписании' : ''}} </h3>\r\n    <hr/>\r\n      <el-table\r\n          :data=\"showTable\"\r\n          style=\"width: 100%\">\r\n        <el-table-column\r\n            align=\"left\"\r\n            prop=\"date_update\"\r\n            label=\"Дата изменения\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            align=\"left\"\r\n            prop=\"who_change\"\r\n            label=\"Исполнитель\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            align=\"left\"\r\n            prop=\"modification\"\r\n            label=\"Изменение\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            align=\"left\"\r\n            prop=\"previous_value\"\r\n            label=\"Предыдущее значение\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            align=\"left\"\r\n            prop=\"new_value\"\r\n            label=\"Новое значение\">\r\n        </el-table-column>\r\n      </el-table>\r\n    <div class=\"body-button-container\">\r\n      <el-button\r\n          class=\"body-button body-button-color\"\r\n          size=\"medium\"\r\n          icon=\"el-icon-back\"\r\n          type=\"info\"\r\n          @click=\"backToShow\">\r\n        Вернуться к информации о заявке\r\n      </el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\n  name : \"requestDetailHistory\",\r\n  emits   : [\"backToShow\"],\r\n  data(){\r\n    return {\r\n      showTable : [],\r\n      map       : {\r\n        function        : 'Функционал',\r\n        company         : 'Организация',\r\n        comment         : 'Комментарий',\r\n        status          : 'Статус',\r\n        document_type   : 'Тип документа',\r\n        type            : 'Тип заявки',\r\n        document_name   : 'Имя документа',\r\n        document_start  : 'Дата начала действия документа',\r\n        document_final  : 'Дата окончания действия документа',\r\n        'gen-document'  : 'Создан документ',\r\n        ''              : '-'\r\n      },\r\n    }\r\n  },\r\n  computed :{\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n    requestId() {\r\n      return this.$store.getters.requestId;\r\n    },\r\n    requestStatus(){\r\n      return this.$store.getters.requestState\r\n    },\r\n    signature(){\r\n      return this.$store.getters.signature;\r\n    },\r\n\r\n  },\r\n  methods : {\r\n    backToShow(){\r\n      this.$emit(\"toShowPage\")\r\n    },\r\n    async getData(){\r\n      this.loading = true;\r\n      this.$store.getters.queryType.forEach(el => {this.map[el.value] = el.label});\r\n      this.$store.getters.queryTypeDocument.forEach(el => {this.map[el.value] = el.label});\r\n      this.$store.getters.queryStatusDocument.forEach(el => {this.map[el.value] = el.label});\r\n      this.$store.getters.statusList.forEach(el => {this.map[el.value] = el.label});\r\n      this.showTable = [];\r\n      let result = await this.$store.dispatch('query',{\r\n        url    :  '/api/vicarious/request/history',\r\n        data   :   {\r\n          id  : this.requestId,\r\n        }\r\n      });\r\n      if(result.status == 'success') {\r\n        if(result.data instanceof Array){\r\n          let obj = {}\r\n          result.data.forEach( el => {\r\n            obj = {\r\n              date_update     : el.date_update,\r\n              modification    : this.map[el.modification],\r\n              who_change      : el.who_change,\r\n              new_value       : this.map[el.new_value] ? this.map[el.new_value] : el.new_value ,\r\n              previous_value  : this.map[el.previous_value] ? this.map[el.previous_value] : el.previous_value ,\r\n            }\r\n            this.showTable.push(obj)\r\n          })\r\n        }\r\n      } else\r\n        this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n      this.loading = false;\r\n    },\r\n  },\r\n  created() {\r\n    this.getData()\r\n  }\r\n}\r\n</script>\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./history.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./history.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./history.vue?vue&type=template&id=035fa0d6&\"\nimport script from \"./history.vue?vue&type=script&lang=js&\"\nexport * from \"./history.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"body-wrapper\">\r\n    <el-button\r\n        class=\"body-button body-button-color\"\r\n        size=\"medium\"\r\n        type=\"info\"\r\n        icon=\"el-icon-back\"\r\n        @click.prevent=\"$store.commit('setComponent','list')\">\r\n      Вернуться к списку\r\n    </el-button>\r\n    <el-tabs type=\"border-card\" class=\"component-wrapper\" v-model=\"page\" @tab-click=\"setActiveMenu\">\r\n      <el-tab-pane v-for=\"(item, key) in menu\" :label=\"item\" :name=\"key\" :key=\"key\">\r\n      </el-tab-pane>\r\n      <Show     v-if=\"page === 'show'\" />\r\n      <Business v-if=\"page === 'business'\"  @toShowPage=\"page='show'\"/>\r\n      <Comments v-if=\"page === 'comments'\"  @toShowPage=\"page='show'\"/>\r\n      <History  v-if=\"page === 'history'\"   @toShowPage=\"page='show'\"/>\r\n    </el-tabs>\r\n    <div class=\"component-wrapper\">\r\n      <br>\r\n      <el-link href=\"https://bitrix.bsi.local/knowledge/instrukcii/korportal/doverrennosti/\" target=\"_blank\"  type=\"danger\" icon=\"el-icon-reading\">Ознакомиться с инструкцией</el-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport Show     from './detail/show'\r\nimport Business from './detail/business'\r\nimport Comments from './detail/comments'\r\nimport History  from './detail/history'\r\n\r\nexport default {\r\n  name        : \"requestDetail\",\r\n  components  : {Show, Business, Comments, History},\r\n  data(){\r\n    return {\r\n      menu        : {\r\n        show      : 'Информация о заявке',\r\n        business  : 'Действия с заявкой',\r\n        comments  : 'История согласования',\r\n        history   : 'История изменений'\r\n      },\r\n      page        : 'show',\r\n    }\r\n  },\r\n  methods : {\r\n    setActiveMenu(key) {\r\n      if(key == null) return false;\r\n      this.page = key.name;\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=04554d14&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n<!--    <keep-alive >-->\r\n      <component :is=\"component\"/>\r\n<!--    </keep-alive>-->\r\n\r\n<!--    <Add          v-if=\"component === 'add'\"/>-->\r\n<!--    <AddByExist   v-if=\"component === 'addByExist'\"/>-->\r\n<!--    <List         v-if=\"component === 'list'\"/>-->\r\n<!--    <Edit         v-if=\"component === 'edit'\"/>-->\r\n<!--    <Detail       v-if=\"component === 'detail'\"/>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Add           from './add'\r\nimport AddByExist    from './addByExist'\r\nimport List          from './list'\r\nimport Edit          from './edit'\r\nimport Detail        from './detail'\r\n\r\nexport default {\r\n  name        : \"pageRequest\",\r\n  components  : {Add, AddByExist, List, Edit, Detail},\r\n  computed    : {\r\n    component : function(){\r\n      return this.$store.getters.component;\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=2c4aac1d&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c(_vm.component,{tag:\"component\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[(_vm.gridReady)?_c('Grid',{directives:[{name:\"event-bus\",rawName:\"v-event-bus:saveVisibleColumn\",value:(_vm.saveVisibleColumn),expression:\"saveVisibleColumn\",arg:\"saveVisibleColumn\"},{name:\"event-bus\",rawName:\"v-event-bus:saveOrderColumn\",value:(_vm.saveOrderColumn),expression:\"saveOrderColumn\",arg:\"saveOrderColumn\"},{name:\"event-bus\",rawName:\"v-event-bus:saveWidthColumn\",value:(_vm.saveWidthColumn),expression:\"saveWidthColumn\",arg:\"saveWidthColumn\"},{name:\"event-bus\",rawName:\"v-event-bus:onSort\",value:(_vm.onSort),expression:\"onSort\",arg:\"onSort\"},{name:\"event-bus\",rawName:\"v-event-bus:changeFilterProfile\",value:(_vm.changeFilterProfile),expression:\"changeFilterProfile\",arg:\"changeFilterProfile\"}],attrs:{\"name\":\"document\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-loading=\"loading\">\r\n    <Grid\r\n        v-if=\"gridReady\"\r\n        name=\"document\"\r\n        v-event-bus:saveVisibleColumn=\"saveVisibleColumn\"\r\n        v-event-bus:saveOrderColumn=\"saveOrderColumn\"\r\n        v-event-bus:saveWidthColumn=\"saveWidthColumn\"\r\n        v-event-bus:onSort=\"onSort\"\r\n        v-event-bus:changeFilterProfile=\"changeFilterProfile\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name : 'documentList',\r\n  data : function (){\r\n    return {\r\n      grid : {\r\n        filter     : {\r\n          data         : {\r\n            id              : {\r\n              show : false,\r\n              type : 'number',\r\n              name : 'ID документа',\r\n            },\r\n            request_id      : {\r\n              show : false,\r\n              type : 'number',\r\n              name : 'ID заявки',\r\n            },\r\n            usersIndividual : {\r\n              type      : 'searchlist',\r\n              name      : 'Доверенное лицо',\r\n              multiple  : true,\r\n              query     : async function (data){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/user/search',\r\n                  data  :  {q : data}\r\n                });\r\n                if(result.status == 'success') return result.data\r\n              }.bind(this),\r\n            },\r\n            usersEntity     : {\r\n              show      : false,\r\n              type      : 'searchlist',\r\n              name      : 'Доверенная организация',\r\n              multiple  : true,\r\n              query     : async function (data){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/company/search',\r\n                  data  :  {q : data}\r\n                });\r\n                if(result.status == 'success') return result.data\r\n              }.bind(this),\r\n            },\r\n            company_id      : {\r\n              type      : 'searchlist',\r\n              name      : 'Организация',\r\n              multiple  : true,\r\n              query     : async function (data){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/company/search',\r\n                  data  :  {q : data}\r\n                });\r\n                if(result.status == 'success') return result.data\r\n              }.bind(this),\r\n            },\r\n            name      : {\r\n              type      : 'searchlist',\r\n              name      : 'Номер документа',\r\n              multiple  : true,\r\n              query     : async function (data){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/request/document-search',\r\n                  data  :  {q : data}\r\n                });\r\n                if(result.status == 'success') return result.data\r\n              }.bind(this),\r\n            },\r\n            document_type   : {\r\n              type     : 'list',\r\n              name     : 'Тип доверенности',\r\n              multiple : true,\r\n              option   : this.$store.getters.queryTypeDocument,\r\n            },\r\n            status          : {\r\n              type     : 'list',\r\n              name     : 'Статус',\r\n              multiple : true,\r\n              option   : this.$store.getters.queryStatusDocument,\r\n            },\r\n            created_at      : {\r\n              show : false,\r\n              type : 'date',\r\n              name : 'Дата создания',\r\n            },\r\n            document_start  : {\r\n              show : false,\r\n              type : 'date',\r\n              name : 'Дата начала действия документа',\r\n            },\r\n            document_final  : {\r\n              show : false,\r\n              type : 'date',\r\n              name : 'Дата окончания действия документа',\r\n            },\r\n            functions       : {\r\n              show      : false,\r\n              type      : 'searchlist',\r\n              name      : 'Функционал документа',\r\n              multiple  : true,\r\n              query     : async function (data){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/function/search',\r\n                  data  :  {q : data}\r\n                });\r\n                if(result.status == 'success') {\r\n                  let functions = result.data.map(el => {\r\n                    return {value : el.value, label : el.label};\r\n                  })\r\n                  return functions\r\n                }\r\n              }.bind(this),\r\n              focus     : async function (){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/function/list',\r\n                  data  :  {sort: {name: \"sort\", order: \"asc\"}}\r\n                });\r\n                if(result.status == 'success') {\r\n                  let functions = result.data.map(el => {\r\n                    return {value : el.id[0].value, label : el.name[0].value};\r\n                  })\r\n                  return functions\r\n                }\r\n              }.bind(this),\r\n\r\n            },\r\n            storage_id      : {\r\n              type     : 'list',\r\n              name     : 'Хранение оригинала',\r\n              multiple : true,\r\n              show     : false,\r\n              option   : [],\r\n            },\r\n          },\r\n          profiles     : [],\r\n          showProfiles : true,\r\n          filter       : function(data){\r\n            this.filterData = data;\r\n            this.$store.commit('setPaginationPage', 1)\r\n            this.getData();\r\n          }.bind(this),\r\n          clear        : function(){\r\n            this.filterData = {};\r\n            this.getData();\r\n          }.bind(this),\r\n        },\r\n        context    : [\r\n          {\r\n            name      : 'Открыть документ',\r\n            function  : function (row) {\r\n              this.$store.commit('setDocumentId', row.id[0].value)\r\n              this.$store.commit('setRequestId',  row.request_id[0].value)\r\n              this.$store.commit('setComponent', 'detail');\r\n            }.bind(this)\r\n          },\r\n          {\r\n            name      : 'Копировать данные в новую заявку',\r\n            function  :  function (row) {\r\n              this.$store.commit('setDocumentId', row.id[0].value)\r\n              this.$store.commit('setRequestId',  row.request_id[0].value)\r\n                this.$confirm(`Вы уверены, что хотите создать новую заявку на основе данных заявки с ID - ${this.requestId} ?`).then(() => {\r\n                  this.$store.commit('setPage', 'request');\r\n                  this.$store.commit('setComponent', 'addByExist');\r\n                }).catch( () => {} );\r\n            }.bind(this)\r\n          },\r\n        ],\r\n        pagination : {\r\n          show        : 'full',\r\n          page        : 1,\r\n          defaultSize : 10,\r\n          sizes       : [10,20,50],\r\n          changeSize : function(value){\r\n            this.$store.commit('setPaginationSize', value);\r\n            this.$grid.commit('normalizePagination', {name : 'document', data : {pagination : {defaultSize : value}}})\r\n            this.getData();\r\n          }.bind(this),\r\n          changePage : function(value){\r\n            this.$store.commit('setPaginationPage', value);\r\n            this.getData();\r\n          }.bind(this)\r\n        },\r\n        header     : {\r\n          id              : {\r\n            name   : 'ID документа',\r\n            width  : 150,\r\n            contentSort : true,\r\n          },\r\n          name              : {\r\n            name   : 'Номер документа',\r\n            width  : 200,\r\n            contentSort : true,\r\n          },\r\n          request_id      : {\r\n            name   : 'ID заявки',\r\n            width  : 150,\r\n            contentSort : true,\r\n          },\r\n          users            : {\r\n            name  : 'Пользователи документа',\r\n            width : 300,\r\n          },\r\n          company         : {\r\n            name   : 'Организация',\r\n            width  : 200,\r\n          },\r\n          document_type   : {\r\n            name   : 'Тип доверенности ',\r\n            width  : 200,\r\n            contentSort : true,\r\n          },\r\n          status          : {\r\n            name   : 'Статус',\r\n            width  : 150,\r\n            contentSort : true,\r\n          },\r\n          created_at      : {\r\n            name  : 'Дата создания',\r\n            width : 200,\r\n            contentSort : true,\r\n          },\r\n          document_start  : {\r\n            name  : 'Начало действия документа',\r\n            width : 250,\r\n            contentSort : true,\r\n          },\r\n          document_final  : {\r\n            name  : 'Окончание действия документа',\r\n            width : 300,\r\n            contentSort : true,\r\n          },\r\n          file            : {\r\n            name  : 'Сканы документов',\r\n            width : 250,\r\n          },\r\n          functions        : {\r\n            name  : 'Функционал документа',\r\n            width : 300,\r\n          },\r\n          storage_id      : {\r\n            name  : 'Хранение оригинала',\r\n            width : 250,\r\n            contentSort : true,\r\n          },\r\n        },\r\n        elements   : [],\r\n        name       : 'document',\r\n      },\r\n\r\n      filterData : {},\r\n      sort       : {\r\n        name : 'id',\r\n        order : 'desc',\r\n      },\r\n      gridReady  : false,\r\n    };\r\n  },\r\n  computed:{\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n    requestId(){\r\n      return this.$store.getters.requestId;\r\n    },\r\n  },\r\n  methods : {\r\n    async getData(){\r\n      this.loading = true;\r\n      this.grid.filter.data.storage_id.option = [];\r\n\r\n      let filter = await this.$store.dispatch('normalizeFilterData', this.filterData);\r\n\r\n      // ниже получаем список всех возможных мест хранения оригинала для фильтра\r\n      let result = await this.$store.dispatch('query',{ url : '/api/vicarious/storage/list' });\r\n      if (result.status == 'success') {\r\n        this.grid.filter.data.storage_id.option = result.data.map(el => {\r\n          return {value : el.id, label : el.name};\r\n        })\r\n      }\r\n\r\n      let charters = {\r\n        showAll          : '',\r\n        showDocument     : '',\r\n        user             : [],\r\n        company          : [],\r\n        department       : [],\r\n        department_child : [],\r\n      };\r\n      this.$store.getters.charters('showAll') ? charters.showAll = 'showAll' : charters.showAll = '';\r\n      this.$store.getters.charters('showDocument') ? charters.showDocument = 'showDocument' : charters.showDocument = '';\r\n\r\n      let individuals = this.$store.getters.individuals;\r\n      individuals.forEach( el => {\r\n        if (el.name && el.detail) charters[el.name].push(el.detail)\r\n      })\r\n\r\n      result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/request/document-list',\r\n        data : {\r\n          count    : this.$store.getters.paginationSize,\r\n          page     : this.$store.getters.paginationPage,\r\n          filter   : filter,\r\n          charters : charters,\r\n          sort     : this.sort,\r\n        }\r\n      });\r\n\r\n      if(result.status == 'success') {\r\n        this.$grid.commit('normalizeElement',{name : this.grid.name, data : {elements : result.data}});\r\n        this.$grid.commit('normalizePagination', {\r\n          name : this.grid.name,\r\n          data : {\r\n            pagination : { page : this.$store.getters.paginationPage, ...result.pagination }\r\n          }\r\n        })\r\n      }else\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!',type: 'error'});\r\n      this.loading = false;\r\n    },\r\n\r\n    onSort(data){\r\n      this.sort.name = data.key;\r\n      if (this.sort.name === data.key)\r\n        this.sort.order === 'asc' ? this.sort.order = 'desc' : this.sort.order = 'asc';\r\n      else\r\n        this.sort.order = 'desc';\r\n      this.getData();\r\n    },\r\n\r\n    saveVisibleColumn(data){\r\n      function setShowValue(data){\r\n        this.grid.header[data.key].show = data.show;\r\n        if (this.grid.header[data.key].child instanceof Array) {\r\n          this.grid.header[data.key].child.forEach((el, idx) => {\r\n            let newData = {\r\n              key  :  this.grid.header[data.key].child[idx],\r\n              show :  data.show,\r\n            }\r\n            setShowValue.call(this, newData);\r\n          }) // перебор массива child\r\n        }//if\r\n      };\r\n\r\n      setShowValue.call(this, data);\r\n\r\n      this.setHeaderParams();\r\n    },\r\n\r\n    saveWidthColumn(data){\r\n      this.grid.header[data.key].width = data.width;\r\n      this.setHeaderParams();\r\n    },\r\n\r\n    saveOrderColumn(data){\r\n      data.data.forEach(el => {\r\n        let key = el.key, sort=el.params.sort;\r\n        this.grid.header[key].sort = sort;\r\n      });\r\n      this.setHeaderParams();\r\n    },\r\n\r\n    async changeFilterProfile(data){\r\n      this.loading = true;\r\n      if (data.action === 'add') {\r\n        this.grid.filter.profiles.push({name : data.name, data : data.data})\r\n      };\r\n\r\n      if (data.action === 'remove') {\r\n        this.grid.filter.profiles.splice(data.idx, 1);\r\n      };\r\n\r\n      let result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/filter-preset',\r\n        data : {\r\n          grid    : data.grid,\r\n          params  : JSON.stringify(this.grid.filter.profiles),\r\n          type    : 'set',\r\n        }\r\n      });\r\n      if(result.status == 'success')\r\n        this.$store.commit('setMessage',{text: result.message, type : 'success'})\r\n      else\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n      this.loading = false;\r\n    },\r\n\r\n    async setHeaderParams(){\r\n      let keys = Object.keys(this.grid.header);\r\n      let headerParams = keys.map(el => {\r\n        let show;\r\n        ('show' in this.grid.header[el]) ? show = this.grid.header[el].show : show = true;\r\n        return {key : el, width : this.grid.header[el].width , show : show, sort : this.grid.header[el].sort}\r\n      })\r\n      let result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/setting',\r\n        data : {\r\n          grid    : this.grid.name,\r\n          params  : JSON.stringify(headerParams),\r\n          type    : 'set',\r\n        }\r\n      });\r\n      if(result.status == 'success')\r\n        this.$store.commit('setMessage',{text: result.message, type : 'success'})\r\n      else\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n    },\r\n\r\n    async initGrid(){\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/setting',\r\n        data : {\r\n          grid    : this.grid.name,\r\n          type    : 'get',\r\n        }\r\n      });\r\n      if(result.status == 'success' && result.data.length>0) {\r\n        let headerParams = JSON.parse(result.data[0]);\r\n        headerParams.forEach(el => {\r\n          if ( el.key in this.grid.header) {\r\n            this.grid.header[el.key].show = el.show;\r\n            this.grid.header[el.key].width = el.width;\r\n            this.grid.header[el.key].sort = el.sort;\r\n          }\r\n        });\r\n      }\r\n      if(result.status !== 'success')\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n\r\n      // загружаем профили фильтров\r\n      result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/filter-preset',\r\n        data : {\r\n          grid    : this.grid.name,\r\n          type    : 'get',\r\n        }\r\n      });\r\n      if(result.status === 'success' && result.data.length > 0) {\r\n        let profiles = JSON.parse(result.data);\r\n        profiles.forEach(el => {this.grid.filter.profiles.push(el)});\r\n      }\r\n      if(result.status !== 'success')\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n\r\n\r\n      this.$grid.dispatch('createGrid', {name : this.grid.name, data : this.grid});\r\n\r\n      await  this.getData();\r\n\r\n      this.gridReady = true;\r\n\r\n      this.loading = false;\r\n    },\r\n\r\n\r\n  },\r\n  created : function(){\r\n    window.vicariousLoadFile = async function(id,fileName,type){\r\n      try {\r\n        let result = await this.$store.dispatch('query', {\r\n          url             : '/api/vicarious/request/load-file',\r\n          downloadRequest : true,\r\n          data            : {scan_id: id, type : type},\r\n        });\r\n        let blob      = await result.blob();\r\n        let url       = URL.createObjectURL(blob);\r\n        let link      = document.createElement('a');\r\n        link.href     = url;\r\n        link.download = fileName;\r\n        link.click();\r\n        URL.revokeObjectURL(link.href);\r\n      }catch(e){\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!', type: 'error'});\r\n      }\r\n      return false;\r\n    }.bind(this);\r\n    this.initGrid();\r\n  },\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=52092e4d&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"type\":\"info\",\"icon\":\"el-icon-back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$store.commit('setComponent','list')}}},[_vm._v(\" Вернуться к списку \")]),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":18}},[_c('h2',[_vm._v(\"Доверенность № \"+_vm._s(_vm.documentName))]),_c('h3',[_vm._v(\"Статус: \"+_vm._s(_vm.map[_vm.documentStatus]))])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"component-wrapper\"},[_c('el-button',{attrs:{\"size\":\"medium\",\"icon\":\"el-icon-document\",\"type\":\"info\"},on:{\"click\":_vm.goToRequest}},[_vm._v(\" Перейти к заявке № \"+_vm._s(_vm.requestId)+\" \")])],1)])],1),(!_vm.loading)?_c('Show',{model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}}):_vm._e(),_c('br'),((_vm.isManageRequest || _vm.isRoot) && !_vm.reject)?_c('div',{staticClass:\"component-wrapper\"},[(_vm.isForSignature || _vm.isActive)?_c('div',{staticClass:\"body-button-container\"},[_c('span',{staticClass:\"body-button\"},[_c('label',[_vm._v(\"Хранение оригинала\")]),_c('el-select',{class:_vm.errors.storage ? 'invalid' : '',attrs:{\"placeholder\":\"Хранение оригинала\"},model:{value:(_vm.queryData.storageId),callback:function ($$v) {_vm.$set(_vm.queryData, \"storageId\", $$v)},expression:\"queryData.storageId\"}},_vm._l((_vm.storages),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-button',{attrs:{\"size\":\"medium\",\"icon\":\"el-icon-check\",\"type\":\"primary\"},on:{\"click\":_vm.saveStorage}})],1):_vm._e(),(_vm.isActive && _vm.isRoot)?_c('div',{staticClass:\"body-button-container\"},[_c('span',{staticClass:\"body-button\"},[_c('label',[_vm._v(\"Новый функционал для документа\")]),_c('el-select',{class:_vm.errors.functions ? 'invalid' : '',attrs:{\"placeholder\":\"Функционал\",\"multiple\":\"\"},model:{value:(_vm.queryData.functions),callback:function ($$v) {_vm.$set(_vm.queryData, \"functions\", $$v)},expression:\"queryData.functions\"}},_vm._l((_vm.functions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-button',{attrs:{\"size\":\"medium\",\"icon\":\"el-icon-check\",\"type\":\"primary\",\"disabled\":!_vm.isActive},on:{\"click\":_vm.saveFunction}})],1):_vm._e()]):_vm._e(),_c('br'),(!_vm.reject)?_c('div',[_c('div',{staticClass:\"body-button-container\"},[_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-plus\",\"type\":\"info\"},on:{\"click\":_vm.addByExist}},[_vm._v(\" Копировать данные в новую заявку \")]),((_vm.isManageRequest || _vm.isRoot) && (_vm.isForSignature || _vm.isActive))?_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-download\",\"type\":\"info\"},on:{\"click\":_vm.getDocument}},[_vm._v(\" Сформировать проект документа \")]):_vm._e(),((_vm.isManageRequest && _vm.documentStorage && (_vm.isForSignature || _vm.isActive)) ||  _vm.isRoot && _vm.documentStatus!=='cancel')?_c('el-upload',{ref:\"upload\",staticClass:\"body-button\",attrs:{\"action\":\"\",\"auto-upload\":false,\"on-change\":_vm.upLoadScan,\"multiple\":false}},[_c('el-button',{attrs:{\"icon\":\"el-icon-upload2\",\"size\":\"medium\",\"type\":\"info\"}},[_vm._v(\" Загрузить подписанный документ \")])],1):_vm._e(),((_vm.isManageRequest || _vm.isRoot) && (_vm.isForSignature || _vm.isActive))?_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-close\",\"type\":\"danger\"},on:{\"click\":_vm.cancelDocument}},[_vm._v(\" \"+_vm._s(_vm.isForSignature ? 'Аннулировать документ' : 'Прекратить действие')+\" \")]):_vm._e()],1)]):_c('div',[(_vm.isActive)?_c('div',{staticClass:\"body-button-container\"},[_c('span',{staticClass:\"body-button\"},[_c('label',[_vm._v(\"Дата прекращения действия\")]),_c('el-date-picker',{class:_vm.errors.dateFinalNew ? 'invalid' : '',staticStyle:{\"width\":\"30%\"},attrs:{\"picker-options\":{ firstDayOfWeek: 1 },\"type\":\"date\",\"format\":\"dd.MM.yyyy\",\"value-format\":\"dd.MM.yyyy\",\"placeholder\":\"Прекращение действия документа\"},model:{value:(_vm.dateFinalNew),callback:function ($$v) {_vm.dateFinalNew=$$v},expression:\"dateFinalNew\"}}),(_vm.errors.dateFinalNew)?_c('small',[_vm._v(_vm._s(_vm.errors.dateFinalNew))]):_vm._e()],1)]):_vm._e(),_c('br'),_c('label',[_vm._v(\"Причина \"+_vm._s(_vm.isForSignature ? 'аннулирования' : 'прекращения действия')+\" документа\")]),_c('el-input',{class:_vm.errors.comment ? 'invalid' : '',attrs:{\"type\":\"textarea\",\"rows\":\"4\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}}),(_vm.errors.comment)?_c('small',[_vm._v(_vm._s(_vm.errors.comment))]):_vm._e(),_c('div',{staticClass:\"body-button-container\"},[_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-back\",\"type\":\"info\"},on:{\"click\":_vm.noCancelDocument}},[_vm._v(\" Назад \")]),_c('el-button',{staticClass:\"body-button\",attrs:{\"size\":\"medium\",\"icon\":\"el-icon-check\",\"type\":\"danger\"},on:{\"click\":_vm.confirmCancelDocument}},[_vm._v(\" \"+_vm._s(_vm.isForSignature ? 'Аннулировать' : 'Прекратить действие')+\" \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component-wrapper\"},[_c('el-table',{staticClass:\"tableWithOutHeader\",attrs:{\"data\":_vm.value}},[_c('el-table-column',{attrs:{\"prop\":\"label\",\"width\":\"350\"}}),_c('el-table-column',{scopedSlots:_vm._u([{key:\"default\",fn:function(props){return _vm._l((props.row.value),function(item){return _c('p',{staticStyle:{\"margin\":\"0px\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(item)}})])})}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"component-wrapper\">\r\n    <el-table\r\n        class=\"tableWithOutHeader\"\r\n        :data=\"value\">\r\n      <el-table-column\r\n          prop=\"label\"\r\n          width = \"350\">\r\n      </el-table-column>\r\n      <el-table-column>\r\n        <template slot-scope=\"props\">\r\n          <p  v-for=\"item in props.row.value\" style=\"margin: 0px\">\r\n            <span v-html=\"item\"></span>\r\n          </p>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name        : \"documentDetailShow\",\r\n  props       : ['value'],\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./show.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./show.vue?vue&type=template&id=f0e1f2ee&\"\nimport script from \"./show.vue?vue&type=script&lang=js&\"\nexport * from \"./show.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n    <el-button\r\n        class=\"body-button body-button-color\"\r\n        size=\"medium\"\r\n        type=\"info\"\r\n        icon=\"el-icon-back\"\r\n        @click.prevent=\"$store.commit('setComponent','list')\">\r\n      Вернуться к списку\r\n    </el-button>\r\n    <el-row :gutter=\"24\" class=\"mb15\">\r\n      <el-col :span=\"18\">\r\n        <h2>Доверенность № {{documentName}}</h2>\r\n        <h3>Статус: {{map[documentStatus]}}</h3>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <div class=\"component-wrapper\">\r\n          <el-button\r\n              size=\"medium\"\r\n              icon=\"el-icon-document\"\r\n              type=\"info\"\r\n              @click=\"goToRequest\">\r\n            Перейти к заявке № {{requestId}}\r\n          </el-button>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <Show v-model=\"show\" v-if=\"!loading\"/>\r\n    <br/>\r\n    <div class=\"component-wrapper\" v-if=\"(isManageRequest || isRoot) && !reject\">\r\n      <div class=\"body-button-container\" v-if=\"isForSignature || isActive\">\r\n          <span class=\"body-button\" >\r\n          <label>Хранение оригинала</label>\r\n          <el-select\r\n              :class=\"errors.storage ? 'invalid' : ''\"\r\n              v-model=\"queryData.storageId\"\r\n              placeholder=\"Хранение оригинала\"\r\n              >\r\n            <el-option\r\n                v-for=\"item in storages\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </span>\r\n        <el-button\r\n            @click=\"saveStorage\"\r\n            size=\"medium\"\r\n            icon=\"el-icon-check\"\r\n            type=\"primary\">\r\n        </el-button>\r\n      </div>\r\n      <div class=\"body-button-container\" v-if=\"isActive && isRoot\">\r\n          <span class=\"body-button\">\r\n          <label>Новый функционал для документа</label>\r\n          <el-select\r\n              :class=\"errors.functions ? 'invalid' : ''\"\r\n              v-model=\"queryData.functions\"\r\n              placeholder=\"Функционал\"\r\n              multiple >\r\n            <el-option\r\n                v-for=\"item in functions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </span>\r\n        <el-button\r\n            @click=\"saveFunction\"\r\n            size=\"medium\"\r\n            icon=\"el-icon-check\"\r\n            type=\"primary\"\r\n            :disabled=\"!isActive\">\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n    <br/>\r\n\r\n    <div  v-if=\"!reject\">\r\n      <div class=\"body-button-container\">\r\n        <el-button\r\n            @click=\"addByExist\"\r\n            class=\"body-button\"\r\n            size=\"medium\"\r\n            icon=\"el-icon-plus\"\r\n            type=\"info\" >\r\n          Копировать данные в новую заявку\r\n        </el-button>\r\n        <el-button\r\n            v-if=\"(isManageRequest || isRoot) && (isForSignature || isActive)\"\r\n            @click=\"getDocument\"\r\n            class=\"body-button\"\r\n            size=\"medium\"\r\n            icon=\"el-icon-download\"\r\n            type=\"info\" >\r\n          Сформировать проект документа\r\n        </el-button>\r\n        <el-upload\r\n            v-if=\"(isManageRequest && documentStorage && (isForSignature || isActive)) ||  isRoot && documentStatus!=='cancel'\"\r\n            class=\"body-button\"\r\n            action=\"\"\r\n            ref=\"upload\"\r\n            :auto-upload=\"false\"\r\n            :on-change=\"upLoadScan\"\r\n            :multiple=\"false\">\r\n          <el-button\r\n              icon=\"el-icon-upload2\"\r\n              size=\"medium\"\r\n              type=\"info\">\r\n            Загрузить подписанный документ\r\n          </el-button>\r\n        </el-upload>\r\n        <el-button\r\n            v-if=\"(isManageRequest || isRoot) && (isForSignature || isActive)\"\r\n            @click=\"cancelDocument\"\r\n            class=\"body-button\"\r\n            size=\"medium\"\r\n            icon=\"el-icon-close\"\r\n            type=\"danger\">\r\n          {{isForSignature ? 'Аннулировать документ' : 'Прекратить действие'}}\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else>\r\n\r\n      <div v-if=\"isActive\" class=\"body-button-container\">\r\n        <span class=\"body-button\">\r\n          <label >Дата прекращения действия</label>\r\n          <el-date-picker\r\n              :picker-options=\"{ firstDayOfWeek: 1 }\"\r\n              :class=\"errors.dateFinalNew ? 'invalid' : ''\"\r\n              v-model=\"dateFinalNew\"\r\n              type=\"date\"\r\n              format=\"dd.MM.yyyy\"\r\n              value-format=\"dd.MM.yyyy\"\r\n              placeholder=\"Прекращение действия документа\"\r\n              style=\"width: 30%\"\r\n          >\r\n        </el-date-picker>\r\n        <small v-if=\"errors.dateFinalNew\">{{ errors.dateFinalNew}}</small>\r\n        </span>\r\n      </div>\r\n      <br/>\r\n      <label>Причина {{ isForSignature ? 'аннулирования' : 'прекращения действия'}} документа</label>\r\n      <el-input\r\n          type=\"textarea\"\r\n          rows=\"4\"\r\n          v-model=\"comment\"\r\n          :class=\"errors.comment ? 'invalid' : ''\"\r\n          >\r\n      </el-input>\r\n      <small v-if=\"errors.comment\">{{ errors.comment}}</small>\r\n      <div class=\"body-button-container\">\r\n        <el-button\r\n            @click=\"noCancelDocument\"\r\n            class=\"body-button\"\r\n            size=\"medium\"\r\n            icon=\"el-icon-back\"\r\n            type=\"info\">\r\n          Назад\r\n        </el-button>\r\n        <el-button\r\n            @click=\"confirmCancelDocument\"\r\n            class=\"body-button\"\r\n            size=\"medium\"\r\n            icon=\"el-icon-check\"\r\n            type=\"danger\">\r\n          {{isForSignature ? 'Аннулировать' : 'Прекратить действие'}}\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport Show from './detail/show'\r\n\r\nexport default {\r\n  name: \"documentDetail\",\r\n  components: {Show},\r\n  data() {\r\n    return {\r\n      documentStatus : '',\r\n      show           : [],\r\n      functions      : [],\r\n      storages       : [],\r\n      map            : {},\r\n      reject         : false,\r\n      dateFinal      : '',\r\n      dateFinalNew   : '',\r\n      comment        : '',\r\n\r\n      queryData      : {\r\n        functions   : [],\r\n        storageId   : '',\r\n        storageName : '',\r\n      },\r\n\r\n      errors         : {\r\n        functions : null,\r\n        comment   : null,\r\n        storage   : null,\r\n        dateFinalNew : null,\r\n      },\r\n    }\r\n  },\r\n  computed : {\r\n    loading: {\r\n      get: function () {\r\n        return this.$store.getters.loading;\r\n      },\r\n      set: function (value) {\r\n        this.$store.commit('setLoading', value);\r\n      }\r\n    },\r\n    documentId(){\r\n      return this.$store.getters.documentId;\r\n    },\r\n    documentName(){\r\n      return this.$store.getters.documentName;\r\n    },\r\n    requestId(){\r\n      return this.$store.getters.requestId;\r\n    },\r\n    isManageRequest(){\r\n      return this.$store.getters.charters('manageRequest');\r\n    },\r\n    isRoot(){\r\n      return this.$store.getters.charters('root');\r\n    },\r\n    documentStorage(){\r\n      return this.$store.getters.documentStorage\r\n    },\r\n    isActive(){\r\n      return this.documentStatus === 'active' ? true : false;\r\n    },\r\n    isForSignature(){\r\n      return this.documentStatus === 'for_signature' ? true : false;\r\n    },\r\n  },\r\n  methods :{\r\n    goToRequest(){\r\n      this.$store.commit('setPage', 'request');\r\n      this.$store.commit('setComponent', 'detail');\r\n    },\r\n    async saveFunction(){\r\n      if (this.queryData.functions.length <= 0) {this.errors.functions = 'Необходимо выбрать функционал!'; return};\r\n\r\n      let result = await this.$store.dispatch('query', {\r\n        url   : '/api/vicarious/request/update-functions',\r\n        data  : {id : this.requestId, functions : this.queryData.functions}\r\n      });\r\n      if (result.status == 'success') {\r\n        this.$store.commit('setMessage', {text: result.message,type : 'success'});\r\n        this.queryData.functions = [];\r\n        this.getData();\r\n      } else\r\n        this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n    },\r\n    async saveStorage(){\r\n      if (this.queryData.storage === '') {this.errors.storage = 'Необходимо выбрать место!'; return};\r\n      let result = await this.$store.dispatch('query', {\r\n        url   : '/api/vicarious/storage/set-storage',\r\n        data  : {id : this.documentId, storage : this.queryData.storageId}\r\n      });\r\n      if (result.status == 'success') {\r\n        this.$store.commit('setDocumentStorage', this.queryData.storageId);\r\n        this.storages.forEach(el => {if (el.value === this.queryData.storageId) {this.queryData.storageName = el.label; return}});\r\n        this.$store.commit('setMessage', {text: result.message,type : 'success'});\r\n        this.getData();\r\n      } else\r\n        this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n    },\r\n    addByExist(){\r\n      this.$confirm(`Вы уверены, что хотите создать новую заявку на основе данных заявки с ID - ${this.requestId} ?`).then(() => {\r\n        this.$store.commit('setPage', 'request');\r\n        this.$store.commit('setComponent', 'addByExist');\r\n      }).catch( () => {} );\r\n    },\r\n    async getDocument(){\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query', {\r\n        url         : '/api/vicarious/request/gen-document',\r\n        data        : {\r\n          id        : this.requestId,\r\n          name      : true,\r\n        },\r\n      });\r\n      if (result.status === 'success') {\r\n        let fileName = 'Текущая заявка';\r\n        result.name ? fileName = result.name : '';\r\n        result = await this.$store.dispatch('query', {\r\n          url               : '/api/vicarious/request/gen-document',\r\n          data              : {id : this.requestId},\r\n          downloadRequest  : true,\r\n        });\r\n        if (result.status === 200) {\r\n          let blob       = await result.blob();\r\n          let link       = document.createElement('a');\r\n          link.href      = URL.createObjectURL(blob);\r\n          link.download  = fileName;\r\n          link.click();\r\n          URL.revokeObjectURL(link.href);\r\n        } else this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n      } else\r\n        this.$store.commit('setMessage', {text : result.message, type: 'error'});\r\n      this.loading = false;\r\n    },\r\n    async upLoadScan(){\r\n      let typeFile = this.$refs.upload.uploadFiles[0].raw.type;\r\n      if ( typeFile == 'application/pdf' || typeFile == 'image/jpeg') {\r\n\r\n        this.loading = true;\r\n        let data = new FormData();\r\n        data.append('id', this.requestId);\r\n        data.append('name', this.$store.getters.documentName + '_' + new Date().toLocaleDateString().split('.').join('_'));\r\n        data.append('file[0]', this.$refs.upload.uploadFiles[0].raw);\r\n        let result = await this.$store.dispatch('query',{url : '/api/vicarious/request/upload-scan',data : data,type : 'file'});\r\n        if (result.status == 'success') {\r\n          this.$store.commit('setMessage', {text: result.message,type : 'success'});\r\n        } else\r\n          this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n        this.$refs.upload.clearFiles();\r\n        this.getData();\r\n        this.loading = false;\r\n      } else {\r\n          this.$store.commit('setMessage', {text: 'Необходимо прикрепить файл в формате PDF', header: 'Не верный формат файла', type: 'error'});\r\n          this.$refs.upload.clearFiles();\r\n      }\r\n    },\r\n    cancelDocument(){\r\n      this.reject = true;\r\n      setTimeout(() => {window.scrollTo(0,15000)},0)\r\n    },\r\n    noCancelDocument(){\r\n      this.comment = '';\r\n      this.reject = false;\r\n    },\r\n    confirmCancelDocument(){\r\n      let delta = new Date(this.dateFinalNew.split('.').reverse().join('.')).getTime() - new Date(this.dateFinal.split('.').reverse().join('.')).getTime();\r\n      // ниже проверки что пользователь не олень\r\n      if (delta > 0) {\r\n        this.errors.dateFinalNew = 'Выбранная дата не может превышать дату окончания действия документа. !';\r\n        return;\r\n      }\r\n      if (!this.dateFinalNew) {\r\n        this.errors.dateFinalNew = 'Необходимо указать дату!';\r\n        return;\r\n      }\r\n      if (!this.comment) {\r\n        this.errors.comment = 'Необходимо указать причину!';\r\n        return;\r\n      }\r\n      // ниже принятие решения о том что делаем - или аннулируем или прекращвем действие досрочно\r\n      let status = null;\r\n      if (this.isActive)       status = 'terminated';\r\n      if (this.isForSignature) status = 'cancel';\r\n\r\n      //ниже аннулируем документ или прекращаем действие документа\r\n      this.$confirm(`Вы уверены, что хотите ${this.isForSignature ? 'анулировать документ' : 'прекратить действие документа'}  с ID - ${this.documentId} ?`).then(async () => {\r\n         this.loading = true;\r\n         let  first_result = await this.$store.dispatch('query',{\r\n           url    :  '/api/vicarious/request/document-cancel',\r\n           data   :   {\r\n             id          : this.documentId,\r\n             request_id  : this.requestId,\r\n             reason      : this.comment,\r\n             status      : status,\r\n             date_cancel : this.dateFinalNew,\r\n           }\r\n         });\r\n\r\n        if (first_result.status == 'success') {\r\n          this.$store.commit('setMessage', {text: first_result.message, header: 'Успешно!', type: 'success'});\r\n          await this.getData();\r\n        } else\r\n            this.$store.commit('setMessage', {text: first_result.message, header: 'Возникла проблема с аннулированием документа!', type: 'error'});\r\n        this.comment = '';\r\n        this.reject = false;\r\n        this.loading = false;\r\n      }).catch(() => {});\r\n    },\r\n    async getData(){\r\n      this.loading = true;\r\n      // ниже маппинг для перевода английских слов в русские\r\n      this.$store.getters.queryStatusDocument.forEach(el => {this.map[el.value] = el.label});\r\n      // ниже получаем список всех возможных мест хранения оригинала\r\n      let result = await this.$store.dispatch('query',{ url : '/api/vicarious/storage/list' });\r\n      if (result.status == 'success') {\r\n        this.storages = result.data.map(el => {\r\n          return {value : el.id, label : el.name};\r\n        })\r\n      }\r\n      // ниже получаем список всех функций и сохраняем в this.functions\r\n      result = await this.$store.dispatch('query', {url: '/api/vicarious/function/list', data: {}});\r\n      if (result.status == 'success') {\r\n        this.functions = result.data.map(el => {\r\n          return {value: el.id[0].value, label: el.name[0].value};\r\n        })\r\n      }\r\n      // ниже получаем данные именно по заявке которая была у документа, чтоб узнать ее функционал, и отрисовать в компаненте через массив this.show\r\n      result = await this.$store.dispatch('query', {\r\n        url   : '/api/vicarious/request/get-edit',\r\n        data  : {id: this.requestId}\r\n      });\r\n      let functions = [];\r\n      if (result.status == 'success') {\r\n        result.data.functions.forEach(el => {this.functions.forEach(item => {item.value === el ? functions.push(item.label) : ''})});\r\n      } else {\r\n        this.$store.commit('setMessage', {text: result.message, header: 'Возникла проблема!', type: 'error'});\r\n        functions.push('Проблема с получением данных');\r\n      }\r\n      // ниже получаем сам документ\r\n      result = await this.$store.dispatch('query', {\r\n        url   : '/api/vicarious/request/document-get',\r\n        data  : {id: this.documentId}\r\n      });\r\n\r\n      if (result.status == 'success') {\r\n        //ниже информация о конечной дате действия... нужна для корректного прекращения действия\r\n        this.dateFinal = result.data.document_final;\r\n        //ниже обновляем информацию о месте хранения документа\r\n        this.queryData.storageId = result.data.storage_id;\r\n        this.$store.commit('setDocumentStorage',this.queryData.storageId);\r\n        this.storages.forEach(el => {if (el.value === this.queryData.storageId) {this.queryData.storageName = el.label; return}});\r\n        //ниже название документа и статус\r\n        this.$store.commit('setDocumentName', result.data.name)\r\n        this.documentStatus  = result.data.status;\r\n        //ниже причины отклонения или аннулирования документа\r\n        let reason = '';\r\n        if (this.documentStatus === 'cancel' || this.documentStatus === 'terminated') reason = result.data.date_cancel + ', ' + result.data.who_cancel + ', ' + ' причина - '+ result.data.reason; else reason = '';\r\n        // ниже сканы документов\r\n        let files = [];\r\n        result.data.files.length > 0 ? files = result.data.files.map(el => {return el.value}) : files.push ('Нет данных');\r\n        // ниже доверенные лица\r\n        let usersToShow = [], whoReceive ='';\r\n        whoReceive = result.data.receiver;\r\n\r\n        if (whoReceive === 'individual'){\r\n          if (result.data.users.length > 0){\r\n            for (let i = 0; i < result.data.users.length; i++) {\r\n              usersToShow.push(result.data.users[i].href + ', ' + result.data.users[i].department + ', ' +result.data.users[i].position)\r\n              if (result.data.users[i].org instanceof Array) {\r\n                for (let j = 0; j < result.data.users[i].org.length; j++) { usersToShow.push('( ' + result.data.users[i].org[j].name + ', ' + result.data.users[i].org[j].position + ' )' )}\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          if (result.data.users.length > 0){\r\n            usersToShow.push(result.data.users[0].label)\r\n          }\r\n        }\r\n\r\n        // ниже сама таблица, значение ключа value всегда должно быть массивом, иначе при отрисовки таблице в компаненте show будет столько строк сколько букв в слове\r\n        this.show = [\r\n          {label : 'Начало действия документа',           value : [result.data.document_start]},\r\n          {label : 'Окончание действия документа',        value : [result.data.document_final]},\r\n          {label : 'ID документа',                        value : [result.data.id]},\r\n          {label : 'ID заявки',                           value : [result.data.request_id]},\r\n          {label : 'Тип доверенности',                    value : [result.data.document_type]},\r\n          {label : 'Заказчик',                            value : result.data.creator.map(el => {return  el.value +', ' + el.department +', ' + el.position})},\r\n          {label : whoReceive === 'individual' ? 'Доверенное лицо' : 'Доверенная организация', value : usersToShow},\r\n          {label : 'Организация',                         value : [result.data.company]},\r\n          {label : 'Функционал',                          value : functions},\r\n          {label : 'Хранение оригинала',                  value : [this.queryData.storageName]},\r\n          {label : 'Причина аннулирования / прекращения', value : [reason]},\r\n          {label : 'Сканы документов',                    value : files},\r\n        ];\r\n\r\n      } else\r\n        this.$store.commit('setMessage', {text: result.message, header: 'Возникла проблема!', type: 'error'});\r\n\r\n      setTimeout(() => {window.scrollTo(0,15000)},0)\r\n      this.loading = false;\r\n    },\r\n  },\r\n  created() {\r\n    window.vicariousLoadFile = async function(id,fileName,type){\r\n      try {\r\n        let result = await this.$store.dispatch('query', {\r\n          url             : '/api/vicarious/request/load-file',\r\n          downloadRequest : true,\r\n          data            : {scan_id: id, type : type},\r\n        });\r\n        let blob      = await result.blob();\r\n        let url       = URL.createObjectURL(blob);\r\n        let link      = document.createElement('a');\r\n        link.href     = url;\r\n        link.download = fileName;\r\n        link.click();\r\n        URL.revokeObjectURL(link.href);\r\n      }catch(e){\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!', type: 'error'});\r\n      }\r\n      return false;\r\n    }.bind(this);\r\n    this.dateFinalNew = new Date().toLocaleDateString();\r\n    this.getData();\r\n  },\r\n  watch :{\r\n    'queryData.functions' : function(){\r\n      this.errors.functions = null;\r\n    },\r\n    'queryData.storage' : function(){\r\n      this.errors.storage = null;\r\n    },\r\n    'comment' : function(){\r\n      this.errors.comment = null;\r\n    },\r\n    'dateFinalNew' : function(){\r\n      this.errors.dateFinalNew = null;\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=4bd8a2a8&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n<!--    <keep-alive>-->\r\n      <component :is=\"component\"/>\r\n<!--    </keep-alive>-->\r\n<!--    <List   v-if=\"component === 'list'\"/>-->\r\n<!--    <detail v-if=\"component === 'detail'\"/>-->\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport List   from './list'\r\nimport Detail from './detail'\r\n\r\nexport default {\r\n  name       : \"documentPage\",\r\n  components : {List, Detail},\r\n  computed   : {\r\n   component : function(){\r\n      return this.$store.getters.component;\r\n   }\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=34db0dee&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c(_vm.component,{tag:\"component\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[(_vm.gridReady)?_c('Grid',{directives:[{name:\"event-bus\",rawName:\"v-event-bus:saveVisibleColumn\",value:(_vm.saveVisibleColumn),expression:\"saveVisibleColumn\",arg:\"saveVisibleColumn\"},{name:\"event-bus\",rawName:\"v-event-bus:saveOrderColumn\",value:(_vm.saveOrderColumn),expression:\"saveOrderColumn\",arg:\"saveOrderColumn\"},{name:\"event-bus\",rawName:\"v-event-bus:saveWidthColumn\",value:(_vm.saveWidthColumn),expression:\"saveWidthColumn\",arg:\"saveWidthColumn\"},{name:\"event-bus\",rawName:\"v-event-bus:onSort\",value:(_vm.onSort),expression:\"onSort\",arg:\"onSort\"},{name:\"event-bus\",rawName:\"v-event-bus:changeFilterProfile\",value:(_vm.changeFilterProfile),expression:\"changeFilterProfile\",arg:\"changeFilterProfile\"}],attrs:{\"name\":\"function\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-loading=\"loading\">\r\n    <Grid\r\n        v-if=\"gridReady\"\r\n        name=\"function\"\r\n        v-event-bus:saveVisibleColumn=\"saveVisibleColumn\"\r\n        v-event-bus:saveOrderColumn=\"saveOrderColumn\"\r\n        v-event-bus:saveWidthColumn=\"saveWidthColumn\"\r\n        v-event-bus:onSort=\"onSort\"\r\n        v-event-bus:changeFilterProfile=\"changeFilterProfile\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name : 'functionList',\r\n  data : function (){\r\n    return {\r\n      grid       : {\r\n        filter     : {\r\n          data         : {\r\n            id              : {\r\n              show : false,\r\n              type : 'number',\r\n              name : 'ID',\r\n            },\r\n            name            : {\r\n              type      : 'searchlist',\r\n              name      : 'Название',\r\n              multiple  : true,\r\n              query     : async function (data){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/function/list',\r\n                  data  :  {q : data}\r\n                });\r\n                if(result.status == 'success') {\r\n                  let functions = result.data.map(el => {\r\n                    return {value : el.id[0].value, label : el.name[0].value};\r\n                  })\r\n                  return functions\r\n                }\r\n              }.bind(this),\r\n            },\r\n            function        : {\r\n              type     : 'list',\r\n              name     : 'Тип функции',\r\n              multiple : true,\r\n              option   : this.$store.getters.function_type,\r\n            },\r\n            active          : {\r\n              type     : 'list',\r\n              name     : 'Активность',\r\n              multiple : false,\r\n              option   : [{value : [1], label : 'Активна'}, {value : [0], label : 'Не активна'}],\r\n            },\r\n            created_at      : {\r\n              type : 'date',\r\n              name : 'Дата создания',\r\n            },\r\n          },\r\n          profiles     : [],\r\n          showProfiles : true,\r\n          filter       : function(data){\r\n            this.filterData = data;\r\n            this.$store.commit('setPaginationPage', 1)\r\n            this.getData();\r\n          }.bind(this),\r\n          clear        : function(){\r\n            this.filterData = {};\r\n            this.getData();\r\n          }.bind(this),\r\n        },\r\n        context    : [\r\n          {\r\n            name     : 'Редактировать',\r\n            function : function(row){\r\n              this.$store.commit('setComponent','edit');\r\n              this.$store.commit('setComponentParams',row);\r\n            }.bind(this),\r\n          },\r\n        ],\r\n        pagination : {\r\n          show        : 'full',\r\n          page        : 1,\r\n          defaultSize : 10,\r\n          sizes       : [10,20,50],\r\n          changeSize : function(value){\r\n            this.$store.commit('setPaginationSize', value);\r\n            this.$grid.commit('normalizePagination', {name : 'function', data : {pagination : {defaultSize : value}}})\r\n            this.getData();\r\n          }.bind(this),\r\n          changePage : function(value){\r\n            this.$store.commit('setPaginationPage', value);\r\n            this.getData();\r\n          }.bind(this)\r\n        },\r\n        header     : {\r\n          id         : {\r\n            name        : 'ID',\r\n            width       : 100,\r\n            contentSort : true,\r\n          },\r\n          sort       : {\r\n            name        : 'Сортировка',\r\n            width       : 100,\r\n            contentSort : true,\r\n          },\r\n          name       : {\r\n            name        : 'Название',\r\n            width       : 450,\r\n            contentSort : true,\r\n          },\r\n          text       : {\r\n            name        : 'Текст в документе',\r\n            width       : 600,\r\n          },\r\n          function   : {\r\n            name        : 'Тип функции',\r\n            width       : 250,\r\n            contentSort : true,\r\n          },\r\n          active     : {\r\n            name        : 'Активность',\r\n            width       : 200,\r\n            contentSort : true,\r\n          },\r\n          created_at : {\r\n            name        : 'Дата создания',\r\n            width       : 300,\r\n            contentSort : true,\r\n          },\r\n          note       : {\r\n            name  : 'Примечания',\r\n            width : 600,\r\n          },\r\n        },\r\n        elements   : [],\r\n        name       : 'function',\r\n      },\r\n      filterData : {},\r\n      sort       : {\r\n        name : 'id',\r\n        order : 'asc',\r\n      },\r\n      gridReady  : false,\r\n    };\r\n  },\r\ncomputed:{\r\n  loading : {\r\n    get : function(){\r\n      return this.$store.getters.loading;\r\n    },\r\n    set : function(value){\r\n      this.$store.commit('setLoading',value)\r\n    }\r\n  },\r\n},\r\n  methods : {\r\n    async getData(){\r\n      this.loading = true;\r\n      let filter = await this.$store.dispatch('normalizeFilterData', this.filterData);\r\n      let result = await this.$store.dispatch('query',{\r\n        url     : '/api/vicarious/function/list',\r\n        data    : {\r\n          count   : this.$store.getters.paginationSize,\r\n          page    : this.$store.getters.paginationPage,\r\n          filter  : filter,\r\n          sort    : this.sort,\r\n        }\r\n      });\r\n      if(result.status == 'success') {\r\n        this.$grid.commit('normalizeElement',{name : this.grid.name,data : {elements : result.data}});\r\n        this.$grid.commit('normalizePagination', {\r\n          name : this.grid.name,\r\n          data : {\r\n            pagination : { page : this.$store.getters.paginationPage, ...result.pagination }\r\n          }\r\n        })\r\n      }else\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!',type: 'error'});\r\n      this.loading = false;\r\n    },\r\n\r\n    onSort(data){\r\n      this.sort.name = data.key;\r\n      if (this.sort.name === data.key)\r\n        this.sort.order === 'asc' ? this.sort.order = 'desc' : this.sort.order = 'asc';\r\n      else\r\n        this.sort.order = 'desc';\r\n      this.getData();\r\n    },\r\n\r\n    saveVisibleColumn(data){\r\n      this.grid.header[data.key].show = data.show;\r\n      this.setHeaderParams();\r\n    },\r\n\r\n    saveWidthColumn(data){\r\n      this.grid.header[data.key].width = data.width;\r\n      this.setHeaderParams();\r\n    },\r\n\r\n    saveOrderColumn(data){\r\n      data.data.forEach(el => {\r\n        let key = el.key, sort=el.params.sort;\r\n        this.grid.header[key].sort = sort;\r\n      });\r\n      this.setHeaderParams();\r\n    },\r\n\r\n    async changeFilterProfile(data){\r\n      this.loading = true;\r\n      if (data.action === 'add') {\r\n        this.grid.filter.profiles.push({name : data.name, data : data.data})\r\n      };\r\n\r\n      if (data.action === 'remove') {\r\n        this.grid.filter.profiles.splice(data.idx, 1);\r\n      };\r\n\r\n      let result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/filter-preset',\r\n        data : {\r\n          grid    : data.grid,\r\n          params  : JSON.stringify(this.grid.filter.profiles),\r\n          type    : 'set',\r\n        }\r\n      });\r\n      if(result.status == 'success')\r\n        this.$store.commit('setMessage',{text: result.message, type : 'success'})\r\n      else\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n      this.loading = false;\r\n    },\r\n\r\n    async setHeaderParams(){\r\n      let keys = Object.keys(this.grid.header);\r\n      let headerParams = keys.map(el => {\r\n        let show;\r\n        ('show' in this.grid.header[el]) ? show = this.grid.header[el].show : show = true;\r\n        return {key : el, width : this.grid.header[el].width , show : show, sort : this.grid.header[el].sort}\r\n      })\r\n      let result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/setting',\r\n        data : {\r\n          grid    : this.grid.name,\r\n          params  : JSON.stringify(headerParams),\r\n          type    : 'set',\r\n        }\r\n      });\r\n      if(result.status == 'success')\r\n        this.$store.commit('setMessage',{text: result.message, type : 'success'})\r\n      else\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n    },\r\n\r\n    async initGrid(){\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/setting',\r\n        data : {\r\n          grid    : this.grid.name,\r\n          type    : 'get',\r\n        }\r\n      });\r\n      if(result.status == 'success' && result.data.length>0) {\r\n        let headerParams = JSON.parse(result.data[0]);\r\n        headerParams.forEach(el => {\r\n          if ( el.key in this.grid.header) {\r\n            this.grid.header[el.key].show = el.show;\r\n            this.grid.header[el.key].width = el.width;\r\n            this.grid.header[el.key].sort = el.sort;\r\n          }\r\n        });\r\n      }\r\n      if(result.status !== 'success')\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n\r\n      // загружаем профили фильтров\r\n      result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/filter-preset',\r\n        data : {\r\n          grid    : this.grid.name,\r\n          type    : 'get',\r\n        }\r\n      });\r\n      if(result.status === 'success' && result.data.length > 0) {\r\n        let profiles = JSON.parse(result.data);\r\n        profiles.forEach(el => {this.grid.filter.profiles.push(el)});\r\n      }\r\n      if(result.status !== 'success')\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n\r\n      this.$grid.dispatch('createGrid', {name : this.grid.name, data : this.grid});\r\n\r\n      await  this.getData();\r\n\r\n      this.gridReady = true;\r\n\r\n      this.loading = false;\r\n    },\r\n  },\r\n  created(){\r\n   this.initGrid();\r\n\r\n  },\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=c48426f2&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"type\":\"info\",\"icon\":\"el-icon-back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$store.commit('setComponent','list')}}},[_vm._v(\" Вернуться к списку \")]),_c('el-card',{staticClass:\"component-wrapper\"},[_c('h3',[_vm._v(\"Создание новой функции\")]),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Название\")]),_c('el-input',{class:_vm.errors.name ? 'invalid' : '',attrs:{\"type\":\"text\",\"placeholder\":\"Укажите название\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}}),(_vm.errors.name)?_c('small',[_vm._v(_vm._s(_vm.errors.name))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Тип функционала\")]),_c('el-select',{class:_vm.errors.function ? 'invalid' : '',attrs:{\"placeholder\":\"Тип функционала\"},model:{value:(_vm.formData.function),callback:function ($$v) {_vm.$set(_vm.formData, \"function\", $$v)},expression:\"formData.function\"}},_vm._l((_vm.function_type),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(_vm.errors.function)?_c('small',[_vm._v(_vm._s(_vm.errors.function))]):_vm._e()],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Текст в документе\")]),_c('el-input',{class:_vm.errors.text ? 'invalid' : '',attrs:{\"type\":\"textarea\",\"rows\":\"4\",\"placeholder\":\"Укажите текст\"},model:{value:(_vm.formData.text),callback:function ($$v) {_vm.$set(_vm.formData, \"text\", $$v)},expression:\"formData.text\"}}),(_vm.errors.text)?_c('small',[_vm._v(_vm._s(_vm.errors.text))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Примечание\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"4\",\"placeholder\":\"Укажите примечание\"},model:{value:(_vm.formData.note),callback:function ($$v) {_vm.$set(_vm.formData, \"note\", $$v)},expression:\"formData.note\"}})],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('br')]),_c('el-col',{attrs:{\"span\":8}},[_c('el-button',{class:'fluid-button',attrs:{\"size\":\"medium\",\"icon\":\"el-icon-upload\",\"type\":\"primary\"},on:{\"click\":_vm.setFormData}},[_vm._v(\"Добавить функцию\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n    <el-button\r\n        class=\"body-button body-button-color\"\r\n        size=\"medium\"\r\n        type=\"info\"\r\n        icon=\"el-icon-back\"\r\n        @click.prevent=\"$store.commit('setComponent','list')\">\r\n      Вернуться к списку\r\n    </el-button>\r\n    <el-card class=\"component-wrapper\">\r\n      <h3>Создание новой функции</h3>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Название</label>\r\n          <el-input\r\n              type=\"text\"\r\n              v-model=\"formData.name\"\r\n              :class=\"errors.name ? 'invalid' : ''\"\r\n              placeholder=\"Укажите название\"\r\n          />\r\n          <small v-if=\"errors.name\">{{ errors.name}}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label>Тип функционала</label>\r\n          <el-select\r\n              v-model=\"formData.function\"\r\n              placeholder=\"Тип функционала\"\r\n              :class=\"errors.function ? 'invalid' : ''\">\r\n            <el-option\r\n                v-for=\"item in function_type\"\r\n                :key=\"item.key\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n          <small v-if=\"errors.function\">{{ errors.function}}</small>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Текст в документе</label>\r\n          <el-input\r\n              type=\"textarea\"\r\n              rows=\"4\"\r\n              v-model=\"formData.text\"\r\n              :class=\"errors.text ? 'invalid' : ''\"\r\n              placeholder=\"Укажите текст\">\r\n          </el-input>\r\n          <small v-if=\"errors.text\">{{ errors.text}}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label>Примечание</label>\r\n          <el-input\r\n              type=\"textarea\"\r\n              rows=\"4\"\r\n              v-model=\"formData.note\"\r\n              placeholder=\"Укажите примечание\"\r\n          ></el-input>\r\n        </el-col>\r\n\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <br/>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-button @click=\"setFormData\" size=\"medium\" icon=\"el-icon-upload\" :class=\"'fluid-button'\" type=\"primary\">Добавить функцию</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name : 'functionAdd',\r\n  data : function (){\r\n    return {\r\n      formData   : {\r\n        name     : '',\r\n        text     : '',\r\n        note     : '',\r\n        function : ''\r\n      },\r\n      errors      : {\r\n        name      : null,\r\n        text      : null,\r\n        function  : null,\r\n      },\r\n    };\r\n  },\r\n  computed : {\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n    function_type(){\r\n      return this.$store.getters.function_type;\r\n    },\r\n  },\r\n  methods : {\r\n    isValid(formData){\r\n      for (let key in this.errors) this.errors[key] = null;\r\n      let isValid = true;\r\n      if (!formData.name)     {isValid = false; this.errors.name     = 'Необходимо ввести название функционала!'};\r\n      if (!formData.text)     {isValid = false; this.errors.text     = 'Необходимо выбрать тип функционала!'};\r\n      if (!formData.function) {isValid = false; this.errors.function = 'Необходимо текс в документе!'};\r\n      return isValid\r\n    },\r\n    async setFormData() {\r\n      if (this.isValid(this.formData)) {\r\n        this.loading = true;\r\n        let result = await this.$store.dispatch('query',{url : '/api/vicarious/function/add',data : this.formData});\r\n        if(result.status == 'success'){\r\n          this.formData = {\r\n            name     : '',\r\n            text     : '',\r\n            note     : '',\r\n            function : ''\r\n          }\r\n          this.$store.commit('setMessage', {text: result.message, header: 'Успешно!', type: 'success'});\r\n        }else\r\n          this.$store.commit('setMessage',{text : result.message,header : 'Возникла проблема!',type: 'error'});\r\n        this.loading = false;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    'formData.name' : function(){\r\n      this.errors.name = null;\r\n    },\r\n    'formData.function' : function(){\r\n      this.errors.function = null;\r\n    },\r\n    'formData.text' : function(){\r\n      this.errors.text = null;\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n.el-col small {\r\n  color: #ff2400;\r\n}\r\n\r\n.el-col .invalid {\r\n  border:solid 1px;\r\n  border-color: #ff7f50;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=d512c330&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&id=d512c330&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d512c330\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"type\":\"info\",\"icon\":\"el-icon-back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$store.commit('setComponent','list')}}},[_vm._v(\" Вернуться к списку \")]),_c('el-card',{staticClass:\"component-wrapper\"},[_c('h3',[_vm._v(\"Редактирование функции\")]),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Название\")]),_c('el-input',{class:_vm.errors.name ? 'invalid' : '',attrs:{\"type\":\"text\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}}),(_vm.errors.name)?_c('small',[_vm._v(_vm._s(_vm.errors.name))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Тип функции\")]),_c('el-select',{attrs:{\"placeholder\":\"Тип функции\"},model:{value:(_vm.formData.function),callback:function ($$v) {_vm.$set(_vm.formData, \"function\", $$v)},expression:\"formData.function\"}},_vm._l((_vm.function_type),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Позиция в сортировке\")]),_c('el-input',{attrs:{\"placeholder\":\"Введите число\",\"type\":\"number\",\"min\":\"1\"},model:{value:(_vm.formData.sort),callback:function ($$v) {_vm.$set(_vm.formData, \"sort\", _vm._n($$v))},expression:\"formData.sort\"}})],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Активность\")]),_c('el-checkbox-group',{attrs:{\"fill\":\"#909399\",\"text-color\":\"white\"},model:{value:(_vm.formData.active),callback:function ($$v) {_vm.$set(_vm.formData, \"active\", $$v)},expression:\"formData.active\"}},[_c('el-checkbox-button',{attrs:{\"label\":_vm.formData.active ? 'Вкл' : 'Откл'},model:{value:(_vm.formData.active),callback:function ($$v) {_vm.$set(_vm.formData, \"active\", $$v)},expression:\"formData.active\"}})],1)],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Текст в документе\")]),_c('el-input',{class:_vm.errors.text ? 'invalid' : '',attrs:{\"type\":\"textarea\",\"rows\":\"10\"},model:{value:(_vm.formData.text),callback:function ($$v) {_vm.$set(_vm.formData, \"text\", $$v)},expression:\"formData.text\"}}),(_vm.errors.text)?_c('small',[_vm._v(_vm._s(_vm.errors.text))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Примечание\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"10\"},model:{value:(_vm.formData.note),callback:function ($$v) {_vm.$set(_vm.formData, \"note\", $$v)},expression:\"formData.note\"}})],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('br')]),_c('el-col',{attrs:{\"span\":8}},[_c('el-button',{class:'fluid-button',attrs:{\"size\":\"medium\",\"icon\":\"el-icon-upload\",\"type\":\"primary\"},on:{\"click\":_vm.setFormData}},[_vm._v(\"Сохранить функцию\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n    <el-button\r\n        class=\"body-button body-button-color\"\r\n        size=\"medium\"\r\n        type=\"info\"\r\n        icon=\"el-icon-back\"\r\n        @click.prevent=\"$store.commit('setComponent','list')\">\r\n      Вернуться к списку\r\n    </el-button>\r\n    <el-card class=\"component-wrapper\" >\r\n      <h3>Редактирование функции</h3>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Название</label>\r\n          <el-input type=\"text\" v-model=\"formData.name\" :class=\"errors.name ? 'invalid' : ''\"/>\r\n          <small v-if=\"errors.name\">{{ errors.name}}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label>Тип функции</label>\r\n          <el-select\r\n              v-model=\"formData.function\"\r\n              placeholder=\"Тип функции\">\r\n            <el-option\r\n                v-for=\"item in function_type\"\r\n                :key=\"item.key\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Позиция в сортировке</label>\r\n          <el-input placeholder=\"Введите число\" type=\"number\" min=\"1\" v-model.number=\"formData.sort\"></el-input>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label>Активность</label>\r\n          <el-checkbox-group v-model=\"formData.active\"  fill=\"#909399\" text-color=\"white\">\r\n            <el-checkbox-button :label=\"formData.active ? 'Вкл' : 'Откл'\" v-model=\"formData.active\"></el-checkbox-button>\r\n          </el-checkbox-group>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Текст в документе</label>\r\n          <el-input type=\"textarea\" rows=\"10\" v-model=\"formData.text\" :class=\"errors.text ? 'invalid' : ''\"></el-input>\r\n          <small v-if=\"errors.text\">{{ errors.text}}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label>Примечание</label>\r\n          <el-input type=\"textarea\" rows=\"10\" v-model=\"formData.note\" ></el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <br/>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-button @click=\"setFormData\" size=\"medium\" icon=\"el-icon-upload\" :class=\"'fluid-button'\" type=\"primary\">Сохранить функцию</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name : 'functionEdit',\r\n  data : function (){\r\n    return {\r\n      formData   : {\r\n        name     : '',\r\n        text     : '',\r\n        note     : '',\r\n        function : '',\r\n        active   : false,\r\n        sort     : '',\r\n      },\r\n      errors     : {\r\n        name     : null,\r\n        text     : null,\r\n      },\r\n    };\r\n  },\r\n  computed : {\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n    function_type : function(){\r\n      return this.$store.getters.function_type;\r\n    },\r\n    id(){\r\n      return this.$store.getters.componentParams.id[0].value\r\n    },\r\n  },\r\n  methods : {\r\n    isValid(formData){\r\n      for (let key in this.errors) this.errors[key] = null;\r\n      let isValid = true;\r\n      if (!formData.name) {isValid = false; this.errors.name = 'Необходимо ввести название функционала!'};\r\n      if (!formData.text) {isValid = false; this.errors.text = 'Необходимо выбрать тип функционала!'};\r\n      return isValid\r\n    },\r\n    async setFormData() {\r\n      if (this.isValid(this.formData)) {\r\n        this.loading = true;\r\n        this.formData.event = 'set';\r\n        let result = await this.$store.dispatch('query',{url : '/api/vicarious/function/edit',data : this.formData});\r\n        if(result.status == 'success')\r\n          this.$store.commit('setMessage',{text : result.message,header : 'Успешно!', type: 'success'});\r\n        else\r\n          this.$store.commit('setMessage',{text : result.message,header : 'Возникла проблема!',type: 'error' });\r\n        this.loading = false;\r\n      }\r\n    }\r\n  },\r\n  created : async function(){\r\n    this.loading = true;\r\n    let result = await this.$store.dispatch('query',{url : '/api/vicarious/function/edit',data : {id : this.id, event : 'get'}});\r\n    if(result.status == 'success'){\r\n      this.formData.id       = result.data.id;\r\n      this.formData.name     = result.data.name;\r\n      this.formData.sort     = result.data.sort;\r\n      this.formData.text     = result.data.text;\r\n      this.formData.note     = result.data.note;\r\n      this.formData.function = result.data.function;\r\n      this.formData.active   = result.data.active;\r\n    }else\r\n      this.$store.commit('setMessage',{text : result.message,header : 'Возникла проблема!',type: 'error'});\r\n    this.loading = false;\r\n  },\r\n  watch: {\r\n    'formData.name' : function(){\r\n      this.errors.name = null;\r\n    },\r\n    'formData.text' : function(){\r\n      this.errors.text = null;\r\n    },\r\n\r\n  },\r\n\r\n}\r\n</script>\r\n<style scoped>\r\n.el-col small {\r\n  color: #ff2400;\r\n}\r\n.el-col .invalid {\r\n  border:solid 1px;\r\n  border-color: #ff7f50;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=93a62786&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=93a62786&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"93a62786\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n<!--    <keep-alive>-->\r\n      <component :is=\"component\"/>\r\n<!--    </keep-alive>-->\r\n<!--    <Add  v-if=\"component === 'add'\"/>-->\r\n<!--    <List v-if=\"component === 'list'\"/>-->\r\n<!--    <Edit v-if=\"component === 'edit'\"/>-->\r\n  </div>\r\n</template>\r\n<script>\r\nimport List from './list'\r\nimport Add from './add'\r\nimport Edit from './edit'\r\nexport default {\r\n  name       : \"functionPage\",\r\n  components : {List,Add,Edit},\r\n  computed   : {\r\n   component : function(){\r\n      return this.$store.getters.component;\r\n   }\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=50ac5939&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c(_vm.component,{tag:\"component\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[(_vm.gridReady)?_c('Grid',{directives:[{name:\"event-bus\",rawName:\"v-event-bus:saveVisibleColumn\",value:(_vm.saveVisibleColumn),expression:\"saveVisibleColumn\",arg:\"saveVisibleColumn\"},{name:\"event-bus\",rawName:\"v-event-bus:saveOrderColumn\",value:(_vm.saveOrderColumn),expression:\"saveOrderColumn\",arg:\"saveOrderColumn\"},{name:\"event-bus\",rawName:\"v-event-bus:saveWidthColumn\",value:(_vm.saveWidthColumn),expression:\"saveWidthColumn\",arg:\"saveWidthColumn\"},{name:\"event-bus\",rawName:\"v-event-bus:onSort\",value:(_vm.onSort),expression:\"onSort\",arg:\"onSort\"}],attrs:{\"name\":\"users\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-loading=\"loading\">\r\n    <Grid\r\n        v-if=\"gridReady\"\r\n        name=\"users\"\r\n        v-event-bus:saveVisibleColumn=\"saveVisibleColumn\"\r\n        v-event-bus:saveOrderColumn=\"saveOrderColumn\"\r\n        v-event-bus:saveWidthColumn=\"saveWidthColumn\"\r\n        v-event-bus:onSort=\"onSort\"\r\n        />\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name : 'usersList',\r\n  data : function (){\r\n    return {\r\n\r\n      grid : {\r\n        filter     : {\r\n          data     : {\r\n            id              : {\r\n              show : false,\r\n              type : 'number',\r\n              name : 'ID',\r\n            },\r\n            name            : {\r\n              type     : 'list',\r\n              name     : 'Название',\r\n              multiple : true,\r\n              option   : [],\r\n            },\r\n            users           : {\r\n              type      : 'searchlist',\r\n              name      : 'Пользователи',\r\n              multiple  : true,\r\n              query     : async function (data){\r\n                let result = await this.$store.dispatch('query',{\r\n                  url   : '/api/vicarious/user/search',\r\n                  data  :  {q : data}\r\n                });\r\n                if(result.status == 'success') return result.data\r\n              }.bind(this),\r\n            },\r\n            charter         : {\r\n              type     : 'list',\r\n              name     : 'Права',\r\n              multiple : true,\r\n              option   : [],\r\n            },\r\n            created_at      : {\r\n              type : 'date',\r\n              name : 'Дата создания',\r\n            },\r\n          },\r\n          filter   : function(data){\r\n            this.filterData = data;\r\n            this.getData();\r\n          }.bind(this),\r\n          clear    : function(){\r\n            this.filterData = {};\r\n            this.getData();\r\n          }.bind(this),\r\n        },\r\n        context    : [\r\n          {\r\n            name : 'Редактировать',\r\n            function : function(row){\r\n              this.$store.commit('setComponent','connect');\r\n              this.$store.commit('setComponentParams',row);\r\n            }.bind(this),\r\n          },\r\n          {\r\n            name : 'Удалить',\r\n            function : function(row){\r\n              this.$confirm(`Вы уверены, что хотите удалить группу - ${row.name[0].value} ?`).then(async() => {\r\n                this.deleteRole(row);\r\n              }).catch(() => {});\r\n            }.bind(this),\r\n          },\r\n        ],\r\n        pagination : {\r\n          show : 'false'\r\n        },\r\n        header     : {\r\n          id      : {\r\n            name        : 'ID',\r\n            width       : 100,\r\n            contentSort : true,\r\n          },\r\n          name    : {\r\n            name  : 'Название',\r\n            width : 200,\r\n            child : ['users']\r\n          },\r\n          users   : {\r\n            name  : 'Пользователи',\r\n            width : 300\r\n          },\r\n          charter : {\r\n            name  : 'Права',\r\n            width : 300,\r\n          },\r\n          note    : {\r\n            name  : 'Примечания',\r\n            width : 300,\r\n          },\r\n          created_at : {\r\n            name        : 'Дата создания',\r\n            width       : 300,\r\n            contentSort : true,\r\n          },\r\n\r\n        },\r\n        elements   : [],\r\n        name       : 'users',\r\n      },\r\n\r\n      filterData    : {},\r\n      sort          : {\r\n        name : 'id',\r\n        order : 'asc',\r\n      },\r\n      gridReady     : false,\r\n    };\r\n  },\r\n  computed:{\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n  },\r\n  methods : {\r\n    async getData(){\r\n      this.loading = true;\r\n      this.grid.filter.data.name.option    = [];\r\n      this.grid.filter.data.charter.option = [];\r\n\r\n      let filter = await this.$store.dispatch('normalizeFilterData', this.filterData);\r\n\r\n      let charter = await this.$store.dispatch('query',{ url : '/api/vicarious/charter/list' });\r\n      if (charter.status == 'success') {\r\n        this.grid.filter.data.charter.option = charter.data.map(el => {\r\n           return {value : el.id[0].value, label : el.name[0].value};\r\n          })\r\n      }\r\n\r\n      let result = await this.$store.dispatch('query',{\r\n        url     : '/api/vicarious/role/list',\r\n        data    : { filter : filter, sort : this.sort,}\r\n      });\r\n      if(result.status == 'success') {\r\n        this.grid.filter.data.name.option = result.data.map(el => {\r\n           return {value : el.name[0].value, label : el.name[0].value};\r\n        })\r\n        this.$grid.commit('normalizeElement',{name : 'users',data : {elements : result.data}});\r\n\r\n        //ниже добавляются исходнные роли которые нужны для работы программы (в случае если при первом запуске таблица ролей пустая)\r\n        if( Object.keys(filter).length == 0 && result.data.length == 0 ){\r\n          let mokRole = [\r\n            {name : 'superUser',            note : 'Полный доступ'},\r\n            {name : 'requestResponsible',   note : 'Ответственные за заявки'},\r\n            {name : 'functionManager',      note : 'Управление функциями'},\r\n            {name : 'rejectRemover',        note : 'Удаление отклоненных заявок'},\r\n            {name : 'showDocument',         note : 'Просмотр всех документов'}\r\n          ];\r\n          for (let i = 0; i < mokRole.length; i++ ) {\r\n            await this.$store.dispatch('query',{url : '/api/vicarious/role/add',data : mokRole[i]});\r\n          }\r\n          result = await this.$store.dispatch('query',{\r\n            url     : '/api/vicarious/role/list',\r\n            data    : { filter  : filter},\r\n          });\r\n          this.$grid.commit('normalizeElement',{name : this.grid.name, data : {elements : result.data}});\r\n        }\r\n      } else\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!',type: 'error'});\r\n      /////////////// конец добавления исходных данных //////////////\r\n      this.loading = false;\r\n    },\r\n    async deleteRole(row){\r\n\r\n      let notDelete = ['superUser', 'requestResponsible', 'functionManager', 'rejectRemover','showDocument'];\r\n      let role = row.name[0].value\r\n      if (notDelete.indexOf(role) >= 0) {\r\n        this.$store.commit('setMessage',{text : `Группу - ${role} удалять запрещено!`,type : 'error'});\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query',{\r\n        url : '/api/vicarious/role/delete',\r\n        data : {role_id : row.id[0].value}\r\n      });\r\n      if(result.status == 'success') {\r\n        this.getData();\r\n        this.$store.commit('setMessage', {text: result.message, type: 'success'});\r\n      }else\r\n        this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n      this.loading = false;\r\n    },\r\n\r\n    onSort(data){\r\n      this.sort.name = data.key;\r\n      if (this.sort.name === data.key)\r\n        this.sort.order === 'asc' ? this.sort.order = 'desc' : this.sort.order = 'asc';\r\n      else\r\n        this.sort.order = 'desc';\r\n      this.getData();\r\n    },\r\n\r\n    saveVisibleColumn(data){\r\n      this.grid.header[data.key].show = data.show;\r\n      this.setHeaderParams();\r\n    },\r\n\r\n    saveWidthColumn(data){\r\n      this.grid.header[data.key].width = data.width;\r\n      this.setHeaderParams();\r\n    },\r\n\r\n    saveOrderColumn(data){\r\n      data.data.forEach(el => {\r\n        let key = el.key, sort=el.params.sort;\r\n        this.grid.header[key].sort = sort;\r\n      });\r\n      this.setHeaderParams();\r\n    },\r\n\r\n    async setHeaderParams(){\r\n      let keys = Object.keys(this.grid.header);\r\n      let headerParams = keys.map(el => {\r\n        let show;\r\n        ('show' in this.grid.header[el]) ? show = this.grid.header[el].show : show = true;\r\n        return {key : el, width : this.grid.header[el].width , show : show, sort : this.grid.header[el].sort}\r\n      })\r\n      let result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/setting',\r\n        data : {\r\n          grid    : this.grid.name,\r\n          params  : JSON.stringify(headerParams),\r\n          type    : 'set',\r\n        }\r\n      });\r\n      if(result.status == 'success')\r\n        this.$store.commit('setMessage',{text: result.message, type : 'success'})\r\n      else\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n    },\r\n\r\n    async initGrid(){\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query',{\r\n        url  : '/api/vicarious/setting',\r\n        data : {\r\n          grid    : this.grid.name,\r\n          type    : 'get',\r\n        }\r\n      });\r\n      if(result.status == 'success' && result.data.length>0) {\r\n        let headerParams = JSON.parse(result.data[0]);\r\n        headerParams.forEach(el => {\r\n          if ( el.key in this.grid.header) {\r\n            this.grid.header[el.key].show = el.show;\r\n            this.grid.header[el.key].width = el.width;\r\n            this.grid.header[el.key].sort = el.sort;\r\n          }\r\n        });\r\n      }\r\n      if(result.status !== 'success')\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера', header : 'Возникла проблема!', type: 'error'});\r\n\r\n      this.$grid.dispatch('createGrid', {name : this.grid.name, data : this.grid});\r\n\r\n      await  this.getData();\r\n\r\n      this.gridReady = true;\r\n\r\n      this.loading = false;\r\n    },\r\n\r\n  },\r\n  created(){\r\n    this.initGrid();\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=1748d41f&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"type\":\"info\",\"icon\":\"el-icon-back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$store.commit('setComponent','list')}}},[_vm._v(\" Вернуться к списку \")]),_c('el-card',{staticClass:\"component-wrapper\"},[_c('h3',[_vm._v(\"Создание новой группы пользователей\")]),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Название\")]),_c('el-input',{class:_vm.errors.name ? 'invalid' : '',attrs:{\"type\":\"text\",\"placeholder\":\"Укажите название\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}}),(_vm.errors.name)?_c('small',[_vm._v(_vm._s(_vm.errors.name))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Примечание\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"4\",\"placeholder\":\"Укажите примечание\"},model:{value:(_vm.formData.note),callback:function ($$v) {_vm.$set(_vm.formData, \"note\", $$v)},expression:\"formData.note\"}})],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('br')]),_c('el-col',{attrs:{\"span\":8}},[_c('el-button',{class:'fluid-button',attrs:{\"size\":\"medium\",\"icon\":\"el-icon-upload\",\"type\":\"primary\"},on:{\"click\":_vm.setFormData}},[_vm._v(\"Добавить роль\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n    <el-button\r\n        class=\"body-button body-button-color\"\r\n        size=\"medium\"\r\n        type=\"info\"\r\n        icon=\"el-icon-back\"\r\n        @click.prevent=\"$store.commit('setComponent','list')\">\r\n      Вернуться к списку\r\n    </el-button>\r\n    <el-card class=\"component-wrapper\" >\r\n      <h3>Создание новой группы пользователей</h3>\r\n      <el-row :gutter=\"20\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Название</label>\r\n          <el-input\r\n              type=\"text\"\r\n              v-model=\"formData.name\"\r\n              :class=\"errors.name ? 'invalid' : ''\"\r\n              placeholder=\"Укажите название\"/>\r\n          <small v-if=\"errors.name\">{{ errors.name}}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label>Примечание</label>\r\n          <el-input\r\n              type=\"textarea\"\r\n              rows=\"4\"\r\n              v-model=\"formData.note\"\r\n              placeholder=\"Укажите примечание\"\r\n              >\r\n          </el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"20\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <br/>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-button @click=\"setFormData\" size=\"medium\" icon=\"el-icon-upload\" :class=\"'fluid-button'\" type=\"primary\">Добавить роль</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name : 'usersAdd',\r\n  data : function (){\r\n    return {\r\n      formData : {\r\n        name : '',\r\n        note : '',\r\n      },\r\n      errors : {\r\n        name:null,\r\n      },\r\n    };\r\n  },\r\n  computed : {\r\n    loading : {\r\n    get : function(){\r\n      return this.$store.getters.loading;\r\n    },\r\n    set : function(value){\r\n      this.$store.commit('setLoading',value)\r\n    }\r\n  },\r\n},\r\n  methods : {\r\n    isValid(formData){\r\n      for (let key in this.errors) this.errors[key] = null;\r\n      let isValid = true;\r\n      if (!formData.name) {isValid = false; this.errors.name = 'Необходимо ввести название роли!'};\r\n      return isValid\r\n    },\r\n    async setFormData() {\r\n      if (this.isValid(this.formData)) {\r\n        this.loading = true;\r\n        let result = await this.$store.dispatch('query',{url : '/api/vicarious/role/add',data : this.formData});\r\n        if(result.status == 'success') {\r\n          this.formData = {\r\n            name : '',\r\n            note : '',\r\n          }\r\n          this.$store.commit('setMessage', {text: result.message, type : 'success'});\r\n        }else\r\n          this.$store.commit('setMessage', {text : result.message,type : 'error'});\r\n        this.loading = false;\r\n      }\r\n    },\r\n  },\r\n  watch : {\r\n    'formData.name' : function(){\r\n      this.errors.name = null;\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-col small {\r\n  color: #ff2400;\r\n}\r\n\r\n.el-col .invalid {\r\n  border:solid 1px;\r\n  border-color: #ff7f50;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=e098ae20&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&id=e098ae20&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e098ae20\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"type\":\"info\",\"icon\":\"el-icon-back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$store.commit('setComponent','list')}}},[_vm._v(\" Вернуться к списку \")]),_c('el-card',{staticClass:\"component-wrapper\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"card-header\"},[_c('h3',[_vm._v(\"Редактирование группы пользователей - \"+_vm._s(_vm.$store.getters.componentParams.name[0].value))])])]},proxy:true}])},[_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":12}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Пользователь\")]),_c('el-select',{class:_vm.errors.user ? 'invalid' : '',attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"Укажите ФИО\",\"remote-method\":_vm.searchUser,\"loading\":_vm.loading},model:{value:(_vm.connect.user),callback:function ($$v) {_vm.$set(_vm.connect, \"user\", $$v)},expression:\"connect.user\"}},_vm._l((_vm.users),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(_vm.errors.user)?_c('small',[_vm._v(_vm._s(_vm.errors.user))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":4}},[_c('label',[_c('br')]),_c('el-button',{staticClass:\"fluid-button\",attrs:{\"size\":\"small\",\"icon\":\"el-icon-circle-plus\",\"type\":\"info\"},on:{\"click\":_vm.addNewUser}},[_vm._v(\"Добавить\")])],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":12}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.show.user}},[_c('el-table-column',{attrs:{\"prop\":\"text\",\"label\":'Пользователи группы - '+ _vm.$store.getters.componentParams.name[0].value}}),_c('el-table-column',{attrs:{\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-remove\"},on:{\"click\":function($event){return _vm.removeUser(scope.$index)}}},[_vm._v(\"Удалить\")])]}}])})],1)],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":12}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Привелегия\")]),_c('el-select',{class:_vm.errors.charter ? 'invalid' : '',attrs:{\"placeholder\":\"Привелегии\"},model:{value:(_vm.connect.charter),callback:function ($$v) {_vm.$set(_vm.connect, \"charter\", $$v)},expression:\"connect.charter\"}},_vm._l((_vm.charters),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(_vm.errors.charter)?_c('small',[_vm._v(_vm._s(_vm.errors.charter))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":4}},[_c('label',[_c('br')]),_c('el-button',{staticClass:\"fluid-button\",attrs:{\"size\":\"small\",\"icon\":\"el-icon-circle-plus\",\"type\":\"info\"},on:{\"click\":_vm.addNewCharter}},[_vm._v(\"Добавить\")])],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":12}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.show.charter}},[_c('el-table-column',{attrs:{\"prop\":\"label\",\"label\":'Привелегии у группы - '+ _vm.$store.getters.componentParams.name[0].value}}),_c('el-table-column',{attrs:{\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-remove\"},on:{\"click\":function($event){return _vm.removeCharter(scope.$index)}}},[_vm._v(\"Удалить\")])]}}])})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n    <el-button\r\n        class=\"body-button body-button-color\"\r\n        size=\"medium\"\r\n        type=\"info\"\r\n        icon=\"el-icon-back\"\r\n        @click.prevent=\"$store.commit('setComponent','list')\">\r\n      Вернуться к списку\r\n    </el-button>\r\n  <el-card class=\"component-wrapper\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <h3>Редактирование группы пользователей - {{$store.getters.componentParams.name[0].value}}</h3>\r\n        </div>\r\n      </template>\r\n    <el-row :gutter=\"12\" class=\"mb15\">\r\n      <el-col :span=\"8\">\r\n        <label>Пользователь</label>\r\n        <el-select\r\n            v-model=\"connect.user\"\r\n            filterable\r\n            remote\r\n            reserve-keyword\r\n            placeholder=\"Укажите ФИО\"\r\n            :remote-method=\"searchUser\"\r\n            :loading=\"loading\"\r\n            :class=\"errors.user ? 'invalid' : ''\"\r\n        >\r\n          <el-option\r\n              v-for=\"item in users\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\">\r\n          </el-option>\r\n        </el-select>\r\n        <small v-if=\"errors.user\">{{ errors.user}}</small>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <label><br/></label>\r\n        <el-button @click=\"addNewUser\" size=\"small\" icon=\"el-icon-circle-plus\" class=\"fluid-button\" type=\"info\">Добавить</el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row :gutter=\"12\" class=\"mb15\">\r\n      <el-col :span=\"12\">\r\n        <el-table\r\n            :data=\"show.user\"\r\n            style=\"width: 100%\">\r\n          <el-table-column\r\n              prop=\"text\"\r\n              :label=\"'Пользователи группы - '+ $store.getters.componentParams.name[0].value\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              align=\"right\"\r\n          >\r\n            <template #default=\"scope\">\r\n              <el-button\r\n                  size=\"mini\"\r\n                  type=\"danger\"\r\n                  icon=\"el-icon-remove\"\r\n                  @click=\"removeUser(scope.$index)\">Удалить</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row :gutter=\"12\" class=\"mb15\">\r\n      <el-col :span=\"8\">\r\n        <label>Привелегия</label>\r\n        <el-select\r\n            v-model=\"connect.charter\"\r\n            placeholder=\"Привелегии\"\r\n            :class=\"errors.charter ? 'invalid' : ''\"\r\n        >\r\n          <el-option\r\n              v-for=\"item in charters\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\">\r\n          </el-option>\r\n        </el-select>\r\n        <small v-if=\"errors.charter\">{{ errors.charter}}</small>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <label><br></label>\r\n        <el-button @click=\"addNewCharter\" size=\"small\" icon=\"el-icon-circle-plus\" class=\"fluid-button\" type=\"info\">Добавить</el-button>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row :gutter=\"12\" class=\"mb15\">\r\n      <el-col :span=\"12\">\r\n        <el-table\r\n            :data=\"show.charter\"\r\n            style=\"width: 100%\">\r\n          <el-table-column\r\n              prop=\"label\"\r\n              :label=\"'Привелегии у группы - '+ $store.getters.componentParams.name[0].value\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              align=\"right\"\r\n          >\r\n            <template #default=\"scope\">\r\n              <el-button\r\n                  size=\"mini\"\r\n                  type=\"danger\"\r\n                  icon=\"el-icon-remove\"\r\n                  @click=\"removeCharter(scope.$index)\">Удалить</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-col>\r\n    </el-row>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name : 'usersConnect',\r\n  data : function (){\r\n    return {\r\n      formData  : {\r\n        charter : [],\r\n        user    : []\r\n      },\r\n      connect   : {\r\n        charter : '',\r\n        user    : '',\r\n      },\r\n      show      : {\r\n        user    : [],\r\n        charter : []\r\n      },\r\n      users     : [],\r\n      charters  : [],\r\n      errors    : {\r\n        user    : null,\r\n        charter : null,\r\n      },\r\n    };\r\n  },\r\n  computed : {\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n    role_id(){\r\n      return this.$store.getters.componentParams.id[0].value\r\n    },\r\n  },\r\n  methods : {\r\n    getSyncData : async function(){\r\n    this.loading = true;\r\n      let result = await this.$store.dispatch('query',{url : '/api/vicarious/role/get-connect',data : {\r\n           role_id : this.role_id\r\n         }});\r\n      if(result.status == 'success') {\r\n        this.show.user    = result.data.user;\r\n        this.show.charter = result.data.charter;\r\n      }\r\n      let charter = await this.$store.dispatch('query',{url : '/api/vicarious/charter/list',data : {}});\r\n      if(charter.status == 'success') {\r\n        this.charters = [];\r\n        charter.data.forEach(el => {\r\n          this.charters.push({value : el.id[0].value, label : el.label[0].value});\r\n        });\r\n      }\r\n      this.loading = false;\r\n    },\r\n    addNewUser(){\r\n      this.connect.user ? this.setSyncUser() : this.errors.user = 'Необходимо выбрать пользователя!'\r\n    },\r\n    setSyncUser : async function(){\r\n        this.loading = true;\r\n        this.show.user.forEach(el => {\r\n          this.formData.user.push(el.value);\r\n        });\r\n        if(this.connect.user !== '')\r\n          this.formData.user.push(this.connect.user);\r\n        let result = await this.$store.dispatch('query',{url : '/api/vicarious/role/set-connect',data : {\r\n            role_id   : this.role_id,\r\n            users     : this.formData.user,\r\n            type      : 'user',\r\n          }});\r\n        if(result.status == 'success') {\r\n          this.formData = {\r\n            charter : [],\r\n            user    : []\r\n          }\r\n          this.connect = {\r\n            charter : '',\r\n            user    : ''\r\n          }\r\n          await this.getSyncData();\r\n          this.$store.commit('setMessage',{text : result.message,header : 'Успешно!',type: 'success'});\r\n        }else\r\n          this.$store.commit('setMessage',{text : result.message,header : 'Возникла проблема!',type: 'error'});\r\n        this.loading = false;\r\n    },\r\n    removeUser : function(index){\r\n      this.$confirm(`Вы уверены, что хотите удалить пользователя - ${this.show.user[index].text} ?`).then(() => {\r\n        this.show.user.splice(index,1);\r\n        this.setSyncUser();\r\n      }).catch(()=>{});\r\n    },\r\n    addNewCharter(){\r\n      this.connect.charter ? this.setSyncCharter() : this.errors.charter = 'Необходимо выбрать привелегию!'\r\n    },\r\n    async setSyncCharter(){\r\n        this.loading = true;\r\n        this.show.charter.forEach(el => {\r\n          this.formData.charter.push(el.value);\r\n        });\r\n        if(this.connect.charter !== '')\r\n          this.formData.charter.push(this.connect.charter);\r\n        let result = await this.$store.dispatch('query',{url : '/api/vicarious/role/set-connect',data : {\r\n            role_id  : this.$store.getters.componentParams.id[0].value,\r\n            charters : this.formData.charter,\r\n            type     : 'charter',\r\n          }});\r\n        if(result.status == 'success') {\r\n          this.formData = {\r\n            charter : [],\r\n            user    : []\r\n          }\r\n          this.connect = {\r\n            charter : '',\r\n            user    : ''\r\n          }\r\n          await this.getSyncData();\r\n          this.$store.commit('setMessage',{text : result.message,header : 'Успешно!',type: 'success'});\r\n        }else\r\n          this.$store.commit('setMessage',{text : result.message,header : 'Возникла проблема!',type: 'error'});\r\n        this.loading = false;\r\n    },\r\n    removeCharter : function(index){\r\n      this.$confirm(`Вы уверены, что хотите удалить привелегию - ${this.show.charter[index].text}?`).then(() => {\r\n        this.show.charter.splice(index,1);\r\n        this.setSyncCharter();\r\n      }).catch(()=>{});\r\n    },\r\n    searchUser : async function(query){\r\n      let result = await this.$store.dispatch('query',{url : '/api/vicarious/user/search',data :  {q : query}});\r\n      if(result.status == 'success'){this.users = result.data;}\r\n    },\r\n  },\r\n  watch:{\r\n    'connect.user' : function(){\r\n      this.errors.user = null;\r\n    },\r\n    'connect.charter' : function(){\r\n      this.errors.charter = null;\r\n    },\r\n  },\r\n  async created() {\r\n    await this.getSyncData();\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.el-col small {\r\n  color: #ff2400;\r\n}\r\n\r\n.el-col .invalid {\r\n  border:solid 1px;\r\n  border-color: #ff7f50;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./connect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./connect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./connect.vue?vue&type=template&id=29877766&scoped=true&\"\nimport script from \"./connect.vue?vue&type=script&lang=js&\"\nexport * from \"./connect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./connect.vue?vue&type=style&index=0&id=29877766&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29877766\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n<!--    <keep-alive>-->\r\n      <component :is=\"component\"/>\r\n<!--    </keep-alive>-->\r\n<!--    <Add      v-if=\"component === 'add'\"/>-->\r\n<!--    <List     v-if=\"component === 'list'\"/>-->\r\n<!--    <Connect  v-if=\"component === 'connect'\"/>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport List from './list'\r\nimport Add from './add'\r\nimport Connect from './connect'\r\n\r\nexport default {\r\n  name        : \"usersPage\",\r\n  components  : {List, Add, Connect},\r\n  computed    : {\r\n    component : function(){\r\n      return this.$store.getters.component;\r\n    }\r\n  },\r\n\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=3132cc03&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c(_vm.component,{tag:\"component\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"type\":\"info\",\"icon\":\"el-icon-back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$store.commit('setComponent','list')}}},[_vm._v(\" Вернуться к списку \")]),_c('el-card',{staticClass:\"component-wrapper\"},[_c('h3',[_vm._v(\"Создание привелегии\")]),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":8}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Выбрать тип привелегии\")]),_c('el-select',{attrs:{\"placeholder\":\"Выбрать тип привелегии\"},model:{value:(_vm.typeSelected),callback:function ($$v) {_vm.typeSelected=$$v},expression:\"typeSelected\"}},_vm._l((_vm.type),function(item,i){return _c('el-option',{key:i,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),(_vm.typeSelected==='custom')?_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Название\")]),_c('el-input',{ref:'custom_search',class:_vm.errors.charterToSent ? 'invalid' : '',attrs:{\"type\":\"text\",\"placeholder\":\"Укажите название\"},on:{\"input\":function($event){return _vm.clearSelectSearch('custom_search', _vm.custom, _vm.custom)}},model:{value:(_vm.custom),callback:function ($$v) {_vm.custom=$$v},expression:\"custom\"}}),(_vm.errors.charterToSent)?_c('small',[_vm._v(_vm._s(_vm.errors.charterToSent))]):_vm._e()],1):_vm._e(),(_vm.typeSelected==='user')?_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Доверенное лицо\")]),_c('el-select',{ref:'user_search',class:_vm.errors.charterToSent ? 'invalid' : '',attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"Укажите ФИО\",\"remote-method\":_vm.searchUser,\"loading\":_vm.loading},on:{\"change\":function($event){return _vm.clearSelectSearch('user_search', _vm.userSelected, _vm.users)}},model:{value:(_vm.userSelected),callback:function ($$v) {_vm.userSelected=$$v},expression:\"userSelected\"}},_vm._l((_vm.users),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(_vm.errors.charterToSent)?_c('small',[_vm._v(_vm._s(_vm.errors.charterToSent))]):_vm._e()],1):_vm._e(),(_vm.typeSelected==='company')?_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Доверенная организация\")]),_c('el-select',{ref:'company_search',class:_vm.errors.charterToSent ? 'invalid' : '',attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"Укажите организацию\",\"remote-method\":_vm.searchCompany,\"loading\":_vm.loading},on:{\"change\":function($event){return _vm.clearSelectSearch('company_search', _vm.companySelected, _vm.company)}},model:{value:(_vm.companySelected),callback:function ($$v) {_vm.companySelected=$$v},expression:\"companySelected\"}},_vm._l((_vm.company),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(_vm.errors.charterToSent)?_c('small',[_vm._v(_vm._s(_vm.errors.charterToSent))]):_vm._e()],1):_vm._e(),(_vm.typeSelected==='department' || _vm.typeSelected==='department_child')?_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Департамент\")]),_c('el-select',{ref:'department_search',class:_vm.errors.charterToSent ? 'invalid' : '',attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"Укажите департамент или отдел\",\"remote-method\":_vm.searchDepartment,\"loading\":_vm.loading},on:{\"change\":function($event){return _vm.clearSelectSearch('department_search', _vm.departmentSelected, _vm.department)}},model:{value:(_vm.departmentSelected),callback:function ($$v) {_vm.departmentSelected=$$v},expression:\"departmentSelected\"}},_vm._l((_vm.department),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),(_vm.errors.charterToSent)?_c('small',[_vm._v(_vm._s(_vm.errors.charterToSent))]):_vm._e()],1):_vm._e()],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":16}},[_c('el-col',{attrs:{\"span\":16}},[_c('label',[_vm._v(\"Примечание\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"4\",\"placeholder\":\"Укажите примечание\"},model:{value:(_vm.note),callback:function ($$v) {_vm.note=$$v},expression:\"note\"}})],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('br')]),_c('el-col',{attrs:{\"span\":8}},[_c('el-button',{class:'fluid-button',attrs:{\"size\":\"medium\",\"icon\":\"el-icon-upload\",\"type\":\"primary\"},on:{\"click\":_vm.setFormData}},[_vm._v(\"Добавить привелегию\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n    <el-button\r\n        class=\"body-button body-button-color\"\r\n        size=\"medium\"\r\n        type=\"info\"\r\n        icon=\"el-icon-back\"\r\n        @click.prevent=\"$store.commit('setComponent','list')\">\r\n      Вернуться к списку\r\n    </el-button>\r\n    <el-card class=\"component-wrapper\">\r\n      <h3>Создание привелегии</h3>\r\n      <el-row :gutter=\"8\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Выбрать тип привелегии</label>\r\n          <el-select  v-model=\"typeSelected\" placeholder=\"Выбрать тип привелегии\">\r\n            <el-option\r\n                v-for=\"(item,i) in type\"\r\n                :key=\"i\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-col>\r\n        <el-col :span=\"8\" v-if=\"typeSelected==='custom'\">\r\n          <label>Название</label>\r\n          <el-input\r\n              type=\"text\"\r\n              v-model=\"custom\"\r\n              @input=\"clearSelectSearch('custom_search', custom, custom)\"\r\n              :ref=\"'custom_search'\"\r\n              :class=\"errors.charterToSent ? 'invalid' : ''\"\r\n              placeholder=\"Укажите название\"\r\n          />\r\n          <small v-if=\"errors.charterToSent\">{{ errors.charterToSent}}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\" v-if=\"typeSelected==='user'\">\r\n          <label>Доверенное лицо</label>\r\n          <el-select\r\n              v-model=\"userSelected\"\r\n              filterable\r\n              remote\r\n              reserve-keyword\r\n              placeholder=\"Укажите ФИО\"\r\n              :remote-method=\"searchUser\"\r\n              :loading=\"loading\"\r\n              @change=\"clearSelectSearch('user_search', userSelected, users)\"\r\n              :ref=\"'user_search'\"\r\n              :class=\"errors.charterToSent ? 'invalid' : ''\"\r\n          >\r\n            <el-option\r\n                v-for=\"item in users\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n          <small v-if=\"errors.charterToSent\">{{ errors.charterToSent}}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\" v-if=\"typeSelected==='company'\">\r\n          <label>Доверенная организация</label>\r\n          <el-select\r\n              v-model=\"companySelected\"\r\n              filterable\r\n              remote\r\n              reserve-keyword\r\n              placeholder=\"Укажите организацию\"\r\n              :remote-method=\"searchCompany\"\r\n              :loading=\"loading\"\r\n              @change=\"clearSelectSearch('company_search', companySelected, company)\"\r\n              :ref=\"'company_search'\"\r\n              :class=\"errors.charterToSent ? 'invalid' : ''\"\r\n          >\r\n            <el-option\r\n                v-for=\"item in company\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n          <small v-if=\"errors.charterToSent\">{{ errors.charterToSent}}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\" v-if=\"typeSelected==='department' || typeSelected==='department_child'\">\r\n          <label>Департамент</label>\r\n          <el-select\r\n              v-model=\"departmentSelected\"\r\n              filterable\r\n              remote\r\n              reserve-keyword\r\n              placeholder=\"Укажите департамент или отдел\"\r\n              :remote-method=\"searchDepartment\"\r\n              :loading=\"loading\"\r\n              @change=\"clearSelectSearch('department_search', departmentSelected, department)\"\r\n              :ref=\"'department_search'\"\r\n              :class=\"errors.charterToSent ? 'invalid' : ''\"\r\n          >\r\n            <el-option\r\n                v-for=\"item in department\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n          <small v-if=\"errors.charterToSent\">{{ errors.charterToSent}}</small>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row :gutter=\"16\" class=\"mb15\">\r\n        <el-col :span=\"16\">\r\n          <label>Примечание</label>\r\n          <el-input\r\n              type=\"textarea\"\r\n              rows=\"4\"\r\n              v-model=\"note\"\r\n              placeholder=\"Укажите примечание\"\r\n              >\r\n          </el-input>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <br/>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-button @click=\"setFormData\" size=\"medium\" icon=\"el-icon-upload\" :class=\"'fluid-button'\" type=\"primary\">Добавить привелегию</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name : 'accessAdd',\r\n  data : function (){\r\n    return {\r\n      type               : [\r\n          {value : 'user',             label : 'Доверенное лицо'},\r\n          {value : 'company',          label : 'Организация'},\r\n          {value : 'department',       label : 'Департамент, без иерархиии дочерних подразделений'},\r\n          {value : 'department_child', label : 'Департамент, с иерархией дочерних подразделений'},\r\n          {value : 'custom',           label : 'Общее'},\r\n       ],\r\n\r\n      label              : '',\r\n      typeSelected       : 'user',\r\n\r\n      custom             : '',\r\n      users              : [],\r\n      userSelected      : '',\r\n      company            : [],\r\n      companySelected    : '',\r\n      department         : [],\r\n      departmentSelected : '',\r\n\r\n      charterToSent      : '',\r\n      note               : '',\r\n\r\n      errors   : {\r\n        charterToSent   : null,\r\n      },\r\n    };\r\n  },\r\ncomputed:{\r\n  loading : {\r\n    get(){\r\n      return this.$store.getters.loading;\r\n    },\r\n    set(value){\r\n      this.$store.commit('setLoading',value)\r\n    }\r\n  },\r\n},\r\n\r\n  methods : {\r\n    clearSelectSearch : function(key, value, data){\r\n      this.$refs[key].query = '';\r\n      let label = '';\r\n      this.charterToSent = value ;\r\n      if (data instanceof Array) {\r\n        data.forEach(el => { if (el.value === value)  return label = el.label });\r\n        this.label = 'Документы -' + label;\r\n      } else this.label = data;\r\n\r\n    },\r\n    searchUser: function(query) {\r\n      if (query !== '')\r\n        this.search(query,'user');\r\n    },\r\n    searchCompany : function(query){\r\n      if (query !== '')\r\n        this.search(query,'company');\r\n    },\r\n    searchDepartment : function(query){\r\n      if (query !== '')\r\n        this.search(query,'department');\r\n    },\r\n    search : async function(query,key){\r\n      let url,obj,department = 0;\r\n\r\n      if(key == 'user'){\r\n        obj = 'users';\r\n        url = '/api/vicarious/user/search';\r\n      }\r\n\r\n      if(key == 'company'){\r\n        obj = 'company';\r\n        url = '/api/vicarious/company/search';\r\n      }\r\n\r\n      if(key == 'department'){\r\n        obj = 'department';\r\n        url = '/api/vicarious/user/dep-search';\r\n      }\r\n\r\n      let result = await this.$store.dispatch('query',{url : url,data :  {q : query}});\r\n\r\n      if(result.status == 'success'){\r\n        this[obj] = result.data;\r\n      }\r\n    },\r\n\r\n    async setFormData() {\r\n        if (!this.charterToSent) {this.errors.charterToSent = 'Необходимо ввести название привелегии!'; return};\r\n        let name = this.typeSelected;\r\n        let label = this.label;\r\n        if (this.charterToSent === 'custom'){ name = this.custom, label = this.custom}\r\n        this.loading = true;\r\n        let result = await this.$store.dispatch('query',{\r\n          url : '/api/vicarious/charter/add',\r\n          data : {name, label, individuals : this.charterToSent, note : this.note}\r\n        });\r\n        if(result.status == 'success') {\r\n          this.charterToSent      = '';\r\n          this.label              = '';\r\n          this.custom             = '';\r\n          this.usersSelected      = '';\r\n          this.companySelected    = '';\r\n          this.departmentSelected = '';\r\n          this.$store.commit('setMessage', {text: result.message, type: 'success'});\r\n        }else\r\n          this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n  watch:{\r\n    typeSelected : function(){\r\n      this.custom               = '';\r\n      this.usersSelected        = '';\r\n      this.companySelected      = '';\r\n      this.departmentSelected   = '';\r\n      this.errors.charterToSent = null;\r\n    },\r\n    charterToSent : function(){\r\n      this.errors.charterToSent = null;\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n.el-col small {\r\n  color: #ff2400;\r\n}\r\n.el-col .invalid {\r\n  border:solid 1px;\r\n  border-color: #ff7f50;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=bb0e2238&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&id=bb0e2238&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bb0e2238\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('Grid',{attrs:{\"name\":\"access\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-loading=\"loading\">\r\n    <Grid name=\"access\"/>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name : 'accessList',\r\n  data : function (){\r\n    return {\r\n      grid : {\r\n        filter      : {\r\n          data     : {\r\n            id              : {\r\n              show : false,\r\n              type : 'number',\r\n              name : 'ID',\r\n            },\r\n            name            : {\r\n              type     : 'list',\r\n              name     : 'Название',\r\n              multiple : true,\r\n              option   : [],\r\n            },\r\n            created_at      : {\r\n              type : 'date',\r\n              name : 'Дата создания',\r\n            },\r\n          },\r\n          filter   : function(data){\r\n            this.filterData = data;\r\n            this.getData();\r\n          }.bind(this),\r\n          clear    : function(){\r\n            this.filterData = {};\r\n            this.getData();\r\n          }.bind(this),\r\n        },\r\n        context     : [\r\n          {\r\n            name : 'Удалить',\r\n            function : function(row){\r\n              this.$confirm(`Вы уверены, что хотите удалить привелегию - ${row.label[0].value} ?`).then(async() => {\r\n                this.deleteCharter(row);\r\n              }).catch(() => {});\r\n\r\n            }.bind(this),\r\n          },\r\n        ],\r\n        pagination  : {\r\n          show : 'none'\r\n        },\r\n        header      : {\r\n          id         : {\r\n            name  : 'ID',\r\n          },\r\n          name       : {\r\n            name  : 'Название',\r\n            width : 200,\r\n          },\r\n          label      : {\r\n            name  : 'Дополнение',\r\n            width : 200,\r\n          },\r\n          note       : {\r\n            name  : 'Примечания',\r\n            width : 400,\r\n          },\r\n          created_at : {\r\n            name  : 'Дата создания',\r\n            width : 150,\r\n          },\r\n        },\r\n        elements    : [],\r\n      },\r\n      filterData : {},\r\n    };\r\n  },\r\ncomputed:{\r\n  loading : {\r\n    get : function(){\r\n      return this.$store.getters.loading;\r\n    },\r\n    set : function(value){\r\n      this.$store.commit('setLoading',value);\r\n    }\r\n  },\r\n},\r\n  methods : {\r\n    async getData(){\r\n      this.loading = true;\r\n      this.grid.filter.data.name.option = [];\r\n      let filter = await this.$store.dispatch('normalizeFilterData', this.filterData);\r\n\r\n      let charter = await this.$store.dispatch('query',{ url : '/api/vicarious/charter/list' });\r\n      if (charter.status == 'success') {\r\n        this.grid.filter.data.name.option = charter.data.map(el => {\r\n          return {value : el.name[0].value, label : el.label[0].value};\r\n        })\r\n      }\r\n\r\n      let result = await this.$store.dispatch('query',{\r\n        url     : '/api/vicarious/charter/list',\r\n        data    : { filter  : filter, },\r\n      });\r\n        if(result.status == 'success') {\r\n        this.$grid.commit('normalizeElement',{name : 'access',data : {elements : result.data}});\r\n            //ниже добавляются исходнные права которые нужны для работы программы (в случае если при первом запуске таблица прав пустая)\r\n            if( Object.keys(filter).length == 0 && result.data.length == 0 ){\r\n              let mokCharter = [\r\n                {name : 'showAll',        note : 'Просмотр всех заявок и документов', label : 'showAll'},\r\n                {name : 'showDocument',   note : 'Просмотр всех документов', label : 'showDocument'},\r\n                {name : 'manageRequest',  note : 'Администрирование заявок', label : 'manageRequest'},\r\n                {name : 'manageFunction', note : 'Администрирование функций', label : 'manageFunction'},\r\n                {name : 'deleteRejected', note : 'Удаление отклоненных заявок', label : 'deleteRejected'},\r\n                {name : 'root',           note : 'Администрирование групп пользователей и прав доступа', label : 'root'}\r\n              ];\r\n              for (let i = 0; i < mokCharter.length; i++ ) {\r\n                await this.$store.dispatch('query',{url : '/api/vicarious/charter/add',data : mokCharter[i]});\r\n              }\r\n              result = await this.$store.dispatch('query',{\r\n                url     : '/api/vicarious/charter/list',\r\n                data    : { filter  : filter },\r\n              });\r\n              this.$grid.commit('normalizeElement',{name : 'access',data : {elements : result.data}});\r\n            }\r\n      } else\r\n           this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!',type: 'error'});\r\n      this.loading = false;\r\n    },\r\n    async deleteCharter(row){\r\n\r\n      let notDelete = ['showAll', 'showDocument', 'manageRequest', 'manageFunction', 'deleteRejected', 'root'];\r\n      let charter = row.name[0].value\r\n      if (notDelete.indexOf(charter) >= 0) {\r\n        this.$store.commit('setMessage',{text : `Привелегию - ${charter} удалять запрещено!`,type : 'error'});\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query',{\r\n        url : '/api/vicarious/charter/delete',\r\n        data : {charter_id : row.id[0].value}\r\n      });\r\n      if(result.status == 'success') {\r\n        this.getData();\r\n        this.$store.commit('setMessage', {text: result.message, type: 'success'});\r\n      }else\r\n        this.$store.commit('setMessage',{text : result.message,type : 'error'});\r\n      this.loading = false;\r\n    },\r\n  },\r\n  created : function(){\r\n    this.$grid.dispatch('createGrid', {name : 'access',data : this.grid});\r\n    this.getData();\r\n  },\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=2b79f856&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n<!--    <keep-alive>-->\r\n      <component :is=\"component\"/>\r\n<!--    </keep-alive>-->\r\n<!--    <Add  v-if=\"component === 'add'\"/>-->\r\n<!--    <List v-if=\"component === 'list'\"/>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Add from './add'\r\nimport List from './list'\r\nexport default {\r\n  name        : \"accessPage\",\r\n  components  : {List, Add},\r\n  computed    : {\r\n    component : function(){\r\n      return this.$store.getters.component;\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=bb09ec58&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-card',{staticClass:\"component-wrapper\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"card-header\"},[_c('h3',[_vm._v(\"Администрирование вариантов хранения оригиналов документа\")])])]},proxy:true}])},[_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":12}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Место хранения\")]),_c('el-input',{class:_vm.errors.storage ? 'invalid' : '',attrs:{\"type\":\"text\",\"placeholder\":\"Укажите место\"},model:{value:(_vm.storage),callback:function ($$v) {_vm.storage=$$v},expression:\"storage\"}}),(_vm.errors.storage)?_c('small',[_vm._v(_vm._s(_vm.errors.storage))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":4}},[_c('label',[_c('br')]),_c('el-button',{staticClass:\"fluid-button\",attrs:{\"size\":\"small\",\"icon\":\"el-icon-circle-plus\",\"type\":\"info\"},on:{\"click\":_vm.addNewStorage}},[_vm._v(\"Добавить\")])],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":12}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-table',{attrs:{\"data\":_vm.show}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"Название\"}}),_c('el-table-column',{attrs:{\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-remove\"},on:{\"click\":function($event){return _vm.removeStorage(scope.$index)}}},[_vm._v(\"Удалить\")])]}}])})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n    <el-card class=\"component-wrapper\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <h3>Администрирование вариантов хранения оригиналов документа</h3>\r\n        </div>\r\n      </template>\r\n      <el-row :gutter=\"12\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Место хранения</label>\r\n          <el-input\r\n              type=\"text\"\r\n              v-model=\"storage\"\r\n              :class=\"errors.storage ? 'invalid' : ''\"\r\n              placeholder=\"Укажите место\"\r\n          />\r\n          <small v-if=\"errors.storage\">{{ errors.storage}}</small>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <label><br></label>\r\n          <el-button @click=\"addNewStorage\" size=\"small\" icon=\"el-icon-circle-plus\" class=\"fluid-button\" type=\"info\">Добавить</el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row :gutter=\"12\" class=\"mb15\">\r\n        <el-col :span=\"12\">\r\n          <el-table\r\n              :data=\"show\">\r\n            <el-table-column\r\n                prop=\"id\"\r\n                label=\"ID\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"name\"\r\n                label=Название\r\n            >\r\n            </el-table-column>\r\n\r\n            <el-table-column\r\n                align=\"right\"\r\n            >\r\n              <template #default=\"scope\">\r\n                <el-button\r\n                    size=\"mini\"\r\n                    type=\"danger\"\r\n                    icon=\"el-icon-remove\"\r\n                    @click=\"removeStorage(scope.$index)\">Удалить</el-button>\r\n              </template>\r\n            </el-table-column>\r\n\r\n          </el-table>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name : 'storageList',\r\n  data(){\r\n    return {\r\n      storage : '',\r\n\r\n      show : [],\r\n\r\n      errors : {\r\n        storage : null,\r\n      },\r\n    }\r\n  },\r\n  computed :{\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n  },\r\n  methods  : {\r\n    async getData(){\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query',{ url : '/api/vicarious/storage/list' });\r\n      if (result.status == 'success') {\r\n        //если пусто то добавить варианты по умолчанию\r\n        if (result.data.length === 0) {\r\n          let mokStorage = [\r\n            {name : 'Выдано на руки'},{name : 'ДПУ'},{name : 'ДФИиУ'},{name : 'ОП МСК'},{name : 'ОП НСК'},{name : 'ОП ЕКТ'},{name : 'ОП СМР'}\r\n          ];\r\n          for (let i = 0; i < mokStorage.length; i++ ) {\r\n            await this.$store.dispatch('query',{url : '/api/vicarious/storage/add',data : mokStorage[i]});\r\n          }\r\n          result = await this.$store.dispatch('query',{ url : '/api/vicarious/storage/list' });\r\n        }\r\n\r\n        this.show = result.data.map(el => {\r\n           return {id : el.id, name : el.name};\r\n        })\r\n\r\n      } else\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!',type: 'error'});\r\n      this.loading = false;\r\n    },\r\n\r\n    async addNewStorage(){\r\n      if (this.storage === '') {this.errors.storage = 'Необходимо выбрать место!'; return};\r\n      this.loading = true;\r\n      let result = await this.$store.dispatch('query',{ url : '/api/vicarious/storage/add', data :  { name : this.storage } });\r\n      if (result.status == 'success') {\r\n        this.storage = '';\r\n        this.$store.commit('setMessage', {text: result.message, type : 'success'});\r\n        this.getData();\r\n      } else\r\n        this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!',type: 'error'});\r\n      this.loading = false;\r\n    },\r\n\r\n    removeStorage(index){\r\n      this.$confirm(`Вы уверены, что хотите удалить  - ${this.show[index].name} ?`).then(async () => {\r\n        this.loading = true;\r\n        let result = await this.$store.dispatch('query',{ url : '/api/vicarious/storage/delete', data :  { id : this.show[index].id } });\r\n        if (result.status == 'success') {\r\n          this.$store.commit('setMessage', {text: result.message, type : 'success'});\r\n          this.show.splice(index,1);\r\n          this.getData();\r\n          this.loading = false;\r\n        } else\r\n            this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!',type: 'error'});\r\n      }).catch(()=>{});\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.getData();\r\n  },\r\n\r\n  watch : {\r\n    storage(){\r\n      this.errors.storage = null;\r\n    },\r\n  },\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./storage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./storage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./storage.vue?vue&type=template&id=1ebd4ca1&\"\nimport script from \"./storage.vue?vue&type=script&lang=js&\"\nexport * from \"./storage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.component,{tag:\"component\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"type\":\"info\",\"icon\":\"el-icon-back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$store.commit('setComponent','list')}}},[_vm._v(\" Вернуться к списку \")]),_c('el-card',{staticClass:\"component-wrapper\"},[_c('h3',[_vm._v(\"Создание новой выгрузки\")]),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Название выгрузки\")]),_c('el-input',{class:_vm.errors.name ? 'invalid' : '',attrs:{\"placeholder\":\"Название выгрузки\"},model:{value:(_vm.queryData.name),callback:function ($$v) {_vm.$set(_vm.queryData, \"name\", $$v)},expression:\"queryData.name\"}}),(_vm.errors.name)?_c('small',[_vm._v(_vm._s(_vm.errors.name))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Описание выгрузки\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"1\",\"placeholder\":\"Описание выгрузки\"},model:{value:(_vm.queryData.description),callback:function ($$v) {_vm.$set(_vm.queryData, \"description\", $$v)},expression:\"queryData.description\"}})],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Функционал\")]),_c('el-select',{ref:\"selectFunction\",class:_vm.errors.function ? 'invalid' : '',attrs:{\"placeholder\":\"Функционал\",\"multiple\":\"\"},model:{value:(_vm.queryData.functions),callback:function ($$v) {_vm.$set(_vm.queryData, \"functions\", $$v)},expression:\"queryData.functions\"}},_vm._l((_vm.functions),function(item){return _c('el-option',{key:item.value,style:({width: _vm.$refs.selectFunction.$el.offsetWidth + 30 +'px', whiteSpace: 'normal', height: 'auto'}),attrs:{\"label\":item.label,\"value\":item.value}},[_c('div',{on:{\"mouseover\":function($event){return _vm.mouseOnFunctionOptions($event,true, item)},\"mouseout\":function($event){return _vm.mouseOnFunctionOptions($event, false, '')}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])])}),1),(_vm.errors.function)?_c('small',[_vm._v(_vm._s(_vm.errors.function))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":8}},[_c('br')]),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_c('br')]),_c('el-button',{class:'fluid-button',attrs:{\"size\":\"medium\",\"icon\":\"el-icon-upload\",\"type\":\"primary\"},on:{\"click\":_vm.saveForm}},[_vm._v(\" Сохранить выгрузку \")])],1)],1)],1),(_vm.functionsDetail.show)?_c('div',{staticClass:\"context-menu-wrapper\"},[(_vm.functionsDetail.note)?_c('div',{staticClass:\"context-menu-element\"},[_c('h4',[_vm._v(\"Примечание\")]),_vm._v(\" \"+_vm._s(_vm.functionsDetail.note))]):_vm._e(),(_vm.functionsDetail.text)?_c('div',{staticClass:\"context-menu-element\"},[_c('h4',[_vm._v(\"Описание \")]),_vm._v(\" \"+_vm._s(_vm.functionsDetail.text))]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n    <el-button\r\n        class=\"body-button body-button-color\"\r\n        size=\"medium\"\r\n        type=\"info\"\r\n        icon=\"el-icon-back\"\r\n        @click.prevent=\"$store.commit('setComponent','list')\">\r\n      Вернуться к списку\r\n    </el-button>\r\n    <el-card class=\"component-wrapper\">\r\n      <h3>Создание новой выгрузки</h3>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Название выгрузки</label>\r\n          <el-input\r\n              v-model=\"queryData.name\"\r\n              placeholder=\"Название выгрузки\"\r\n              :class=\"errors.name ? 'invalid' : ''\"\r\n          />\r\n          <small v-if=\"errors.name\">{{ errors.name}}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label>Описание выгрузки</label>\r\n          <el-input\r\n              v-model=\"queryData.description\"\r\n              type=\"textarea\"\r\n              rows=\"1\"\r\n              placeholder=\"Описание выгрузки\"\r\n          />\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Функционал</label>\r\n          <el-select\r\n              v-model=\"queryData.functions\"\r\n              placeholder=\"Функционал\"\r\n              :class=\"errors.function ? 'invalid' : ''\"\r\n              multiple\r\n              ref=\"selectFunction\"\r\n          >\r\n            <el-option\r\n                :style=\"{width: $refs.selectFunction.$el.offsetWidth + 30 +'px', whiteSpace: 'normal', height: 'auto'}\"\r\n                v-for=\"item in functions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n            >\r\n              <div\r\n                  v-on:mouseover=\"mouseOnFunctionOptions($event,true, item)\"\r\n                  v-on:mouseout=\"mouseOnFunctionOptions($event, false, '')\"\r\n              >\r\n                {{item.label}}\r\n              </div>\r\n            </el-option>\r\n          </el-select>\r\n          <small v-if=\"errors.function\">{{ errors.function}}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <br/>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label><br/></label>\r\n          <el-button\r\n              @click=\"saveForm\"\r\n              :class=\"'fluid-button'\"\r\n              size=\"medium\"\r\n              icon=\"el-icon-upload\"\r\n              type=\"primary\"\r\n          >\r\n            Сохранить выгрузку\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n\r\n    </el-card>\r\n\r\n    <div class=\"context-menu-wrapper\" v-if=\"functionsDetail.show\">\r\n      <div class=\"context-menu-element\" v-if=\"functionsDetail.note\"> <h4>Примечание</h4> {{functionsDetail.note}}</div>\r\n      <div class=\"context-menu-element\" v-if=\"functionsDetail.text\"> <h4>Описание  </h4> {{functionsDetail.text}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"exchangeAdd\",\r\n  data(){\r\n    return {\r\n      queryData : {\r\n        name        : '',\r\n        description : '',\r\n        functions   : [],\r\n      },\r\n      functionsDetail : {\r\n        show : false,\r\n        text : '',\r\n        note : '',\r\n      },\r\n      functions : [],\r\n      errors      : {\r\n        name      : null,\r\n        function  : null,\r\n      },\r\n    }\r\n  },\r\n  computed : {\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n  },\r\n  methods : {\r\n    mouseOnFunctionOptions(e,isShow, item){\r\n      if (isShow) {\r\n        this.functionsDetail.show = true;\r\n        this.functionsDetail.text = item.text;\r\n        this.functionsDetail.note = item.note;\r\n        this.$nextTick(() => {\r\n          let menu = document.querySelector('.context-menu-wrapper'),\r\n              clientClick = {\r\n                y : e.clientY,\r\n              };\r\n          menu.style.maxWidth = 45 + '%';\r\n          menu.style.position = 'relative';\r\n          menu.style.left = this.$refs.selectFunction.$el.offsetWidth  + 62 + 'px';\r\n          if (clientClick.y < this.$refs.selectFunction.$el.getBoundingClientRect().y)  menu.style.top =  - 190 + 'px';\r\n          else  menu.style.top =  -22 + 'px';\r\n        });\r\n      } else {\r\n        this.functionsDetail.show = false;\r\n        this.functionsDetail.text = '';\r\n        this.functionsDetail.note = '';\r\n      }\r\n    },\r\n\r\n    async getData() {\r\n      this.loading = true;\r\n      let functions = await this.$store.dispatch('query', {url: '/api/vicarious/function/list', data: {}});\r\n      if (functions.status == 'success') {\r\n        this.functions = functions.data.map(el => {\r\n          return {value: el.id[0].value, label: el.name[0].value, text: el.text[0].value, note: el.note[0].value};\r\n        })\r\n      }\r\n      this.loading = false;\r\n    },\r\n\r\n    isValid(queryData){\r\n      for (let key in this.errors) this.errors[key] = null;\r\n      let isValid = true;\r\n      if (!queryData.name)                   {isValid = false; this.errors.name     = 'Необходимо ввести название выгрузки'};\r\n      if (queryData.functions.length === 0 ) {isValid = false; this.errors.function = 'Необходимо выбрать функцию'};\r\n      return isValid\r\n    },\r\n\r\n    async saveForm(){\r\n      if (this.isValid(this.queryData)) {\r\n        this.loading = true;\r\n        let result = await this.$store.dispatch('query',{url : '/api/vicarious/exchange/add',data : this.queryData});\r\n        if(result.status == 'success'){\r\n          this.queryData = {\r\n            name        : '',\r\n            description : '',\r\n            functions   : ''\r\n          }\r\n          this.$store.commit('setMessage', {text: result.message, header: 'Успешно!', type: 'success'});\r\n        }else\r\n          this.$store.commit('setMessage',{text : result.message,header : 'Возникла проблема!',type: 'error'});\r\n        this.loading = false;\r\n      }\r\n\r\n    },\r\n  },\r\n  created() {\r\n    this.getData();\r\n  },\r\n  watch: {\r\n    'queryData.name' : function(){\r\n      this.errors.name = null;\r\n    },\r\n    'queryData.functions' : function(){\r\n      this.errors.function = null;\r\n    },\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=535ea667&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"535ea667\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-card',{staticClass:\"component-wrapper\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"card-header\"},[_c('h3',[_vm._v(\"Варианты выгрузки данных\")])])]},proxy:true}])},[_c('el-table',{attrs:{\"data\":_vm.show}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"Название\",\"width\":\"250\"}}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"Описание\",\"width\":\"350\"}}),_c('el-table-column',{attrs:{\"label\":\"Функционал\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return _vm._l((props.row.functions),function(item){return _c('p',[_vm._v(\" \"+_vm._s(item.name)+\" \")])})}}])}),_c('el-table-column',{attrs:{\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.editExchange(scope.row.id)}}}),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.removeExchange(scope.$index)}}})]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"body-wrapper\" v-loading=\"loading\">\r\n  <el-card class=\"component-wrapper\">\r\n    <template #header>\r\n      <div class=\"card-header\">\r\n        <h3>Варианты выгрузки данных</h3>\r\n      </div>\r\n    </template>\r\n    <el-table\r\n        :data=\"show\">\r\n      <el-table-column\r\n          prop=\"id\"\r\n          label=\"ID\"\r\n          width=\"100\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"name\"\r\n          label=\"Название\"\r\n          width=\"250\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n          prop=\"description\"\r\n          label=\"Описание\"\r\n          width=\"350\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"Функционал\"\r\n      >\r\n        <template slot-scope=\"props\">\r\n          <p  v-for=\"item in props.row.functions\">\r\n            {{item.name}}\r\n          </p>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column align=\"right\">\r\n        <template #default=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"info\"\r\n            icon=\"el-icon-edit\"\r\n            @click=\"editExchange(scope.row.id)\"\r\n          />\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            icon=\"el-icon-delete\"\r\n            @click=\"removeExchange(scope.$index)\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </el-card>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"exchangeList\",\r\n  data(){\r\n    return {\r\n      show : [],\r\n      functions : [],\r\n    }\r\n  },\r\n  computed : {\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n  },\r\n  methods : {\r\n    async getData(){\r\n      this.loading = true;\r\n\r\n      let result = await this.$store.dispatch('query',{url : '/api/vicarious/exchange/list',data : {}});\r\n      if(result.status == 'success'){\r\n        this.show = result.data;\r\n      } else\r\n           this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!',type: 'error'});\r\n\r\n      this.loading = false;\r\n    },\r\n\r\n    removeExchange(index){\r\n      this.$confirm(`Вы уверены, что хотите удалить  - ${this.show[index].name} ?`).then(async () => {\r\n        this.loading = true;\r\n        let result = await this.$store.dispatch('query',{ url : '/api/vicarious/exchange/delete', data :  { id : this.show[index].id } });\r\n        if (result.status == 'success') {\r\n          this.$store.commit('setMessage', {text: result.message, type : 'success'});\r\n          this.show.splice(index,1);\r\n          this.getData();\r\n          this.loading = false;\r\n        } else\r\n             this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!',type: 'error'});\r\n      }).catch(()=>{});\r\n    },\r\n\r\n    editExchange(id){\r\n      this.$confirm(`Вы уверены, что хотите редактировать выгрузку с ID ${id}?`).then(async () => {\r\n        this.$store.commit('setExchangeId', id)\r\n        this.$store.commit('setComponent', 'edit');\r\n      }).catch(()=>{});\r\n    },\r\n\r\n  },\r\n  created() {\r\n    this.getData();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=4f8e3a24&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f8e3a24\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"body-wrapper\"},[_c('el-button',{staticClass:\"body-button body-button-color\",attrs:{\"size\":\"medium\",\"type\":\"info\",\"icon\":\"el-icon-back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$store.commit('setComponent','list')}}},[_vm._v(\" Вернуться к списку \")]),_c('el-card',{staticClass:\"component-wrapper\"},[_c('h3',[_vm._v(\"Редактирование выгрузки\")]),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Название выгрузки\")]),_c('el-input',{class:_vm.errors.name ? 'invalid' : '',attrs:{\"placeholder\":\"Название выгрузки\"},model:{value:(_vm.queryData.name),callback:function ($$v) {_vm.$set(_vm.queryData, \"name\", $$v)},expression:\"queryData.name\"}}),(_vm.errors.name)?_c('small',[_vm._v(_vm._s(_vm.errors.name))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Описание выгрузки\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"1\",\"placeholder\":\"Описание выгрузки\"},model:{value:(_vm.queryData.description),callback:function ($$v) {_vm.$set(_vm.queryData, \"description\", $$v)},expression:\"queryData.description\"}})],1)],1),_c('el-row',{staticClass:\"mb15\",attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":8}},[_c('label',[_vm._v(\"Функционал\")]),_c('el-select',{ref:\"selectFunction\",class:_vm.errors.function ? 'invalid' : '',attrs:{\"placeholder\":\"Функционал\",\"multiple\":\"\"},model:{value:(_vm.queryData.functions),callback:function ($$v) {_vm.$set(_vm.queryData, \"functions\", $$v)},expression:\"queryData.functions\"}},_vm._l((_vm.functions),function(item){return _c('el-option',{key:item.value,style:({width: _vm.$refs.selectFunction.$el.offsetWidth + 30 +'px', whiteSpace: 'normal', height: 'auto'}),attrs:{\"label\":item.label,\"value\":item.value}},[_c('div',{on:{\"mouseover\":function($event){return _vm.mouseOnFunctionOptions($event,true, item)},\"mouseout\":function($event){return _vm.mouseOnFunctionOptions($event, false, '')}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])])}),1),(_vm.errors.function)?_c('small',[_vm._v(_vm._s(_vm.errors.function))]):_vm._e()],1),_c('el-col',{attrs:{\"span\":8}},[_c('br')]),_c('el-col',{attrs:{\"span\":8}},[_c('label',[_c('br')]),_c('el-button',{class:'fluid-button',attrs:{\"size\":\"medium\",\"icon\":\"el-icon-upload\",\"type\":\"primary\"},on:{\"click\":_vm.saveForm}},[_vm._v(\" Сохранить выгрузку \")])],1)],1)],1),(_vm.functionsDetail.show)?_c('div',{staticClass:\"context-menu-wrapper\"},[(_vm.functionsDetail.note)?_c('div',{staticClass:\"context-menu-element\"},[_c('h4',[_vm._v(\"Примечание\")]),_vm._v(\" \"+_vm._s(_vm.functionsDetail.note))]):_vm._e(),(_vm.functionsDetail.text)?_c('div',{staticClass:\"context-menu-element\"},[_c('h4',[_vm._v(\"Описание \")]),_vm._v(\" \"+_vm._s(_vm.functionsDetail.text))]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"body-wrapper\" v-loading=\"loading\">\r\n    <el-button\r\n        class=\"body-button body-button-color\"\r\n        size=\"medium\"\r\n        type=\"info\"\r\n        icon=\"el-icon-back\"\r\n        @click.prevent=\"$store.commit('setComponent','list')\">\r\n      Вернуться к списку\r\n    </el-button>\r\n    <el-card class=\"component-wrapper\">\r\n      <h3>Редактирование выгрузки</h3>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Название выгрузки</label>\r\n          <el-input\r\n              v-model=\"queryData.name\"\r\n              placeholder=\"Название выгрузки\"\r\n              :class=\"errors.name ? 'invalid' : ''\"\r\n          />\r\n          <small v-if=\"errors.name\">{{ errors.name}}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label>Описание выгрузки</label>\r\n          <el-input\r\n              v-model=\"queryData.description\"\r\n              type=\"textarea\"\r\n              rows=\"1\"\r\n              placeholder=\"Описание выгрузки\"\r\n          />\r\n        </el-col>\r\n      </el-row>\r\n      <el-row :gutter=\"24\" class=\"mb15\">\r\n        <el-col :span=\"8\">\r\n          <label>Функционал</label>\r\n          <el-select\r\n              v-model=\"queryData.functions\"\r\n              placeholder=\"Функционал\"\r\n              :class=\"errors.function ? 'invalid' : ''\"\r\n              multiple\r\n              ref=\"selectFunction\"\r\n          >\r\n            <el-option\r\n                :style=\"{width: $refs.selectFunction.$el.offsetWidth + 30 +'px', whiteSpace: 'normal', height: 'auto'}\"\r\n                v-for=\"item in functions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n            >\r\n              <div\r\n                  v-on:mouseover=\"mouseOnFunctionOptions($event,true, item)\"\r\n                  v-on:mouseout=\"mouseOnFunctionOptions($event, false, '')\"\r\n              >\r\n                {{item.label}}\r\n              </div>\r\n            </el-option>\r\n          </el-select>\r\n          <small v-if=\"errors.function\">{{ errors.function}}</small>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <br/>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <label><br/></label>\r\n          <el-button\r\n              @click=\"saveForm\"\r\n              :class=\"'fluid-button'\"\r\n              size=\"medium\"\r\n              icon=\"el-icon-upload\"\r\n              type=\"primary\"\r\n          >\r\n            Сохранить выгрузку\r\n          </el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n    <div class=\"context-menu-wrapper\" v-if=\"functionsDetail.show\">\r\n      <div class=\"context-menu-element\" v-if=\"functionsDetail.note\"> <h4>Примечание</h4> {{functionsDetail.note}}</div>\r\n      <div class=\"context-menu-element\" v-if=\"functionsDetail.text\"> <h4>Описание  </h4> {{functionsDetail.text}}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"exchangeEdit\",\r\n  data(){\r\n    return {\r\n      queryData : {\r\n        name        : '',\r\n        description : '',\r\n        functions   : [],\r\n      },\r\n      functionsDetail : {\r\n        show : false,\r\n        text : '',\r\n        note : '',\r\n      },\r\n      functions : [],\r\n      errors      : {\r\n        name      : null,\r\n        function  : null,\r\n      },\r\n    }\r\n  },\r\n  computed : {\r\n    loading : {\r\n      get : function(){\r\n        return this.$store.getters.loading;\r\n      },\r\n      set : function(value){\r\n        this.$store.commit('setLoading',value)\r\n      }\r\n    },\r\n    exchangeId(){\r\n      return this.$store.getters.exchangeId;\r\n    },\r\n  },\r\n  methods : {\r\n    mouseOnFunctionOptions(e,isShow, item){\r\n      if (isShow) {\r\n        this.functionsDetail.show = true;\r\n        this.functionsDetail.text = item.text;\r\n        this.functionsDetail.note = item.note;\r\n        this.$nextTick(() => {\r\n          let menu = document.querySelector('.context-menu-wrapper'),\r\n              clientClick = {\r\n                y : e.clientY,\r\n              };\r\n          menu.style.maxWidth = 45 + '%';\r\n          menu.style.position = 'relative';\r\n          menu.style.left = this.$refs.selectFunction.$el.offsetWidth  + 62 + 'px';\r\n          if (clientClick.y < this.$refs.selectFunction.$el.getBoundingClientRect().y)  menu.style.top =  - 190 + 'px';\r\n          else  menu.style.top =  -22 + 'px';\r\n        });\r\n      } else {\r\n        this.functionsDetail.show = false;\r\n        this.functionsDetail.text = '';\r\n        this.functionsDetail.note = '';\r\n      }\r\n    },\r\n\r\n    async getData() {\r\n      this.loading = true;\r\n      let functions = await this.$store.dispatch('query', {url: '/api/vicarious/function/list', data: {}});\r\n      if (functions.status == 'success') {\r\n        this.functions = functions.data.map(el => {\r\n          return {value: el.id[0].value, label: el.name[0].value, text: el.text[0].value, note: el.note[0].value};\r\n        })\r\n      }\r\n\r\n      let result = await this.$store.dispatch('query',{url : '/api/vicarious/exchange/edit',data : {id : this.exchangeId, edit : 'get'}});\r\n      if(result.status == 'success'){\r\n          this.queryData.id = result.data.id;\r\n          this.queryData.name = result.data.name;\r\n          this.queryData.description = result.data.description;\r\n          this.queryData.functions = result.data.functions.map(el => {return el.id})\r\n      } else\r\n          this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема!',type: 'error'});\r\n\r\n\r\n      this.loading = false;\r\n    },\r\n\r\n    isValid(queryData){\r\n      for (let key in this.errors) this.errors[key] = null;\r\n      let isValid = true;\r\n      if (!queryData.name)                   {isValid = false; this.errors.name     = 'Необходимо ввести название выгрузки'};\r\n      if (queryData.functions.length === 0 ) {isValid = false; this.errors.function = 'Необходимо выбрать функцию'};\r\n      return isValid\r\n    },\r\n\r\n    async saveForm(){\r\n      if (this.isValid(this.queryData)) {\r\n        this.loading = true;\r\n        let result = await this.$store.dispatch('query',{url : '/api/vicarious/exchange/edit',data : {edit : 'set', ...this.queryData} });\r\n        if(result.status == 'success'){\r\n          this.$store.commit('setMessage', {text: result.message, header: 'Успешно!', type: 'success'});\r\n          this.$store.commit('setComponent', 'list');\r\n        }else\r\n          this.$store.commit('setMessage',{text : result.message,header : 'Возникла проблема!',type: 'error'});\r\n        this.loading = false;\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    this.getData();\r\n  },\r\n  watch: {\r\n    'queryData.name' : function(){\r\n      this.errors.name = null;\r\n    },\r\n    'queryData.functions' : function(){\r\n      this.errors.function = null;\r\n    },\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=0fcf7058&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fcf7058\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <component :is=\"component\"/>\r\n</template>\r\n\r\n<script>\r\nimport Add           from './add'\r\nimport List          from './list'\r\nimport Edit           from './edit'\r\n\r\nexport default {\r\n  name        : \"pageExchange\",\r\n  components  : {Add, List,Edit},\r\n  computed    : {\r\n    component : function(){\r\n      return this.$store.getters.component;\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./page.vue?vue&type=template&id=23f178b8&\"\nimport script from \"./page.vue?vue&type=script&lang=js&\"\nexport * from \"./page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div>\n  <div v-if=\"isToken\">\n    <el-menu :default-active=\"page\" mode=\"horizontal\" @select=\"setActiveMenu\" v-if=\"$store.getters.component === 'list' \">\n      <el-menu-item v-for=\"(item,key) in menu\" :index=\"key\" :key=\"key\">{{item}}</el-menu-item>\n      <el-menu-item class=\"menu-right-element\" @click=\"$store.commit('setComponent','add')\" v-if=\"page in addLang\">\n        <el-button class=\"menu-right-element-button\">\n          Добавить {{addLang[page]}}\n        </el-button>\n      </el-menu-item>\n    </el-menu>\n    <component :is=\"page + 'Page'\" />\n  </div>\n\n  <el-container v-else class=\"body-wrapper\">\n    <el-aside width=\"20px\" :style=\"error ? 'background-color: #F56C6C' : 'background-color: #909399'\"></el-aside>\n    <el-main>\n      <label>{{error ? error : 'Ожидание авторизации на сервере!'}}</label>\n    </el-main>\n  </el-container>\n\n  <div class=\"message_container\" v-if=\"'text' in $store.getters.message\">\n    <el-alert\n        :type=\"$store.getters.message.type\"\n        show-icon\n        :title=\"$store.getters.message.header\"\n        :description =\"$store.getters.message.description\"\n        @close=\"$store.commit('setMessage',{})\"\n    >\n      <template v-slot><span v-html=\"$store.getters.message.text\"/></template>\n    </el-alert>\n  </div>\n</div>\n</template>\n<script>\nimport requestPage from './components/request/page';\nimport documentPage from './components/document/page';\nimport functionPage from './components/function/page';\nimport usersPage from './components/users/page';\nimport accessPage from './components/access/page';\nimport storagePage from './components/storage'\nimport exchangePage from './components/exchange/page'\n\nexport default {\n  components : {documentPage, requestPage, functionPage, usersPage, accessPage, storagePage, exchangePage},\n  computed : {\n    page : function() {\n      return this.$store.getters.page;\n    },\n    component : function(){\n      return this.$store.getters.component;\n    },\n    user_id() {\n      return this.$store.getters.userId\n    },\n  },\n  data : function () {\n    return {\n      isToken     : false,\n      menu        : {\n        request    : 'Заявки',\n        document   : 'Документы',\n\n        users      : 'Группы пользователей',\n        access     : 'Права доступа',\n\n        //storage    : 'Варианты хранения оригинала',\n        //exchange   : 'Выгрузка'\n      },\n      addLang : {\n        request   : 'заявку',\n        function  : 'функцию',\n        users     : 'группу',\n        access    : 'привелегию',\n        exchange  : 'выгрузку'\n      },\n      error       : '',\n    }\n  },\n  methods : {\n    setActiveMenu(key) {\n      if (key == null) return false;\n\n      if (key !== this.$store.getters.page) {\n        this.$store.commit('setPage',key);\n        this.$store.commit('setPaginationPage', 1);\n        this.$store.commit('setPaginationSize', 10);\n      }\n      if (this.component !== 'list') this.$store.commit('setComponent','list');\n    },\n\n    async initData(){\n      if (window._userId)  {\n        this.$store.commit('setUserId', window._userId);\n      } else {\n        this.$store.commit('setUserId', null);\n        };\n\n      window._token ? window.token = window._token : window.token = '';\n\n      let result = await  this.$store.dispatch('query',{url : '/api/vicarious/home',data : { id : this.user_id} });\n      if (window.token) {\n          this.isToken = true; //в этом случае наверху отрисуется начальный компонент\n          this.error   = '';\n              if (result.charters) {\n                this.$store.commit('setCharters', result.charters);\n                this.manageMenu();\n              } else this.$store.commit('setCharters', []);\n\n              if (result.individuals) {\n                this.$store.commit('setIndividuals', result.individuals);\n                this.manageMenu();\n              } else this.$store.commit('setIndividuals', []);\n\n      } else {\n          this.$store.commit('setMessage',{text : 'Некорректный ответ сервера',header : 'Возникла проблема c токеном!', type: 'error'});\n          this.isToken = false;\n          this.error   = 'Возникла проблема с получением токена при авторизации на сервере!';\n          this.$store.commit('setCharters', []);\n        };\n    },\n    manageMenu(){\n     if (this.$store.getters.charters('root')) {\n        this.menu = {\n          request    : 'Заявки',\n          document   : 'Документы',\n          function   : 'Функционал',\n          users      : 'Группы пользователей',\n          access     : 'Права доступа',\n          storage    : 'Варианты хранения оригинала',\n          exchange   : 'Выгрузка'\n        };\n        return;\n      }\n\n     if (this.$store.getters.charters('manageRequest')) {\n        this.menu = {\n          request    : 'Заявки',\n          document   : 'Документы',\n          storage    : 'Варианты хранения оригинала'\n        };\n        return;\n      }\n\n     if (this.$store.getters.charters('manageFunction')) {\n       this.menu = {\n         request  : 'Заявки',\n         document : 'Документы',\n         function : 'Функционал',\n       };\n       return;\n     }\n    },\n  },\n  created() {\n    this.initData();\n  },\n}\n</script>\n<style>\n\n/*таблица деталки*/\n/*цвет текста*/\n.el-table {\n  color: black!important;\n\n}\n\n/*цвет полосок*/\n.el-table td, .el-table th.is-leaf\n{\n  border-bottom: 1px solid #e0e0e0 !important;\n\n}\n.el-table--border::after, .el-table--group::after, .el-table::before {\n  border-bottom: 1px solid #e0e0e0 !important;\n}\n\n/*цвет рамок*/\n.el-tabs--border-card {\n  border: 1px solid #cccccc !important;\n}\n.el-tabs--border-card>.el-tabs__header{\n  border-bottom: 1px solid #cccccc !important;\n}\n.el-tabs--border-card>.el-tabs__header .el-tabs__item.is-active{\n  border-left: 1px solid #cccccc !important;\n  border-right: 1px solid #cccccc !important;\n  color: #409EFF!important;\n}\n.el-tabs--border-card>.el-tabs__header .el-tabs__item {\n  color: black!important;\n}\n\n.el-button--info {\n  /*background-color:  #c4c4c4 !important;*/\n}\n\n.el-button--info.is-disabled, .el-button--info.is-disabled:active, .el-button--info.is-disabled:focus, .el-button--info.is-disabled:hover {\n  background-color:  #c4c4c4 !important;\n  border-collor: #c4c4c4 !important;\n}\n\n#workarea {\n  overflow-y: unset !important;\n}\n#workarea-content {\n  overflow: unset !important;\n}\n.workarea-content-paddings{\n  overflow-x: unset !important;\n}\n.message_container{\n  position: fixed;\n  top: 0;\n  right: 0;\n  padding: 10px 20px;\n  z-index: 9999;\n  max-width: 400px;\n}\n.menu-right-element{\n  float: right !important;\n}\n\n.menu-right-element-button{\n  background: #3bc8f5 !important;\n  border-color: #3bc8f5 !important;\n  color : white !important;\n  text-transform: uppercase;\n}\n.menu-right-element-button:hover{\n  background: #3fddff !important;\n}\n\n.el-button--primary{\n  background : #3bc8f5 !important;\n  border-color: #3bc8f5 !important;\n}\n\n.el-button--primary:hover{\n  background: #3fddff !important;\n}\n\n.body-button {\n  margin: 0px !important;\n  width: 22% ;\n  margin-right: 20px !important;\n}\n.body-button-color {\n  background: #3bc8f5 !important;\n  border-color: #3bc8f5 !important;\n  color : white !important;\n}\n\n.body-button-color:hover{\n  background: #3fddff !important;\n}\n\n.body-button button.el-button.el-button--info {\n  width: 100%;\n}\n\n.el-alert .el-alert__description{\n  margin: 5px 10px 0px 0px;\n}\n.mb15{\n  margin-bottom: 15px;\n}\n.el-col > label{\n  width: 100%;\n  display: block;\n  margin: 0 0 .28571429rem 0;\n  color: rgba(0,0,0,.87);\n  font-size: .92857143em;\n  font-weight: 700;\n  text-transform: none;\n}\n.fluid-button,\n.el-upload,\n.el-select,\n.el-date-editor.el-input,\n.el-date-editor.el-input__inner{\n  width: 100% !important;\n  margin-top: 5px;\n\n}\n.el-tag{\n  max-width: 98% !important;\n}\n.el-tag.el-tag--info .el-tag__close{\n  top: -7px !important;\n  right: 10px !important;\n}\n.el-select__tags-text{\n  overflow: hidden;\n  display: inline-block;\n  -ms-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  letter-spacing: .5px;\n  width: 100% !important;\n  padding-right: 10px !important;\n\n}\n.el-textarea__inner{\n  min-height: 40px !important;\n  white-space: normal !important;\n}\n.body-wrapper {\n  padding: 15px;\n}\n.component-wrapper {\n  margin-top: 15px;\n}\n.body-button-container {\n  display: flex;\n  box-sizing: border-box;\n  margin-top: 15px;\n  align-items: flex-end;\n}\n\n.fluid-button .el-upload, .el-select, .el-date-editor.el-input, .el-date-editor.el-input__inner{\n  margin: 0!important;\n}\n.column-body{\n  justify-content: left !important;\n}\n\n.tableWithOutHeader .el-table__header-wrapper {\n  display: none!important;\n}\n\n.label-color-grey {\n  background-color: #909399;\n}\n.label-color-green {\n  background-color: #67C23A;\n}\n.label-color-red {\n  background-color: #F56C6C;\n}\n\n.ps__thumb-x{\n  height: 11px !important;\n}\n\n.ps__rail-x {\n  opacity: 1 !important;\n}\n\n\nsmall {\n  color: #ff2400;\n}\n.invalid {\n  border:solid 1px;\n  border-color: #ff2400;\n}\n</style>\n\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=93ea04f0&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nVue.use(Vuex)\r\nexport default new Vuex.Store({\r\n    //ctx это контекст\r\n    // s это  state\r\n    // v это value\r\n    actions : {\r\n        async query (ctx, params){\r\n            if(!('type' in params)) params.type = 'json'\r\n\r\n            let body, header = {};\r\n\r\n            if(params.type == 'json'){\r\n                body = {\r\n                    token : window.token,\r\n                    ...params.data\r\n                }\r\n                header['Content-Type'] = 'application/json;charset=utf-8';\r\n            }else{\r\n                    body = params.data;\r\n                    body.append('token',window.token);\r\n                 }\r\n            try {\r\n                  let url = params.url;\r\n\r\n                  // исключительно для режима разработки в модуле. API  у нас подставляется.\r\n                  // if (process.env.NODE_ENV === 'development') url = url.slice(4);\r\n\r\n                  let query = await fetch(ctx.getters.domain + url, {\r\n                    method: 'post',\r\n                    headers: header,\r\n                    body: params.type == 'json' ? JSON.stringify(body) : body\r\n                  });\r\n                  let result = null;\r\n                  params.downloadRequest ? result = query :  result = await query.json();\r\n                  return result;\r\n            }catch(e){\r\n                  return {'status' : 'error','message' : 'Некорректный ответ сервера'};\r\n            }\r\n        },\r\n\r\n        normalizeFilterData(ctx, data){\r\n            let normalFilter = {};\r\n            for (let key in data){\r\n                if ((data[key].type === 'number' || data[key].type === 'date')         && data[key].min)                normalFilter[key] = data[key];\r\n                if ((data[key].type === 'list'   || data[key].type === 'searchlist')   && data[key].value.length > 0 )  normalFilter[key] = data[key];\r\n            }\r\n            return normalFilter;\r\n        },\r\n\r\n        formIsValid(ctx, data){\r\n            let errors = {};\r\n            if (!data.queryData.documentType)                                               errors.documentType = 'Необходимо выбрать тип доверенности!' ;\r\n            if (!data.queryData.company)                                                    errors.company      = 'Необходимо выбрать организацию!';\r\n            if (data.queryData.users instanceof Array && data.queryData.users.length <= 0)  errors.users        = 'Необходимо выбрать получателя!'\r\n                else  if (!data.queryData.users)                                            errors.users        = 'Необходимо выбрать получателя!';\r\n\r\n            if (data.queryData.functions.length <= 0 && !data.queryData.comment && !data.queryData.isFile)\r\n                errors.functions    = 'Необходимо выбрать функционал или указать комментарий или прикрепить файл!';\r\n\r\n            if(!data.queryData.dateStart)                                                   errors.dateStart    = 'Необходимо указать начало действия документа!';\r\n            if(!data.queryData.dateFinal)                                                   errors.dateFinal    = 'Необходимо указать окончание действия документа!';\r\n            if (data.queryData.dateStart && data.queryData.dateFinal) {\r\n                if (Number(data.queryData.dateFinal.split('.').reverse().join('')) - Number(data.queryData.dateStart.split('.').reverse().join('')) < 0) {\r\n                    errors.date = 'Дата начала действия документа не может быть позже даты окончания действия документа!'\r\n                }\r\n            }\r\n            return errors;\r\n        },\r\n    },\r\n    mutations : {\r\n        setLoading(s,v){\r\n             s.loading = v;\r\n        },\r\n        setPage(s,v){\r\n            s.previousPage = s.page;\r\n            s.page         = v;\r\n            s.component    = '';\r\n        }, // тут же сохраняется предыдущая страница\r\n        setComponent(s,v){\r\n            s.component = v;\r\n        },\r\n        setComponentParams(s,v){\r\n            s.componentParams = v;\r\n        },\r\n        setMessage(s,v){\r\n            s.message = v;\r\n            setTimeout(() => {s.message = {}},7000);\r\n        },\r\n        setPaginationPage(s,v){\r\n            s.paginationPage = v;\r\n        },\r\n        setPaginationSize(s,v){\r\n            s.paginationSize = v;\r\n        },\r\n        setUserId(s,v){\r\n            s.userId = v;\r\n        },\r\n        setCreatorId(s,v){\r\n            s.creatorId = v;\r\n        },\r\n        setResponsibleId(s,v){\r\n            s.responsibleId = v;\r\n        },\r\n        setCharters(s,v){\r\n            s.charters = v;\r\n        },\r\n        setIndividuals(s,v){\r\n            s.individuals =v;\r\n        },\r\n        setDocumentId(s,v){\r\n            s.documentId = v;\r\n        },\r\n        setDocumentName(s,v){\r\n            s.documentName = v;\r\n        },\r\n        setGenDocument(s,v){\r\n            v === 1 ?  s.genDocument = true : s.genDocument = false;\r\n        },\r\n        document_project(s,v){\r\n            s.document_project = v;\r\n        },\r\n        projectFile(s,v){\r\n            s.projectFile = v;\r\n        },\r\n        setSignature(s,v){\r\n            v === 1 ?  s.signature = true : s.signature = false;\r\n        },\r\n        setDocumentStorage(s,v){\r\n            s.documentStorage = v;\r\n        },\r\n        setRequestId(s,v){\r\n            s.requestId = v;\r\n        },\r\n        setExchangeId(s,v){\r\n            s.exchangeId = v;\r\n        },\r\n        setRequestState(s,v){\r\n            s.requestState = v;\r\n        },\r\n    },\r\n    state : {\r\n        userId              : null,\r\n        creatorId           : null,\r\n        responsibleId       : null,\r\n\r\n        componentParams     : {},\r\n\r\n        documentId          : null,\r\n        genDocument         : false,\r\n        document_project    : false,\r\n        projectFile         : '',\r\n        signature           : false,\r\n        documentName        : null,\r\n        documentStorage     : null,\r\n\r\n        requestId           : null,\r\n        requestState        : {},\r\n\r\n        exchangeId          : {},\r\n\r\n        loading             : false,\r\n        charters            : [],\r\n        individuals         : [],\r\n\r\n        //domain              : 'https://vc.bsi.local',\r\n        //domain              : 'https://bitrix.bsi.local',\r\n        domain              :  process.env.NODE_ENV === 'production' ? window.location.origin : 'https://vc.bsi.local',\r\n\r\n        page                : 'request',\r\n        previousPage        : '',\r\n        component           : 'list',\r\n\r\n        message             : {},\r\n        paginationPage      : 1,\r\n        paginationSize      : 10,\r\n\r\n        function_type       : [\r\n            {key : 'in',        value : 'in',       label : 'Входящая'},\r\n            {key : 'out',       value : 'out',      label : 'Исходящая'},\r\n            {key : 'int',       value : 'int',      label : 'Внутренняя'}\r\n        ],\r\n        queryType           : [\r\n            {value : 'personal', label : 'Персональная'},\r\n            {value : 'complex',  label : 'По требованию'}\r\n        ],\r\n        queryTypeDocument   : [\r\n            {value : 'special',   label : 'Специальная'},\r\n            //{value : 'only',      label : 'Разовая'},\r\n            {value : 'notarial',  label : 'Нотариальная'}\r\n        ],\r\n        queryStatusDocument : [\r\n            {value : 'for_signature',   label : 'Подготовка, на подписании'},\r\n            {value : 'active',          label : 'Действующий'},\r\n            {value : 'cancel',          label : 'Аннулирован'},\r\n            {value : 'terminated',      label : 'Действие прекращено досрочно'},\r\n            {value : 'expiration_date', label : 'Действие прекращено по сроку'},\r\n        ],\r\n        statusList          : [\r\n            {value : 'created',       label : 'Заявка создана'},\r\n            {value : 'performed',     label : 'Принята в работу'},\r\n            {value : 'rejected',      label : 'Заявка отклонена'},\r\n            {value : 'pending_agree', label : 'На согласовании'},\r\n            {value : 'agree',         label : 'Согласовна'},\r\n            {value : 'completed',     label : 'Выполнена'},\r\n            {value : 'deleted',       label : 'Удалена'},\r\n        ],\r\n    },\r\n    getters : {\r\n        loading             : s => s.loading,\r\n        domain              : s => s.domain,\r\n        page                : s => s.page,\r\n        previousPage        : s => s.previousPage,\r\n        component           : s => s.component,\r\n        message             : s => s.message,\r\n\r\n        function_type       : s => s.function_type,\r\n        queryType           : s => s.queryType,\r\n        queryTypeDocument   : s => s.queryTypeDocument,\r\n        queryStatusDocument : s => s.queryStatusDocument,\r\n        statusList          : s => s.statusList,\r\n\r\n        paginationPage      : s => s.paginationPage,\r\n        paginationSize      : s => s.paginationSize,\r\n\r\n        componentParams    : s=> s .componentParams,\r\n\r\n        documentId          : s => s.documentId,\r\n        documentStorage     : s => s.documentStorage,\r\n        documentName        : s => s.documentName,\r\n        document_project    : s => s.document_project,\r\n        projectFile         : s => s.projectFile,\r\n        genDocument         : s => s.genDocument,\r\n        signature           : s => s.signature,\r\n\r\n        requestId           : s => s.requestId,\r\n        requestState        : s => s.requestState,\r\n\r\n        exchangeId          : s => s.exchangeId,\r\n\r\n        userId              : s => s.userId,\r\n\r\n        charters            : s => char => { return s.charters.indexOf(char) >= 0 ? true : false },\r\n\r\n        individuals         : s => s.individuals,\r\n\r\n        isCreator           : s =>         { return s.userId === s.creatorId      ? true : false },\r\n        isResponsible       : s =>         { return s.userId === s.responsibleId  ? true : false },\r\n    },\r\n});\r\n// elements: function(s){\r\n//     return function(name){ return s.grid[name].elements }\r\n// }\r\n//\r\n","import Vue from 'vue';\nimport App from './App.vue';\nimport store from './store';\nimport VGD from 'volumetric-datagrid'\n\nVue.use(VGD);\n\nVue.config.productionTip = true;\n\n//console.log(process.env.NODE_ENV);\n\n//window._userId = 13048;\n//window._token  = '$2y$10$OOyb6fCHwqiaXWRIwKxf1.MA7b7lizXFu8J.0M6XhdJqLM6G.3ipO';\n\n//window._userId = 5587;\n//window._token  = '$2y$10$XIAw.w3oHZgx1quSe.Rz/.dldqaiaa5UnkFGnyqL.lH3/0neA6A4u';\n\n//window._userId = 13596;\n//window._token  = '$2y$10$aLOKMzgnPZ1tZ1YtlA.h.OF5S/sUd4SmWdcnQgG4TAIAZizPV6HKi';\n\n\nVue.prototype.$eventBus = new Vue();\n\nVue.directive('eventBus',{\n bind(el,binding){\n    Vue.prototype.$eventBus.$on(binding.arg, binding.value)\n },\n unbind(){\n     Vue.prototype.$eventBus.$off()\n },\n});\n\nnew Vue({\n  store,\n  render(h){ return h(App) },\n}).$mount('#app')\n\n\n\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=style&index=0&id=93a62786&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./connect.vue?vue&type=style&index=0&id=29877766&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=d512c330&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=bb0e2238&scoped=true&lang=css&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pending.vue?vue&type=style&index=0&id=1bcac3a0&scoped=true&lang=css&\""],"sourceRoot":""}